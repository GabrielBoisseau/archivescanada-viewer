function OpenSeadragon(a){return new OpenSeadragon.Viewer(a)}!function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.settings=a.extend({},h,c),this._defaults=h,this._name=g,this.displayMode=1,this.manifest=null,this.currentPage=0,this.pages=[],this.carousel=null,this.init()}var f,g="harmonizedViewer",h={locale:"en-GB",manifest:null,navigation:{enableCustomScrollbar:!0}};a.extend(e.prototype,{init:function(){this.events={},this.initSpinner(),this.initToolbar(),this.loadManifest();var b=this;this.bindEventControls("page"),this.bindEventControls("previous"),this.bindEventControls("next"),this.bindEventControls("navigation"),this.bindEventControls("metadata"),this.bindEventControls("gallery"),this.bindEventControls("displayMode"),this.addHandler("navigation",function(){b.toggleSidebar(".hv-sidebar__navigation")}),this.addHandler("gallery",function(){b.toggleSidebar(".hv-overlay__gallery")}),this.addHandler("metadata",function(){b.toggleSidebar(".hv-sidebar__metadata")}),this.addHandler("displayMode",function(a){var c=parseInt(a.displayMode);b.displayMode=1===c||2===c?c:1,b.initOpenSeadragon()}),this.addHandler("previous",function(){b.goTo(b.currentPage-b.displayMode)}),this.addHandler("next",function(){b.goTo(b.currentPage+b.displayMode)}),this.addHandler("page",function(){b.enableNavigationPrevious(b.isFirstPage()),b.enableNavigationNext(b.isLastPage()),a(b.element).find(".hv-navigation__carousel")[0].swiper.slideTo(b.currentPage);var c=a(b.element).find(".hv-navigation__item--active");b.scrollTo(c)}),this.addHandler("loaded",function(){b.getViewport().removeClass("hv-viewport--loading"),b.hideSpinner(),a(f.element).show(),b.enableToolbar(".hv-toolbar__secondary"),b.updateNavigationControls()})},populateAnnotations:function(){var b=this.getSidebar(".hv-sidebar__metadata"),c=a("<div/>").addClass("hv-sidebar-content").appendTo(b),d=a("<dl/>").addClass("hv-annotations").appendTo(c);a.each(this.manifest.getMetadata(),function(b,c){a("<dt/>").text(c.getLabel()).appendTo(d),a("<dd/>").html(c.getValue()).appendTo(d),d.append(d)})},populateNavigation:function(){var b=this,c=this.getSidebar(".hv-sidebar__navigation"),e=this.getSidebar(".hv-overlay__gallery"),f=c.find(".hv-navigation__items"),g=e.find(".hv-navigation__items"),h=[];this.manifest.getSequenceByIndex(0).getCanvases().forEach(function(a){var c=a.getImages()[0],e=a.getLabel()[0],f=b.getThumbnail(c,d,120);h.push({title:e.value,imageUrl:f})});var i=a("<ol/>");h.forEach(function(c,d){var e=a("<li/>").attr("data-index",d).appendTo(i),f=a("<a/>").attr("href","javascript:;").addClass("hv-navigation__item").attr("title",c.title).attr("data-toggle","page").attr("data-page",d).appendTo(e);b.createThumbnail(c.imageUrl).appendTo(f)}),f.html(i[0].outerHTML),g.html(i[0].outerHTML),c.mCustomScrollbar({skin:"inset-3-dark",scrollInertia:250,keyboard:{enable:!1},advanced:{autoScrollOnFocus:".hv-navigation__item"}}),e.mCustomScrollbar({skin:"inset-3-dark",scrollInertia:250,keyboard:{enable:!1},advanced:{autoScrollOnFocus:".hv-navigation__item"}});var j=a(this.element).find(".hv-navigation__carousel .swiper-wrapper");h.forEach(function(c){var d=a("<li/>").addClass("swiper-slide").css({width:"90px",height:"90px"}).appendTo(j);b.createThumbnail(c.imageUrl).appendTo(d)}),this.carousel=new Swiper(".hv-navigation__carousel",{slidesPerView:"auto",centeredSlides:!0,slidesPerColumnFill:"row",spaceBetween:10}),this.initLazyLoading();var k={trigger:"hover focus",placement:"bottom",template:'<div class="tooltip hv-tooltip" role="tooltip"><div class="tooltip-inner"></div></div>'};c.find(".hv-navigation__item").tooltip(k),e.find(".hv-navigation__item").tooltip(k),c.keydown(function(a){switch(a.which){case 37:case 38:c.find(".hv-navigation__item:focus").parent().prev().children(".hv-navigation__item").eq(0).focus();break;case 39:case 40:c.find(".hv-navigation__item:focus").parent().next().children(".hv-navigation__item").eq(0).focus();break;default:return}a.preventDefault()})},goTo:function(a){return a<0?void console.error("Page index must be equal to or greater than zero."):a>this.pages.length-1?void console.error("Page index must be less than the total number of pages."):(this.currentPage=a,this.initOpenSeadragon(),void this.raiseEvent("page",{page:a}))},isFirstPage:function(){return this.currentPage<this.displayMode},isLastPage:function(){return this.currentPage>=this.pages.length-1-(this.displayMode-1)},getThumbnail:function(a,b,c){var e=a.getResource(),f=e.getServices()[0];return this.format("{0}/full/{1},{2}/0/default.{3}",f.id,b!==d?b:"",c!==d?c:"","jpg")},setManifestLabel:function(b){a(this.element).find(".hv-manifest-label").html(b)},bindProperty:function(b,c){a(this.element).find("[data-bind]").filter(function(){return a(this).attr("data-bind").toLowerCase().indexOf(b.toLowerCase())>-1}).text(c)},getContent:function(){return a(this.element).find(".hv-content")},getViewport:function(){return a(this.element).find(".hv-viewport")},getSidebar:function(b){return a(this.element).find(b)},openSidebar:function(a){var b=this.getSidebar(a).removeClass("hv-sidebar--closing hv-sidebar--closed hv-sidebar--opened").addClass("hv-sidebar--opening"),c=b.hasClass("hv-sidebar__right")?"slideInRight":b.hasClass("hv-sidebar__top")?"slideInUp":b.hasClass("hv-sidebar__bottom")?"slideInDown":"slideInLeft";this.animate(b,c,function(){b.addClass("hv-sidebar--opened")}),this.resizeViewport()},closeSidebar:function(a){var b=this.getSidebar(a).removeClass("hv-sidebar--opening hv-sidebar--opened hv-sidebar--closed").addClass("hv-sidebar--closing"),c=b.hasClass("hv-sidebar__right")?"slideOutRight":b.hasClass("hv-sidebar__top")?"slideOutUp":b.hasClass("hv-sidebar__bottom")?"slideOutDown":"slideOutLeft";this.animate(b,c,function(){b.addClass("hv-sidebar--closed")}),this.resizeViewport()},isSidebarOpened:function(a){var b=this.getSidebar(a);return b.hasClass("hv-sidebar--opened")||b.hasClass("hv-sidebar--opening")},resizeViewport:function(){var a=this.caculateSidebarWidth(".hv-sidebar.hv-sidebar__push.hv-sidebar__left"),b=this.caculateSidebarWidth(".hv-sidebar.hv-sidebar__push.hv-sidebar__right");this.getContent().find(".hv-content__container").css("padding-left",this.format("{0}px",a)).css("padding-right",this.format("{0}px",b))},caculateSidebarWidth:function(b){var c=this,d=0;return a(this.element).find(b).each(function(){c.isSidebarOpened(this)&&(d+=a(this).outerWidth())}),d},toggleSidebar:function(a){this.isSidebarOpened(a)?this.closeSidebar(a):this.openSidebar(a)},enableButton:function(b,c){void 0===c&&(c=!0),a(this.element).find(b).prop("disabled",!c)},disableButton:function(a,b){return this.enableButton(a,!1)},initSpinner:function(){this.showSpinner()},getSpinner:function(){var b=this.getViewport(),c=b.find(".hv-spinner");if(0===c.length){c=a("<div/>").addClass("hv-spinner animated fadeIn delay-1s").attr("role","status").appendTo(b);var d=a("<div/>").addClass("spinner-border").appendTo(c);a("<span/>").addClass("sr-only").text("Loading...").appendTo(d)}return c},showSpinner:function(){this.getSpinner().show()},hideSpinner:function(){this.getSpinner().hide()},initToolbar:function(){a(this.element).on("click",".hv-button-toggle",function(){a(this).toggleClass("hv-button-toggle--active")})},enableToolbar:function(b,c){void 0===c&&(c=!0),a(this.element).find(b).find(".hv-button").prop("disabled",!c)},disableToolbar:function(a){this.enableToolbar(a,!1)},scrollTo:function(b){var c=this.getSidebar(".hv-sidebar__navigation");this.settings.navigation.enableCustomScrollbar?c.mCustomScrollbar("scrollTo",a(b)):a(b)[0].scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},enableNavigation:function(a){this.enableNavigationPrevious(a),this.enableNavigationNext(a)},disableNavigation:function(){return this.enableNavigation(!1)},enableNavigationPrevious:function(a){var b=this.getViewport().find(".hv-viewport__prev");return this.enableButton(b,a)},disableNavigationPrevious:function(){return enableNavigationPrevious(!1)},enableNavigationNext:function(a){var b=this.getViewport().find(".hv-viewport__next");return this.enableButton(b,a)},disableNavigationNext:function(){return enableNavigationNext(!1)},updateNavigationControls:function(){var b=f.currentPage();this.getEventControls("previous").prop("disabled",this.isFirstPage()),this.getEventControls("next").prop("disabled",this.isLastPage()),a(this.element).find(".hv-sidebar__navigation ol > li .hv-navigation__item").removeClass("hv-navigation__item--active"),a(this.element).find(".hv-sidebar__navigation ol > li[data-index="+b+"] .hv-navigation__item").addClass("hv-navigation__item--active")},getManifestCanvas:function(a){return this.manifest.getSequenceByIndex(0).getCanvasByIndex(a)},bindEventControls:function(b,d){var e=this;a(c).find(this.element).on("click","[data-toggle="+b+"]",function(){e.raiseEvent(b,a(this).data())})},getEventControls:function(b){return a(this.element).find("[data-toggle="+b+"]")},raiseEvent:function(a,b){var c=this.getHandler(a);c&&(b||(b={}),c(this,b))},addHandler:function(a,b,c){var d=this.events[a];d||(this.events[a]=d=[]),b&&"function"==typeof b&&(d[d.length]={handler:b,userData:c||null})},getHandler:function(a){var b=this.events[a];return b&&b.length?(b=1===b.length?[b[0]]:Array.apply(null,b),function(a,c){var d,e=b.length;for(d=0;d<e;d++)b[d]&&(c.eventSource=a,c.userData=b[d].userData,b[d].handler(c))}):null},createThumbnail:function(b){return a("<img/>").attr("src","data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==").addClass("hv-thumbnail hv-lazy").attr("data-src",b).attr("data-srcset",this.format("{0} 1x",b))},initOpenSeadragon:function(){var b=this;f!==d&&(f.destroy(),f=null);var c=this.getViewport();c.find(".hv-openseadragon").remove();var e=a("<div/>").addClass("hv-openseadragon").hide().width("100%").height("100%").appendTo(c),g=this.getUniqueId(e[0]),h=b.pages.slice(b.currentPage,b.currentPage+b.displayMode);f=new OpenSeadragon({id:g,prefixUrl:"../node_modules/openseadragon/build/openseadragon/images/",tileSources:h,sequenceMode:!1,collectionMode:!0,collectionRows:1,collectionColumns:1,collectionLayout:"horizontal",collectionTileMargin:30,showNavigator:!0,navigatorPosition:"BOTTOM_RIGHT",showNavigationControl:!1,showSequenceControl:!1,minZoomImageRatio:1,preserveViewport:!0,animationTime:.25,springStiffness:10}),f.addHandler("open",function(a){b.setManifestLabel(b.manifest.getDefaultLabel()),b.raiseEvent("loaded",a)}),f.addHandler("page",function(a){}),f.addHandler("tile-loaded",function(a){b.raiseEvent("tile-loaded",a)}),f.addHandler("open-failed",function(c){a(f.element).hide(),b.showError(c)}),f.addHandler("animation",function(){var c=f.viewport.getMinZoom(),d=f.viewport.getMaxZoom(),e=f.viewport.getZoom(!1),g=Math.round(100*(e-c)/(d-c),0);a(b.element).find(".hv-zoom").text(b.format("{0}%",g))})},loadManifest:function(){var a=this;manifesto.loadManifest(this.settings.manifest).then(function(b){a.manifest=manifesto.create(b),a.manifest.getSequences()[0].getCanvases().map(function(a){return a.getImages()[0].getResource().getServices()[0].id+"/info.json"}).forEach(function(b){a.pages.push(b)}),a.bindProperty("TotalPages",a.pages.length),a.initOpenSeadragon(),a.initPageSlider(),a.populateAnnotations(),a.populateNavigation()},function(b){console.error(b),a.hideSpinner(),a.showError(b)})},initPageSlider:function(){var b=this.manifest.getSequenceByIndex(0).getCanvases().length,c=a(this.element).find(".hv-pageslider")[0];noUiSlider.create(c,{start:[1],step:1,range:{min:[1],max:[b]},behaviour:"hover-snap"});var d=this;a(c).hover(function(){},function(){a(".hv-tooltip").remove()}),a(c).mousemove(function(a){d.setSliderTooltipPosition(c,{x:a.pageX,y:a.pageY})}),c.noUiSlider.on("hover",function(a){var b=parseInt(a)-1;d.updateSliderPreview(b)}),c.noUiSlider.on("slide",function(a,b){var c=parseInt(a[b])-1;d.updateSliderPreview(c)}),c.noUiSlider.on("end",function(a,b){})},setSliderTooltipPosition:function(c,d){var e=a(".hv-tooltip"),f=a(c).offset().top,g=a(b).height()-f;e.css({bottom:g,left:d.x-e.outerWidth()/2})},updateSliderPreview:function(b){var c=this.getManifestCanvas(b),e=c.getImages(0)[0],f=this.getThumbnail(e,d,120);if(0===a(".hv-tooltip").length){var g=a("<div/>").addClass("hv-tooltip animated bounceIn2 faster").attr("role","tooltip").appendTo("body"),h=(a("<div/>").addClass("arrow").appendTo(g),a("<div/>").addClass("tooltip-inner").appendTo(g));a("<img/>").addClass("hv-thumbnail").appendTo(h)}a(".hv-tooltip").find("img").one("load",function(){a(".hv-tooltip").find(".arrow").css({left:a(this).width()/2})}).attr("src",f)},getUniqueId:function(b){var c=a(b).attr("id");if(c)return c;var d=6,e="0123456789abcdef".split("");d||(d=Math.floor(Math.random()*e.length));for(var f="",g=0;g<d;g++)f+=e[Math.floor(Math.random()*e.length)];var h=this.format("#{0}",f);return 0==a(h).length?(a(b).attr("id",f),f):this.getUniqueId(b)},format:function(a){for(var b=0;b<arguments.length-1;b++){var c=new RegExp("\\{"+b+"\\}","gi");a=a.replace(c,arguments[b+1])}return a},showError:function(b){this.hideSpinner();var c=a("<div />").addClass("hv-error");a("<span/>").addClass("hv-error-icon").addClass("hv-icon hv-icon__alert-triangle").appendTo(c),a("<div/>").addClass("hv-error-text").html("An unexpected error occurred.<br />Please try again later.").appendTo(c),this.debug&&a("<div />").addClass("hv-debug").html(b.message).appendTo(c);var d=this.getViewport();c.appendTo(d)},animate:function(b,c,d){function e(){f.removeClass("animated").removeClass(c),f[0].removeEventListener("animationend",e),"function"==typeof d&&d()}var f=a(this.element).find(b);f.addClass("animated").addClass(c),f[0].addEventListener("animationend",e)},initLazyLoading:function(){var d=[].slice.call(c.querySelectorAll(".hv-lazy"));if(a(d).addClass("hv-lazy--pending"),"IntersectionObserver"in b){var e=new IntersectionObserver(function(a,b){a.forEach(function(a){if(a.isIntersecting){var b=a.target;b.src=b.dataset.src,b.srcset=b.dataset.srcset,b.classList.remove("hv-lazy--pending"),b.classList.add("hv-lazy--loaded"),e.unobserve(b)}})});d.forEach(function(a){e.observe(a)})}}}),a.fn.harmonizedViewer=function(b){return this.each(function(){a.data(this,"plugin_"+g)||a.data(this,"plugin_"+g,new e(this,b))})}}(jQuery,window,document),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports,require("jquery")):"function"==typeof define&&define.amd?define(["exports","jquery"],b):(a=a||self,b(a.bootstrap={},a.jQuery))}(this,function(a,b){"use strict";function c(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function d(a,b,d){return b&&c(a.prototype,b),d&&c(a,d),a}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function f(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){e(a,b,c[b])})}return a}function g(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}function h(a){return{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase()}function i(){return{bindType:va,delegateType:va,handle:function(a){if(b(a.target).is(this))return a.handleObj.handler.apply(this,arguments)}}}function j(a){var c=this,d=!1;return b(this).one(ya.TRANSITION_END,function(){d=!0}),setTimeout(function(){d||ya.triggerTransitionEnd(c)},a),this}function k(){b.fn.emulateTransitionEnd=j,b.event.special[ya.TRANSITION_END]=i()}function l(a){var b=!1;return function(){b||(b=!0,window.Promise.resolve().then(function(){b=!1,a()}))}}function m(a){var b=!1;return function(){b||(b=!0,setTimeout(function(){b=!1,a()},yb))}}function n(a){var b={};return a&&"[object Function]"===b.toString.call(a)}function o(a,b){if(1!==a.nodeType)return[];var c=a.ownerDocument.defaultView,d=c.getComputedStyle(a,null);return b?d[b]:d}function p(a){return"HTML"===a.nodeName?a:a.parentNode||a.host}function q(a){if(!a)return document.body;switch(a.nodeName){case"HTML":case"BODY":return a.ownerDocument.body;case"#document":return a.body}var b=o(a),c=b.overflow,d=b.overflowX;return/(auto|scroll|overlay)/.test(c+b.overflowY+d)?a:q(p(a))}function r(a){return 11===a?Cb:10===a?Db:Cb||Db}function s(a){if(!a)return document.documentElement;for(var b=r(10)?document.body:null,c=a.offsetParent||null;c===b&&a.nextElementSibling;)c=(a=a.nextElementSibling).offsetParent;var d=c&&c.nodeName;return d&&"BODY"!==d&&"HTML"!==d?-1!==["TH","TD","TABLE"].indexOf(c.nodeName)&&"static"===o(c,"position")?s(c):c:a?a.ownerDocument.documentElement:document.documentElement}function t(a){var b=a.nodeName;return"BODY"!==b&&("HTML"===b||s(a.firstElementChild)===a)}function u(a){return null!==a.parentNode?u(a.parentNode):a}function v(a,b){if(!(a&&a.nodeType&&b&&b.nodeType))return document.documentElement;var c=a.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING,d=c?a:b,e=c?b:a,f=document.createRange();f.setStart(d,0),f.setEnd(e,0);var g=f.commonAncestorContainer;if(a!==g&&b!==g||d.contains(e))return t(g)?g:s(g);var h=u(a);return h.host?v(h.host,b):v(a,u(b).host)}function w(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",c="top"===b?"scrollTop":"scrollLeft",d=a.nodeName;if("BODY"===d||"HTML"===d){var e=a.ownerDocument.documentElement;return(a.ownerDocument.scrollingElement||e)[c]}return a[c]}function x(a,b){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=w(b,"top"),e=w(b,"left"),f=c?-1:1;return a.top+=d*f,a.bottom+=d*f,a.left+=e*f,a.right+=e*f,a}function y(a,b){var c="x"===b?"Left":"Top",d="Left"===c?"Right":"Bottom";return parseFloat(a["border"+c+"Width"],10)+parseFloat(a["border"+d+"Width"],10)}function z(a,b,c,d){return Math.max(b["offset"+a],b["scroll"+a],c["client"+a],c["offset"+a],c["scroll"+a],r(10)?parseInt(c["offset"+a])+parseInt(d["margin"+("Height"===a?"Top":"Left")])+parseInt(d["margin"+("Height"===a?"Bottom":"Right")]):0)}function A(a){var b=a.body,c=a.documentElement,d=r(10)&&getComputedStyle(c);return{height:z("Height",b,c,d),width:z("Width",b,c,d)}}function B(a){return Hb({},a,{right:a.left+a.width,bottom:a.top+a.height})}function C(a){var b={};try{if(r(10)){b=a.getBoundingClientRect();var c=w(a,"top"),d=w(a,"left");b.top+=c,b.left+=d,b.bottom+=c,b.right+=d}else b=a.getBoundingClientRect()}catch(l){}var e={left:b.left,top:b.top,width:b.right-b.left,height:b.bottom-b.top},f="HTML"===a.nodeName?A(a.ownerDocument):{},g=f.width||a.clientWidth||e.right-e.left,h=f.height||a.clientHeight||e.bottom-e.top,i=a.offsetWidth-g,j=a.offsetHeight-h;if(i||j){var k=o(a);i-=y(k,"x"),j-=y(k,"y"),e.width-=i,e.height-=j}return B(e)}function D(a,b){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=r(10),e="HTML"===b.nodeName,f=C(a),g=C(b),h=q(a),i=o(b),j=parseFloat(i.borderTopWidth,10),k=parseFloat(i.borderLeftWidth,10);c&&e&&(g.top=Math.max(g.top,0),g.left=Math.max(g.left,0));var l=B({top:f.top-g.top-j,left:f.left-g.left-k,width:f.width,height:f.height});if(l.marginTop=0,l.marginLeft=0,!d&&e){var m=parseFloat(i.marginTop,10),n=parseFloat(i.marginLeft,10);l.top-=j-m,l.bottom-=j-m,l.left-=k-n,l.right-=k-n,l.marginTop=m,l.marginLeft=n}return(d&&!c?b.contains(h):b===h&&"BODY"!==h.nodeName)&&(l=x(l,b)),l}function E(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=a.ownerDocument.documentElement,d=D(a,c),e=Math.max(c.clientWidth,window.innerWidth||0),f=Math.max(c.clientHeight,window.innerHeight||0),g=b?0:w(c),h=b?0:w(c,"left");return B({top:g-d.top+d.marginTop,left:h-d.left+d.marginLeft,width:e,height:f})}function F(a){var b=a.nodeName;if("BODY"===b||"HTML"===b)return!1;if("fixed"===o(a,"position"))return!0;var c=p(a);return!!c&&F(c)}function G(a){if(!a||!a.parentElement||r())return document.documentElement;for(var b=a.parentElement;b&&"none"===o(b,"transform");)b=b.parentElement;return b||document.documentElement}function H(a,b,c,d){var e=arguments.length>4&&void 0!==arguments[4]&&arguments[4],f={top:0,left:0},g=e?G(a):v(a,b);if("viewport"===d)f=E(g,e);else{var h=void 0;"scrollParent"===d?(h=q(p(b)),"BODY"===h.nodeName&&(h=a.ownerDocument.documentElement)):h="window"===d?a.ownerDocument.documentElement:d;var i=D(h,g,e);if("HTML"!==h.nodeName||F(g))f=i;else{var j=A(a.ownerDocument),k=j.height,l=j.width;f.top+=i.top-i.marginTop,f.bottom=k+i.top,f.left+=i.left-i.marginLeft,f.right=l+i.left}}c=c||0;var m="number"==typeof c;return f.left+=m?c:c.left||0,f.top+=m?c:c.top||0,f.right-=m?c:c.right||0,f.bottom-=m?c:c.bottom||0,f}function I(a){return a.width*a.height}function J(a,b,c,d,e){var f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===a.indexOf("auto"))return a;var g=H(c,d,f,e),h={top:{width:g.width,height:b.top-g.top},right:{width:g.right-b.right,height:g.height},bottom:{width:g.width,height:g.bottom-b.bottom},left:{width:b.left-g.left,height:g.height}},i=Object.keys(h).map(function(a){return Hb({key:a},h[a],{area:I(h[a])})}).sort(function(a,b){return b.area-a.area}),j=i.filter(function(a){var b=a.width,d=a.height;return b>=c.clientWidth&&d>=c.clientHeight}),k=j.length>0?j[0].key:i[0].key,l=a.split("-")[1];return k+(l?"-"+l:"")}function K(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return D(c,d?G(b):v(b,c),d)}function L(a){var b=a.ownerDocument.defaultView,c=b.getComputedStyle(a),d=parseFloat(c.marginTop||0)+parseFloat(c.marginBottom||0),e=parseFloat(c.marginLeft||0)+parseFloat(c.marginRight||0);return{width:a.offsetWidth+e,height:a.offsetHeight+d}}function M(a){var b={left:"right",right:"left",bottom:"top",top:"bottom"};return a.replace(/left|right|bottom|top/g,function(a){return b[a]})}function N(a,b,c){c=c.split("-")[0];var d=L(a),e={width:d.width,height:d.height},f=-1!==["right","left"].indexOf(c),g=f?"top":"left",h=f?"left":"top",i=f?"height":"width",j=f?"width":"height";return e[g]=b[g]+b[i]/2-d[i]/2,e[h]=c===h?b[h]-d[j]:b[M(h)],e}function O(a,b){return Array.prototype.find?a.find(b):a.filter(b)[0]}function P(a,b,c){if(Array.prototype.findIndex)return a.findIndex(function(a){return a[b]===c});var d=O(a,function(a){return a[b]===c});return a.indexOf(d)}function Q(a,b,c){return(void 0===c?a:a.slice(0,P(a,"name",c))).forEach(function(a){a.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var c=a.function||a.fn;a.enabled&&n(c)&&(b.offsets.popper=B(b.offsets.popper),b.offsets.reference=B(b.offsets.reference),b=c(b,a))}),b}function R(){if(!this.state.isDestroyed){var a={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};a.offsets.reference=K(this.state,this.popper,this.reference,this.options.positionFixed),a.placement=J(this.options.placement,a.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),a.originalPlacement=a.placement,a.positionFixed=this.options.positionFixed,a.offsets.popper=N(this.popper,a.offsets.reference,a.placement),a.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",a=Q(this.modifiers,a),this.state.isCreated?this.options.onUpdate(a):(this.state.isCreated=!0,this.options.onCreate(a))}}function S(a,b){return a.some(function(a){var c=a.name;return a.enabled&&c===b})}function T(a){for(var b=[!1,"ms","Webkit","Moz","O"],c=a.charAt(0).toUpperCase()+a.slice(1),d=0;d<b.length;d++){var e=b[d],f=e?""+e+c:a;if(void 0!==document.body.style[f])return f}return null}function U(){return this.state.isDestroyed=!0,S(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[T("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function V(a){var b=a.ownerDocument;return b?b.defaultView:window}function W(a,b,c,d){var e="BODY"===a.nodeName,f=e?a.ownerDocument.defaultView:a;f.addEventListener(b,c,{passive:!0}),e||W(q(f.parentNode),b,c,d),d.push(f)}function X(a,b,c,d){c.updateBound=d,V(a).addEventListener("resize",c.updateBound,{passive:!0});var e=q(a);return W(e,"scroll",c.updateBound,c.scrollParents),c.scrollElement=e,c.eventsEnabled=!0,c}function Y(){this.state.eventsEnabled||(this.state=X(this.reference,this.options,this.state,this.scheduleUpdate))}function Z(a,b){return V(a).removeEventListener("resize",b.updateBound),b.scrollParents.forEach(function(a){a.removeEventListener("scroll",b.updateBound)}),b.updateBound=null,b.scrollParents=[],b.scrollElement=null,b.eventsEnabled=!1,b}function $(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=Z(this.reference,this.state))}function _(a){return""!==a&&!isNaN(parseFloat(a))&&isFinite(a)}function aa(a,b){Object.keys(b).forEach(function(c){var d="";-1!==["width","height","top","right","bottom","left"].indexOf(c)&&_(b[c])&&(d="px"),a.style[c]=b[c]+d})}function ba(a,b){Object.keys(b).forEach(function(c){!1!==b[c]?a.setAttribute(c,b[c]):a.removeAttribute(c)})}function ca(a){return aa(a.instance.popper,a.styles),ba(a.instance.popper,a.attributes),a.arrowElement&&Object.keys(a.arrowStyles).length&&aa(a.arrowElement,a.arrowStyles),a}function da(a,b,c,d,e){var f=K(e,b,a,c.positionFixed),g=J(c.placement,f,b,a,c.modifiers.flip.boundariesElement,c.modifiers.flip.padding);return b.setAttribute("x-placement",g),aa(b,{position:c.positionFixed?"fixed":"absolute"}),c}function ea(a,b){var c=a.offsets,d=c.popper,e=c.reference,f=Math.round,g=Math.floor,h=function(a){return a},i=f(e.width),j=f(d.width),k=-1!==["left","right"].indexOf(a.placement),l=-1!==a.placement.indexOf("-"),m=i%2==j%2,n=i%2==1&&j%2==1,o=b?k||l||m?f:g:h,p=b?f:h;return{left:o(n&&!l&&b?d.left-1:d.left),top:p(d.top),bottom:p(d.bottom),right:o(d.right)}}function fa(a,b){var c=b.x,d=b.y,e=a.offsets.popper,f=O(a.instance.modifiers,function(a){return"applyStyle"===a.name}).gpuAcceleration;void 0!==f&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var g=void 0!==f?f:b.gpuAcceleration,h=s(a.instance.popper),i=C(h),j={position:e.position},k=ea(a,window.devicePixelRatio<2||!Ib),l="bottom"===c?"top":"bottom",m="right"===d?"left":"right",n=T("transform"),o=void 0,p=void 0;if(p="bottom"===l?"HTML"===h.nodeName?-h.clientHeight+k.bottom:-i.height+k.bottom:k.top,o="right"===m?"HTML"===h.nodeName?-h.clientWidth+k.right:-i.width+k.right:k.left,g&&n)j[n]="translate3d("+o+"px, "+p+"px, 0)",j[l]=0,j[m]=0,j.willChange="transform";else{var q="bottom"===l?-1:1,r="right"===m?-1:1;j[l]=p*q,j[m]=o*r,j.willChange=l+", "+m}var t={"x-placement":a.placement};return a.attributes=Hb({},t,a.attributes),a.styles=Hb({},j,a.styles),a.arrowStyles=Hb({},a.offsets.arrow,a.arrowStyles),a}function ga(a,b,c){var d=O(a,function(a){return a.name===b}),e=!!d&&a.some(function(a){return a.name===c&&a.enabled&&a.order<d.order});if(!e){var f="`"+b+"`",g="`"+c+"`";console.warn(g+" modifier is required by "+f+" modifier in order to work, be sure to include it before "+f+"!")}return e}function ha(a,b){var c;if(!ga(a.instance.modifiers,"arrow","keepTogether"))return a;var d=b.element;if("string"==typeof d){if(!(d=a.instance.popper.querySelector(d)))return a}else if(!a.instance.popper.contains(d))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),a;var e=a.placement.split("-")[0],f=a.offsets,g=f.popper,h=f.reference,i=-1!==["left","right"].indexOf(e),j=i?"height":"width",k=i?"Top":"Left",l=k.toLowerCase(),m=i?"left":"top",n=i?"bottom":"right",p=L(d)[j];h[n]-p<g[l]&&(a.offsets.popper[l]-=g[l]-(h[n]-p)),h[l]+p>g[n]&&(a.offsets.popper[l]+=h[l]+p-g[n]),a.offsets.popper=B(a.offsets.popper);var q=h[l]+h[j]/2-p/2,r=o(a.instance.popper),s=parseFloat(r["margin"+k],10),t=parseFloat(r["border"+k+"Width"],10),u=q-a.offsets.popper[l]-s-t;return u=Math.max(Math.min(g[j]-p,u),0),a.arrowElement=d,a.offsets.arrow=(c={},Gb(c,l,Math.round(u)),Gb(c,m,""),c),a}function ia(a){return"end"===a?"start":"start"===a?"end":a}function ja(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=Kb.indexOf(a),d=Kb.slice(c+1).concat(Kb.slice(0,c));return b?d.reverse():d}function ka(a,b){if(S(a.instance.modifiers,"inner"))return a;if(a.flipped&&a.placement===a.originalPlacement)return a;var c=H(a.instance.popper,a.instance.reference,b.padding,b.boundariesElement,a.positionFixed),d=a.placement.split("-")[0],e=M(d),f=a.placement.split("-")[1]||"",g=[];switch(b.behavior){case Lb.FLIP:g=[d,e];break;case Lb.CLOCKWISE:g=ja(d);break;case Lb.COUNTERCLOCKWISE:g=ja(d,!0);break;default:g=b.behavior}return g.forEach(function(h,i){if(d!==h||g.length===i+1)return a;d=a.placement.split("-")[0],e=M(d);var j=a.offsets.popper,k=a.offsets.reference,l=Math.floor,m="left"===d&&l(j.right)>l(k.left)||"right"===d&&l(j.left)<l(k.right)||"top"===d&&l(j.bottom)>l(k.top)||"bottom"===d&&l(j.top)<l(k.bottom),n=l(j.left)<l(c.left),o=l(j.right)>l(c.right),p=l(j.top)<l(c.top),q=l(j.bottom)>l(c.bottom),r="left"===d&&n||"right"===d&&o||"top"===d&&p||"bottom"===d&&q,s=-1!==["top","bottom"].indexOf(d),t=!!b.flipVariations&&(s&&"start"===f&&n||s&&"end"===f&&o||!s&&"start"===f&&p||!s&&"end"===f&&q);(m||r||t)&&(a.flipped=!0,(m||r)&&(d=g[i+1]),t&&(f=ia(f)),a.placement=d+(f?"-"+f:""),a.offsets.popper=Hb({},a.offsets.popper,N(a.instance.popper,a.offsets.reference,a.placement)),a=Q(a.instance.modifiers,a,"flip"))}),a}function la(a){var b=a.offsets,c=b.popper,d=b.reference,e=a.placement.split("-")[0],f=Math.floor,g=-1!==["top","bottom"].indexOf(e),h=g?"right":"bottom",i=g?"left":"top",j=g?"width":"height";return c[h]<f(d[i])&&(a.offsets.popper[i]=f(d[i])-c[j]),c[i]>f(d[h])&&(a.offsets.popper[i]=f(d[h])),a}function ma(a,b,c,d){var e=a.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),f=+e[1],g=e[2];if(!f)return a;if(0===g.indexOf("%")){var h=void 0;switch(g){case"%p":h=c;break;case"%":case"%r":default:h=d}return B(h)[b]/100*f}if("vh"===g||"vw"===g){return("vh"===g?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*f}return f}function na(a,b,c,d){var e=[0,0],f=-1!==["right","left"].indexOf(d),g=a.split(/(\+|\-)/).map(function(a){return a.trim()}),h=g.indexOf(O(g,function(a){return-1!==a.search(/,|\s/)}));g[h]&&-1===g[h].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var i=/\s*,\s*|\s+/,j=-1!==h?[g.slice(0,h).concat([g[h].split(i)[0]]),[g[h].split(i)[1]].concat(g.slice(h+1))]:[g];return j=j.map(function(a,d){var e=(1===d?!f:f)?"height":"width",g=!1;return a.reduce(function(a,b){return""===a[a.length-1]&&-1!==["+","-"].indexOf(b)?(a[a.length-1]=b,g=!0,a):g?(a[a.length-1]+=b,g=!1,a):a.concat(b)},[]).map(function(a){return ma(a,e,b,c)})}),j.forEach(function(a,b){a.forEach(function(c,d){_(c)&&(e[b]+=c*("-"===a[d-1]?-1:1))})}),e}function oa(a,b){var c=b.offset,d=a.placement,e=a.offsets,f=e.popper,g=e.reference,h=d.split("-")[0],i=void 0;return i=_(+c)?[+c,0]:na(c,f,g,h),"left"===h?(f.top+=i[0],f.left-=i[1]):"right"===h?(f.top+=i[0],f.left+=i[1]):"top"===h?(f.left+=i[0],f.top-=i[1]):"bottom"===h&&(f.left+=i[0],f.top+=i[1]),a.popper=f,a}function pa(a,b){var c=b.boundariesElement||s(a.instance.popper);a.instance.reference===c&&(c=s(c));var d=T("transform"),e=a.instance.popper.style,f=e.top,g=e.left,h=e[d];e.top="",e.left="",e[d]="";var i=H(a.instance.popper,a.instance.reference,b.padding,c,a.positionFixed);e.top=f,e.left=g,e[d]=h,b.boundaries=i;var j=b.priority,k=a.offsets.popper,l={primary:function(a){var c=k[a];return k[a]<i[a]&&!b.escapeWithReference&&(c=Math.max(k[a],i[a])),Gb({},a,c)},secondary:function(a){var c="right"===a?"left":"top",d=k[c]
;return k[a]>i[a]&&!b.escapeWithReference&&(d=Math.min(k[c],i[a]-("right"===a?k.width:k.height))),Gb({},c,d)}};return j.forEach(function(a){var b=-1!==["left","top"].indexOf(a)?"primary":"secondary";k=Hb({},k,l[b](a))}),a.offsets.popper=k,a}function qa(a){var b=a.placement,c=b.split("-")[0],d=b.split("-")[1];if(d){var e=a.offsets,f=e.reference,g=e.popper,h=-1!==["bottom","top"].indexOf(c),i=h?"left":"top",j=h?"width":"height",k={start:Gb({},i,f[i]),end:Gb({},i,f[i]+f[j]-g[j])};a.offsets.popper=Hb({},g,k[d])}return a}function ra(a){if(!ga(a.instance.modifiers,"hide","preventOverflow"))return a;var b=a.offsets.reference,c=O(a.instance.modifiers,function(a){return"preventOverflow"===a.name}).boundaries;if(b.bottom<c.top||b.left>c.right||b.top>c.bottom||b.right<c.left){if(!0===a.hide)return a;a.hide=!0,a.attributes["x-out-of-boundaries"]=""}else{if(!1===a.hide)return a;a.hide=!1,a.attributes["x-out-of-boundaries"]=!1}return a}function sa(a){var b=a.placement,c=b.split("-")[0],d=a.offsets,e=d.popper,f=d.reference,g=-1!==["left","right"].indexOf(c),h=-1===["top","left"].indexOf(c);return e[g?"left":"top"]=f[c]-(h?e[g?"width":"height"]:0),a.placement=M(b),a.offsets.popper=B(e),a}function ta(a,b){var c=a.nodeName.toLowerCase();if(-1!==b.indexOf(c))return-1===uc.indexOf(c)||Boolean(a.nodeValue.match(xc)||a.nodeValue.match(yc));for(var d=b.filter(function(a){return a instanceof RegExp}),e=0,f=d.length;e<f;e++)if(c.match(d[e]))return!0;return!1}function ua(a,b,c){if(0===a.length)return a;if(c&&"function"==typeof c)return c(a);for(var d=new window.DOMParser,e=d.parseFromString(a,"text/html"),f=Object.keys(b),g=[].slice.call(e.body.querySelectorAll("*")),h=function(a,c){var d=g[a],e=d.nodeName.toLowerCase();if(-1===f.indexOf(d.nodeName.toLowerCase()))return d.parentNode.removeChild(d),"continue";var h=[].slice.call(d.attributes),i=[].concat(b["*"]||[],b[e]||[]);h.forEach(function(a){ta(a,i)||d.removeAttribute(a.nodeName)})},i=0,j=g.length;i<j;i++){h(i,j)}return e.body.innerHTML}b=b&&b.hasOwnProperty("default")?b.default:b;var va="transitionend",wa=1e6,xa=1e3,ya={TRANSITION_END:"bsTransitionEnd",getUID:function(a){do{a+=~~(Math.random()*wa)}while(document.getElementById(a));return a},getSelectorFromElement:function(a){var b=a.getAttribute("data-target");if(!b||"#"===b){var c=a.getAttribute("href");b=c&&"#"!==c?c.trim():""}try{return document.querySelector(b)?b:null}catch(d){return null}},getTransitionDurationFromElement:function(a){if(!a)return 0;var c=b(a).css("transition-duration"),d=b(a).css("transition-delay"),e=parseFloat(c),f=parseFloat(d);return e||f?(c=c.split(",")[0],d=d.split(",")[0],(parseFloat(c)+parseFloat(d))*xa):0},reflow:function(a){return a.offsetHeight},triggerTransitionEnd:function(a){b(a).trigger(va)},supportsTransitionEnd:function(){return Boolean(va)},isElement:function(a){return(a[0]||a).nodeType},typeCheckConfig:function(a,b,c){for(var d in c)if(Object.prototype.hasOwnProperty.call(c,d)){var e=c[d],f=b[d],g=f&&ya.isElement(f)?"element":h(f);if(!new RegExp(e).test(g))throw new Error(a.toUpperCase()+': Option "'+d+'" provided type "'+g+'" but expected type "'+e+'".')}},findShadowRoot:function(a){if(!document.documentElement.attachShadow)return null;if("function"==typeof a.getRootNode){var b=a.getRootNode();return b instanceof ShadowRoot?b:null}return a instanceof ShadowRoot?a:a.parentNode?ya.findShadowRoot(a.parentNode):null}};k();var za="alert",Aa="4.3.1",Ba="bs.alert",Ca="."+Ba,Da=".data-api",Ea=b.fn[za],Fa={DISMISS:'[data-dismiss="alert"]'},Ga={CLOSE:"close"+Ca,CLOSED:"closed"+Ca,CLICK_DATA_API:"click"+Ca+Da},Ha={ALERT:"alert",FADE:"fade",SHOW:"show"},Ia=function(){function a(a){this._element=a}var c=a.prototype;return c.close=function(a){var b=this._element;a&&(b=this._getRootElement(a)),this._triggerCloseEvent(b).isDefaultPrevented()||this._removeElement(b)},c.dispose=function(){b.removeData(this._element,Ba),this._element=null},c._getRootElement=function(a){var c=ya.getSelectorFromElement(a),d=!1;return c&&(d=document.querySelector(c)),d||(d=b(a).closest("."+Ha.ALERT)[0]),d},c._triggerCloseEvent=function(a){var c=b.Event(Ga.CLOSE);return b(a).trigger(c),c},c._removeElement=function(a){var c=this;if(b(a).removeClass(Ha.SHOW),!b(a).hasClass(Ha.FADE))return void this._destroyElement(a);var d=ya.getTransitionDurationFromElement(a);b(a).one(ya.TRANSITION_END,function(b){return c._destroyElement(a,b)}).emulateTransitionEnd(d)},c._destroyElement=function(a){b(a).detach().trigger(Ga.CLOSED).remove()},a._jQueryInterface=function(c){return this.each(function(){var d=b(this),e=d.data(Ba);e||(e=new a(this),d.data(Ba,e)),"close"===c&&e[c](this)})},a._handleDismiss=function(a){return function(b){b&&b.preventDefault(),a.close(this)}},d(a,null,[{key:"VERSION",get:function(){return Aa}}]),a}();b(document).on(Ga.CLICK_DATA_API,Fa.DISMISS,Ia._handleDismiss(new Ia)),b.fn[za]=Ia._jQueryInterface,b.fn[za].Constructor=Ia,b.fn[za].noConflict=function(){return b.fn[za]=Ea,Ia._jQueryInterface};var Ja="button",Ka="4.3.1",La="bs.button",Ma="."+La,Na=".data-api",Oa=b.fn[Ja],Pa={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},Qa={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:'input:not([type="hidden"])',ACTIVE:".active",BUTTON:".btn"},Ra={CLICK_DATA_API:"click"+Ma+Na,FOCUS_BLUR_DATA_API:"focus"+Ma+Na+" blur"+Ma+Na},Sa=function(){function a(a){this._element=a}var c=a.prototype;return c.toggle=function(){var a=!0,c=!0,d=b(this._element).closest(Qa.DATA_TOGGLE)[0];if(d){var e=this._element.querySelector(Qa.INPUT);if(e){if("radio"===e.type)if(e.checked&&this._element.classList.contains(Pa.ACTIVE))a=!1;else{var f=d.querySelector(Qa.ACTIVE);f&&b(f).removeClass(Pa.ACTIVE)}if(a){if(e.hasAttribute("disabled")||d.hasAttribute("disabled")||e.classList.contains("disabled")||d.classList.contains("disabled"))return;e.checked=!this._element.classList.contains(Pa.ACTIVE),b(e).trigger("change")}e.focus(),c=!1}}c&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(Pa.ACTIVE)),a&&b(this._element).toggleClass(Pa.ACTIVE)},c.dispose=function(){b.removeData(this._element,La),this._element=null},a._jQueryInterface=function(c){return this.each(function(){var d=b(this).data(La);d||(d=new a(this),b(this).data(La,d)),"toggle"===c&&d[c]()})},d(a,null,[{key:"VERSION",get:function(){return Ka}}]),a}();b(document).on(Ra.CLICK_DATA_API,Qa.DATA_TOGGLE_CARROT,function(a){a.preventDefault();var c=a.target;b(c).hasClass(Pa.BUTTON)||(c=b(c).closest(Qa.BUTTON)),Sa._jQueryInterface.call(b(c),"toggle")}).on(Ra.FOCUS_BLUR_DATA_API,Qa.DATA_TOGGLE_CARROT,function(a){var c=b(a.target).closest(Qa.BUTTON)[0];b(c).toggleClass(Pa.FOCUS,/^focus(in)?$/.test(a.type))}),b.fn[Ja]=Sa._jQueryInterface,b.fn[Ja].Constructor=Sa,b.fn[Ja].noConflict=function(){return b.fn[Ja]=Oa,Sa._jQueryInterface};var Ta="carousel",Ua="4.3.1",Va="bs.carousel",Wa="."+Va,Xa=".data-api",Ya=b.fn[Ta],Za=37,$a=39,_a=500,ab=40,bb={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},cb={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},db={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},eb={SLIDE:"slide"+Wa,SLID:"slid"+Wa,KEYDOWN:"keydown"+Wa,MOUSEENTER:"mouseenter"+Wa,MOUSELEAVE:"mouseleave"+Wa,TOUCHSTART:"touchstart"+Wa,TOUCHMOVE:"touchmove"+Wa,TOUCHEND:"touchend"+Wa,POINTERDOWN:"pointerdown"+Wa,POINTERUP:"pointerup"+Wa,DRAG_START:"dragstart"+Wa,LOAD_DATA_API:"load"+Wa+Xa,CLICK_DATA_API:"click"+Wa+Xa},fb={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item",POINTER_EVENT:"pointer-event"},gb={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",ITEM_IMG:".carousel-item img",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},hb={TOUCH:"touch",PEN:"pen"},ib=function(){function a(a,b){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(b),this._element=a,this._indicatorsElement=this._element.querySelector(gb.INDICATORS),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var c=a.prototype;return c.next=function(){this._isSliding||this._slide(db.NEXT)},c.nextWhenVisible=function(){!document.hidden&&b(this._element).is(":visible")&&"hidden"!==b(this._element).css("visibility")&&this.next()},c.prev=function(){this._isSliding||this._slide(db.PREV)},c.pause=function(a){a||(this._isPaused=!0),this._element.querySelector(gb.NEXT_PREV)&&(ya.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},c.cycle=function(a){a||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},c.to=function(a){var c=this;this._activeElement=this._element.querySelector(gb.ACTIVE_ITEM);var d=this._getItemIndex(this._activeElement);if(!(a>this._items.length-1||a<0)){if(this._isSliding)return void b(this._element).one(eb.SLID,function(){return c.to(a)});if(d===a)return this.pause(),void this.cycle();var e=a>d?db.NEXT:db.PREV;this._slide(e,this._items[a])}},c.dispose=function(){b(this._element).off(Wa),b.removeData(this._element,Va),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},c._getConfig=function(a){return a=f({},bb,a),ya.typeCheckConfig(Ta,a,cb),a},c._handleSwipe=function(){var a=Math.abs(this.touchDeltaX);if(!(a<=ab)){var b=a/this.touchDeltaX;b>0&&this.prev(),b<0&&this.next()}},c._addEventListeners=function(){var a=this;this._config.keyboard&&b(this._element).on(eb.KEYDOWN,function(b){return a._keydown(b)}),"hover"===this._config.pause&&b(this._element).on(eb.MOUSEENTER,function(b){return a.pause(b)}).on(eb.MOUSELEAVE,function(b){return a.cycle(b)}),this._config.touch&&this._addTouchEventListeners()},c._addTouchEventListeners=function(){var a=this;if(this._touchSupported){var c=function(b){a._pointerEvent&&hb[b.originalEvent.pointerType.toUpperCase()]?a.touchStartX=b.originalEvent.clientX:a._pointerEvent||(a.touchStartX=b.originalEvent.touches[0].clientX)},d=function(b){b.originalEvent.touches&&b.originalEvent.touches.length>1?a.touchDeltaX=0:a.touchDeltaX=b.originalEvent.touches[0].clientX-a.touchStartX},e=function(b){a._pointerEvent&&hb[b.originalEvent.pointerType.toUpperCase()]&&(a.touchDeltaX=b.originalEvent.clientX-a.touchStartX),a._handleSwipe(),"hover"===a._config.pause&&(a.pause(),a.touchTimeout&&clearTimeout(a.touchTimeout),a.touchTimeout=setTimeout(function(b){return a.cycle(b)},_a+a._config.interval))};b(this._element.querySelectorAll(gb.ITEM_IMG)).on(eb.DRAG_START,function(a){return a.preventDefault()}),this._pointerEvent?(b(this._element).on(eb.POINTERDOWN,function(a){return c(a)}),b(this._element).on(eb.POINTERUP,function(a){return e(a)}),this._element.classList.add(fb.POINTER_EVENT)):(b(this._element).on(eb.TOUCHSTART,function(a){return c(a)}),b(this._element).on(eb.TOUCHMOVE,function(a){return d(a)}),b(this._element).on(eb.TOUCHEND,function(a){return e(a)}))}},c._keydown=function(a){if(!/input|textarea/i.test(a.target.tagName))switch(a.which){case Za:a.preventDefault(),this.prev();break;case $a:a.preventDefault(),this.next()}},c._getItemIndex=function(a){return this._items=a&&a.parentNode?[].slice.call(a.parentNode.querySelectorAll(gb.ITEM)):[],this._items.indexOf(a)},c._getItemByDirection=function(a,b){var c=a===db.NEXT,d=a===db.PREV,e=this._getItemIndex(b),f=this._items.length-1;if((d&&0===e||c&&e===f)&&!this._config.wrap)return b;var g=a===db.PREV?-1:1,h=(e+g)%this._items.length;return-1===h?this._items[this._items.length-1]:this._items[h]},c._triggerSlideEvent=function(a,c){var d=this._getItemIndex(a),e=this._getItemIndex(this._element.querySelector(gb.ACTIVE_ITEM)),f=b.Event(eb.SLIDE,{relatedTarget:a,direction:c,from:e,to:d});return b(this._element).trigger(f),f},c._setActiveIndicatorElement=function(a){if(this._indicatorsElement){var c=[].slice.call(this._indicatorsElement.querySelectorAll(gb.ACTIVE));b(c).removeClass(fb.ACTIVE);var d=this._indicatorsElement.children[this._getItemIndex(a)];d&&b(d).addClass(fb.ACTIVE)}},c._slide=function(a,c){var d,e,f,g=this,h=this._element.querySelector(gb.ACTIVE_ITEM),i=this._getItemIndex(h),j=c||h&&this._getItemByDirection(a,h),k=this._getItemIndex(j),l=Boolean(this._interval);if(a===db.NEXT?(d=fb.LEFT,e=fb.NEXT,f=db.LEFT):(d=fb.RIGHT,e=fb.PREV,f=db.RIGHT),j&&b(j).hasClass(fb.ACTIVE))return void(this._isSliding=!1);if(!this._triggerSlideEvent(j,f).isDefaultPrevented()&&h&&j){this._isSliding=!0,l&&this.pause(),this._setActiveIndicatorElement(j);var m=b.Event(eb.SLID,{relatedTarget:j,direction:f,from:i,to:k});if(b(this._element).hasClass(fb.SLIDE)){b(j).addClass(e),ya.reflow(j),b(h).addClass(d),b(j).addClass(d);var n=parseInt(j.getAttribute("data-interval"),10);n?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=n):this._config.interval=this._config.defaultInterval||this._config.interval;var o=ya.getTransitionDurationFromElement(h);b(h).one(ya.TRANSITION_END,function(){b(j).removeClass(d+" "+e).addClass(fb.ACTIVE),b(h).removeClass(fb.ACTIVE+" "+e+" "+d),g._isSliding=!1,setTimeout(function(){return b(g._element).trigger(m)},0)}).emulateTransitionEnd(o)}else b(h).removeClass(fb.ACTIVE),b(j).addClass(fb.ACTIVE),this._isSliding=!1,b(this._element).trigger(m);l&&this.cycle()}},a._jQueryInterface=function(c){return this.each(function(){var d=b(this).data(Va),e=f({},bb,b(this).data());"object"==typeof c&&(e=f({},e,c));var g="string"==typeof c?c:e.slide;if(d||(d=new a(this,e),b(this).data(Va,d)),"number"==typeof c)d.to(c);else if("string"==typeof g){if(void 0===d[g])throw new TypeError('No method named "'+g+'"');d[g]()}else e.interval&&e.ride&&(d.pause(),d.cycle())})},a._dataApiClickHandler=function(c){var d=ya.getSelectorFromElement(this);if(d){var e=b(d)[0];if(e&&b(e).hasClass(fb.CAROUSEL)){var g=f({},b(e).data(),b(this).data()),h=this.getAttribute("data-slide-to");h&&(g.interval=!1),a._jQueryInterface.call(b(e),g),h&&b(e).data(Va).to(h),c.preventDefault()}}},d(a,null,[{key:"VERSION",get:function(){return Ua}},{key:"Default",get:function(){return bb}}]),a}();b(document).on(eb.CLICK_DATA_API,gb.DATA_SLIDE,ib._dataApiClickHandler),b(window).on(eb.LOAD_DATA_API,function(){for(var a=[].slice.call(document.querySelectorAll(gb.DATA_RIDE)),c=0,d=a.length;c<d;c++){var e=b(a[c]);ib._jQueryInterface.call(e,e.data())}}),b.fn[Ta]=ib._jQueryInterface,b.fn[Ta].Constructor=ib,b.fn[Ta].noConflict=function(){return b.fn[Ta]=Ya,ib._jQueryInterface};var jb="collapse",kb="4.3.1",lb="bs.collapse",mb="."+lb,nb=".data-api",ob=b.fn[jb],pb={toggle:!0,parent:""},qb={toggle:"boolean",parent:"(string|element)"},rb={SHOW:"show"+mb,SHOWN:"shown"+mb,HIDE:"hide"+mb,HIDDEN:"hidden"+mb,CLICK_DATA_API:"click"+mb+nb},sb={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},tb={WIDTH:"width",HEIGHT:"height"},ub={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},vb=function(){function a(a,b){this._isTransitioning=!1,this._element=a,this._config=this._getConfig(b),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+a.id+'"],[data-toggle="collapse"][data-target="#'+a.id+'"]'));for(var c=[].slice.call(document.querySelectorAll(ub.DATA_TOGGLE)),d=0,e=c.length;d<e;d++){var f=c[d],g=ya.getSelectorFromElement(f),h=[].slice.call(document.querySelectorAll(g)).filter(function(b){return b===a});null!==g&&h.length>0&&(this._selector=g,this._triggerArray.push(f))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var c=a.prototype;return c.toggle=function(){b(this._element).hasClass(sb.SHOW)?this.hide():this.show()},c.show=function(){var c=this;if(!this._isTransitioning&&!b(this._element).hasClass(sb.SHOW)){var d,e;if(this._parent&&(d=[].slice.call(this._parent.querySelectorAll(ub.ACTIVES)).filter(function(a){return"string"==typeof c._config.parent?a.getAttribute("data-parent")===c._config.parent:a.classList.contains(sb.COLLAPSE)}),0===d.length&&(d=null)),!(d&&(e=b(d).not(this._selector).data(lb))&&e._isTransitioning)){var f=b.Event(rb.SHOW);if(b(this._element).trigger(f),!f.isDefaultPrevented()){d&&(a._jQueryInterface.call(b(d).not(this._selector),"hide"),e||b(d).data(lb,null));var g=this._getDimension();b(this._element).removeClass(sb.COLLAPSE).addClass(sb.COLLAPSING),this._element.style[g]=0,this._triggerArray.length&&b(this._triggerArray).removeClass(sb.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var h=function(){b(c._element).removeClass(sb.COLLAPSING).addClass(sb.COLLAPSE).addClass(sb.SHOW),c._element.style[g]="",c.setTransitioning(!1),b(c._element).trigger(rb.SHOWN)},i=g[0].toUpperCase()+g.slice(1),j="scroll"+i,k=ya.getTransitionDurationFromElement(this._element);b(this._element).one(ya.TRANSITION_END,h).emulateTransitionEnd(k),this._element.style[g]=this._element[j]+"px"}}}},c.hide=function(){var a=this;if(!this._isTransitioning&&b(this._element).hasClass(sb.SHOW)){var c=b.Event(rb.HIDE);if(b(this._element).trigger(c),!c.isDefaultPrevented()){var d=this._getDimension();this._element.style[d]=this._element.getBoundingClientRect()[d]+"px",ya.reflow(this._element),b(this._element).addClass(sb.COLLAPSING).removeClass(sb.COLLAPSE).removeClass(sb.SHOW);var e=this._triggerArray.length;if(e>0)for(var f=0;f<e;f++){var g=this._triggerArray[f],h=ya.getSelectorFromElement(g);if(null!==h){var i=b([].slice.call(document.querySelectorAll(h)));i.hasClass(sb.SHOW)||b(g).addClass(sb.COLLAPSED).attr("aria-expanded",!1)}}this.setTransitioning(!0);var j=function(){a.setTransitioning(!1),b(a._element).removeClass(sb.COLLAPSING).addClass(sb.COLLAPSE).trigger(rb.HIDDEN)};this._element.style[d]="";var k=ya.getTransitionDurationFromElement(this._element);b(this._element).one(ya.TRANSITION_END,j).emulateTransitionEnd(k)}}},c.setTransitioning=function(a){this._isTransitioning=a},c.dispose=function(){b.removeData(this._element,lb),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},c._getConfig=function(a){return a=f({},pb,a),a.toggle=Boolean(a.toggle),ya.typeCheckConfig(jb,a,qb),a},c._getDimension=function(){return b(this._element).hasClass(tb.WIDTH)?tb.WIDTH:tb.HEIGHT},c._getParent=function(){var c,d=this;ya.isElement(this._config.parent)?(c=this._config.parent,void 0!==this._config.parent.jquery&&(c=this._config.parent[0])):c=document.querySelector(this._config.parent);var e='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',f=[].slice.call(c.querySelectorAll(e));return b(f).each(function(b,c){d._addAriaAndCollapsedClass(a._getTargetFromElement(c),[c])}),c},c._addAriaAndCollapsedClass=function(a,c){var d=b(a).hasClass(sb.SHOW);c.length&&b(c).toggleClass(sb.COLLAPSED,!d).attr("aria-expanded",d)},a._getTargetFromElement=function(a){var b=ya.getSelectorFromElement(a);return b?document.querySelector(b):null},a._jQueryInterface=function(c){return this.each(function(){var d=b(this),e=d.data(lb),g=f({},pb,d.data(),"object"==typeof c&&c?c:{});if(!e&&g.toggle&&/show|hide/.test(c)&&(g.toggle=!1),e||(e=new a(this,g),d.data(lb,e)),"string"==typeof c){if(void 0===e[c])throw new TypeError('No method named "'+c+'"');e[c]()}})},d(a,null,[{key:"VERSION",get:function(){return kb}},{key:"Default",get:function(){return pb}}]),a}();b(document).on(rb.CLICK_DATA_API,ub.DATA_TOGGLE,function(a){"A"===a.currentTarget.tagName&&a.preventDefault();var c=b(this),d=ya.getSelectorFromElement(this),e=[].slice.call(document.querySelectorAll(d));b(e).each(function(){var a=b(this),d=a.data(lb),e=d?"toggle":c.data();vb._jQueryInterface.call(a,e)})}),b.fn[jb]=vb._jQueryInterface,b.fn[jb].Constructor=vb,b.fn[jb].noConflict=function(){return b.fn[jb]=ob,vb._jQueryInterface};for(var wb="undefined"!=typeof window&&"undefined"!=typeof document,xb=["Edge","Trident","Firefox"],yb=0,zb=0;zb<xb.length;zb+=1)if(wb&&navigator.userAgent.indexOf(xb[zb])>=0){yb=1;break}var Ab=wb&&window.Promise,Bb=Ab?l:m,Cb=wb&&!(!window.MSInputMethodContext||!document.documentMode),Db=wb&&/MSIE 10/.test(navigator.userAgent),Eb=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},Fb=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Gb=function(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a},Hb=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},Ib=wb&&/Firefox/i.test(navigator.userAgent),Jb=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Kb=Jb.slice(3),Lb={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},Mb={shift:{order:100,enabled:!0,fn:qa},offset:{order:200,enabled:!0,fn:oa,offset:0},preventOverflow:{order:300,enabled:!0,fn:pa,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:la},arrow:{order:500,enabled:!0,fn:ha,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:ka,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:sa},hide:{order:800,enabled:!0,fn:ra},computeStyle:{order:850,enabled:!0,fn:fa,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:ca,onLoad:da,gpuAcceleration:void 0}},Nb={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Mb},Ob=function(){function a(b,c){var d=this,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Eb(this,a),this.scheduleUpdate=function(){return requestAnimationFrame(d.update)},this.update=Bb(this.update.bind(this)),this.options=Hb({},a.Defaults,e),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=b&&b.jquery?b[0]:b,this.popper=c&&c.jquery?c[0]:c,this.options.modifiers={},Object.keys(Hb({},a.Defaults.modifiers,e.modifiers)).forEach(function(b){d.options.modifiers[b]=Hb({},a.Defaults.modifiers[b]||{},e.modifiers?e.modifiers[b]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(a){return Hb({name:a},d.options.modifiers[a])}).sort(function(a,b){return a.order-b.order}),this.modifiers.forEach(function(a){a.enabled&&n(a.onLoad)&&a.onLoad(d.reference,d.popper,d.options,a,d.state)}),this.update();var f=this.options.eventsEnabled;f&&this.enableEventListeners(),this.state.eventsEnabled=f}return Fb(a,[{key:"update",value:function(){return R.call(this)}},{key:"destroy",value:function(){return U.call(this)}},{key:"enableEventListeners",value:function(){return Y.call(this)}},{key:"disableEventListeners",value:function(){return $.call(this)}}]),a}();Ob.Utils=("undefined"!=typeof window?window:global).PopperUtils,Ob.placements=Jb,Ob.Defaults=Nb;var Pb="dropdown",Qb="4.3.1",Rb="bs.dropdown",Sb="."+Rb,Tb=".data-api",Ub=b.fn[Pb],Vb=27,Wb=32,Xb=9,Yb=38,Zb=40,$b=3,_b=new RegExp(Yb+"|"+Zb+"|"+Vb),ac={HIDE:"hide"+Sb,HIDDEN:"hidden"+Sb,SHOW:"show"+Sb,SHOWN:"shown"+Sb,CLICK:"click"+Sb,CLICK_DATA_API:"click"+Sb+Tb,KEYDOWN_DATA_API:"keydown"+Sb+Tb,KEYUP_DATA_API:"keyup"+Sb+Tb},bc={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",DROPRIGHT:"dropright",DROPLEFT:"dropleft",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",POSITION_STATIC:"position-static"},cc={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"},dc={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end",RIGHT:"right-start",RIGHTEND:"right-end",LEFT:"left-start",LEFTEND:"left-end"},ec={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},fc={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},gc=function(){function a(a,b){this._element=a,this._popper=null,this._config=this._getConfig(b),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var c=a.prototype;return c.toggle=function(){if(!this._element.disabled&&!b(this._element).hasClass(bc.DISABLED)){var c=a._getParentFromElement(this._element),d=b(this._menu).hasClass(bc.SHOW);if(a._clearMenus(),!d){var e={relatedTarget:this._element},f=b.Event(ac.SHOW,e);if(b(c).trigger(f),!f.isDefaultPrevented()){if(!this._inNavbar){if(void 0===Ob)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var g=this._element;"parent"===this._config.reference?g=c:ya.isElement(this._config.reference)&&(g=this._config.reference,void 0!==this._config.reference.jquery&&(g=this._config.reference[0])),"scrollParent"!==this._config.boundary&&b(c).addClass(bc.POSITION_STATIC),this._popper=new Ob(g,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===b(c).closest(cc.NAVBAR_NAV).length&&b(document.body).children().on("mouseover",null,b.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),b(this._menu).toggleClass(bc.SHOW),b(c).toggleClass(bc.SHOW).trigger(b.Event(ac.SHOWN,e))}}}},c.show=function(){if(!(this._element.disabled||b(this._element).hasClass(bc.DISABLED)||b(this._menu).hasClass(bc.SHOW))){var c={relatedTarget:this._element},d=b.Event(ac.SHOW,c),e=a._getParentFromElement(this._element);b(e).trigger(d),d.isDefaultPrevented()||(b(this._menu).toggleClass(bc.SHOW),b(e).toggleClass(bc.SHOW).trigger(b.Event(ac.SHOWN,c)))}},c.hide=function(){if(!this._element.disabled&&!b(this._element).hasClass(bc.DISABLED)&&b(this._menu).hasClass(bc.SHOW)){var c={relatedTarget:this._element},d=b.Event(ac.HIDE,c),e=a._getParentFromElement(this._element);b(e).trigger(d),d.isDefaultPrevented()||(b(this._menu).toggleClass(bc.SHOW),b(e).toggleClass(bc.SHOW).trigger(b.Event(ac.HIDDEN,c)))}},c.dispose=function(){b.removeData(this._element,Rb),b(this._element).off(Sb),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},c.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},c._addEventListeners=function(){var a=this;b(this._element).on(ac.CLICK,function(b){b.preventDefault(),b.stopPropagation(),a.toggle()})},c._getConfig=function(a){return a=f({},this.constructor.Default,b(this._element).data(),a),ya.typeCheckConfig(Pb,a,this.constructor.DefaultType),a},c._getMenuElement=function(){if(!this._menu){var b=a._getParentFromElement(this._element);b&&(this._menu=b.querySelector(cc.MENU))}return this._menu},c._getPlacement=function(){var a=b(this._element.parentNode),c=dc.BOTTOM;return a.hasClass(bc.DROPUP)?(c=dc.TOP,b(this._menu).hasClass(bc.MENURIGHT)&&(c=dc.TOPEND)):a.hasClass(bc.DROPRIGHT)?c=dc.RIGHT:a.hasClass(bc.DROPLEFT)?c=dc.LEFT:b(this._menu).hasClass(bc.MENURIGHT)&&(c=dc.BOTTOMEND),c},c._detectNavbar=function(){return b(this._element).closest(".navbar").length>0},c._getOffset=function(){var a=this,b={};return"function"==typeof this._config.offset?b.fn=function(b){return b.offsets=f({},b.offsets,a._config.offset(b.offsets,a._element)||{}),b}:b.offset=this._config.offset,b},c._getPopperConfig=function(){var a={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(a.modifiers.applyStyle={enabled:!1}),a},a._jQueryInterface=function(c){return this.each(function(){var d=b(this).data(Rb),e="object"==typeof c?c:null;if(d||(d=new a(this,e),b(this).data(Rb,d)),"string"==typeof c){if(void 0===d[c])throw new TypeError('No method named "'+c+'"');d[c]()}})},a._clearMenus=function(c){if(!c||c.which!==$b&&("keyup"!==c.type||c.which===Xb))for(var d=[].slice.call(document.querySelectorAll(cc.DATA_TOGGLE)),e=0,f=d.length;e<f;e++){var g=a._getParentFromElement(d[e]),h=b(d[e]).data(Rb),i={relatedTarget:d[e]};if(c&&"click"===c.type&&(i.clickEvent=c),h){var j=h._menu;if(b(g).hasClass(bc.SHOW)&&!(c&&("click"===c.type&&/input|textarea/i.test(c.target.tagName)||"keyup"===c.type&&c.which===Xb)&&b.contains(g,c.target))){var k=b.Event(ac.HIDE,i);b(g).trigger(k),k.isDefaultPrevented()||("ontouchstart"in document.documentElement&&b(document.body).children().off("mouseover",null,b.noop),d[e].setAttribute("aria-expanded","false"),b(j).removeClass(bc.SHOW),b(g).removeClass(bc.SHOW).trigger(b.Event(ac.HIDDEN,i)))}}}},a._getParentFromElement=function(a){var b,c=ya.getSelectorFromElement(a);return c&&(b=document.querySelector(c)),b||a.parentNode},a._dataApiKeydownHandler=function(c){if((/input|textarea/i.test(c.target.tagName)?!(c.which===Wb||c.which!==Vb&&(c.which!==Zb&&c.which!==Yb||b(c.target).closest(cc.MENU).length)):_b.test(c.which))&&(c.preventDefault(),c.stopPropagation(),!this.disabled&&!b(this).hasClass(bc.DISABLED))){var d=a._getParentFromElement(this),e=b(d).hasClass(bc.SHOW);if(!e||e&&(c.which===Vb||c.which===Wb)){if(c.which===Vb){var f=d.querySelector(cc.DATA_TOGGLE);b(f).trigger("focus")}return void b(this).trigger("click")}var g=[].slice.call(d.querySelectorAll(cc.VISIBLE_ITEMS));if(0!==g.length){var h=g.indexOf(c.target);c.which===Yb&&h>0&&h--,c.which===Zb&&h<g.length-1&&h++,h<0&&(h=0),g[h].focus()}}},d(a,null,[{key:"VERSION",get:function(){return Qb}},{key:"Default",get:function(){return ec}},{key:"DefaultType",get:function(){return fc}}]),a}();b(document).on(ac.KEYDOWN_DATA_API,cc.DATA_TOGGLE,gc._dataApiKeydownHandler).on(ac.KEYDOWN_DATA_API,cc.MENU,gc._dataApiKeydownHandler).on(ac.CLICK_DATA_API+" "+ac.KEYUP_DATA_API,gc._clearMenus).on(ac.CLICK_DATA_API,cc.DATA_TOGGLE,function(a){a.preventDefault(),a.stopPropagation(),gc._jQueryInterface.call(b(this),"toggle")}).on(ac.CLICK_DATA_API,cc.FORM_CHILD,function(a){a.stopPropagation()}),b.fn[Pb]=gc._jQueryInterface,b.fn[Pb].Constructor=gc,b.fn[Pb].noConflict=function(){return b.fn[Pb]=Ub,gc._jQueryInterface};var hc="modal",ic="4.3.1",jc="bs.modal",kc="."+jc,lc=".data-api",mc=b.fn[hc],nc=27,oc={backdrop:!0,keyboard:!0,focus:!0,show:!0},pc={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},qc={HIDE:"hide"+kc,HIDDEN:"hidden"+kc,SHOW:"show"+kc,SHOWN:"shown"+kc,FOCUSIN:"focusin"+kc,RESIZE:"resize"+kc,CLICK_DISMISS:"click.dismiss"+kc,KEYDOWN_DISMISS:"keydown.dismiss"+kc,MOUSEUP_DISMISS:"mouseup.dismiss"+kc,MOUSEDOWN_DISMISS:"mousedown.dismiss"+kc,CLICK_DATA_API:"click"+kc+lc},rc={SCROLLABLE:"modal-dialog-scrollable",SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},sc={DIALOG:".modal-dialog",MODAL_BODY:".modal-body",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},tc=function(){function a(a,b){this._config=this._getConfig(b),this._element=a,this._dialog=a.querySelector(sc.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,
this._isTransitioning=!1,this._scrollbarWidth=0}var c=a.prototype;return c.toggle=function(a){return this._isShown?this.hide():this.show(a)},c.show=function(a){var c=this;if(!this._isShown&&!this._isTransitioning){b(this._element).hasClass(rc.FADE)&&(this._isTransitioning=!0);var d=b.Event(qc.SHOW,{relatedTarget:a});b(this._element).trigger(d),this._isShown||d.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),b(this._element).on(qc.CLICK_DISMISS,sc.DATA_DISMISS,function(a){return c.hide(a)}),b(this._dialog).on(qc.MOUSEDOWN_DISMISS,function(){b(c._element).one(qc.MOUSEUP_DISMISS,function(a){b(a.target).is(c._element)&&(c._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return c._showElement(a)}))}},c.hide=function(a){var c=this;if(a&&a.preventDefault(),this._isShown&&!this._isTransitioning){var d=b.Event(qc.HIDE);if(b(this._element).trigger(d),this._isShown&&!d.isDefaultPrevented()){this._isShown=!1;var e=b(this._element).hasClass(rc.FADE);if(e&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),b(document).off(qc.FOCUSIN),b(this._element).removeClass(rc.SHOW),b(this._element).off(qc.CLICK_DISMISS),b(this._dialog).off(qc.MOUSEDOWN_DISMISS),e){var f=ya.getTransitionDurationFromElement(this._element);b(this._element).one(ya.TRANSITION_END,function(a){return c._hideModal(a)}).emulateTransitionEnd(f)}else this._hideModal()}}},c.dispose=function(){[window,this._element,this._dialog].forEach(function(a){return b(a).off(kc)}),b(document).off(qc.FOCUSIN),b.removeData(this._element,jc),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},c.handleUpdate=function(){this._adjustDialog()},c._getConfig=function(a){return a=f({},oc,a),ya.typeCheckConfig(hc,a,pc),a},c._showElement=function(a){var c=this,d=b(this._element).hasClass(rc.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),b(this._dialog).hasClass(rc.SCROLLABLE)?this._dialog.querySelector(sc.MODAL_BODY).scrollTop=0:this._element.scrollTop=0,d&&ya.reflow(this._element),b(this._element).addClass(rc.SHOW),this._config.focus&&this._enforceFocus();var e=b.Event(qc.SHOWN,{relatedTarget:a}),f=function(){c._config.focus&&c._element.focus(),c._isTransitioning=!1,b(c._element).trigger(e)};if(d){var g=ya.getTransitionDurationFromElement(this._dialog);b(this._dialog).one(ya.TRANSITION_END,f).emulateTransitionEnd(g)}else f()},c._enforceFocus=function(){var a=this;b(document).off(qc.FOCUSIN).on(qc.FOCUSIN,function(c){document!==c.target&&a._element!==c.target&&0===b(a._element).has(c.target).length&&a._element.focus()})},c._setEscapeEvent=function(){var a=this;this._isShown&&this._config.keyboard?b(this._element).on(qc.KEYDOWN_DISMISS,function(b){b.which===nc&&(b.preventDefault(),a.hide())}):this._isShown||b(this._element).off(qc.KEYDOWN_DISMISS)},c._setResizeEvent=function(){var a=this;this._isShown?b(window).on(qc.RESIZE,function(b){return a.handleUpdate(b)}):b(window).off(qc.RESIZE)},c._hideModal=function(){var a=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop(function(){b(document.body).removeClass(rc.OPEN),a._resetAdjustments(),a._resetScrollbar(),b(a._element).trigger(qc.HIDDEN)})},c._removeBackdrop=function(){this._backdrop&&(b(this._backdrop).remove(),this._backdrop=null)},c._showBackdrop=function(a){var c=this,d=b(this._element).hasClass(rc.FADE)?rc.FADE:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=rc.BACKDROP,d&&this._backdrop.classList.add(d),b(this._backdrop).appendTo(document.body),b(this._element).on(qc.CLICK_DISMISS,function(a){if(c._ignoreBackdropClick)return void(c._ignoreBackdropClick=!1);a.target===a.currentTarget&&("static"===c._config.backdrop?c._element.focus():c.hide())}),d&&ya.reflow(this._backdrop),b(this._backdrop).addClass(rc.SHOW),!a)return;if(!d)return void a();var e=ya.getTransitionDurationFromElement(this._backdrop);b(this._backdrop).one(ya.TRANSITION_END,a).emulateTransitionEnd(e)}else if(!this._isShown&&this._backdrop){b(this._backdrop).removeClass(rc.SHOW);var f=function(){c._removeBackdrop(),a&&a()};if(b(this._element).hasClass(rc.FADE)){var g=ya.getTransitionDurationFromElement(this._backdrop);b(this._backdrop).one(ya.TRANSITION_END,f).emulateTransitionEnd(g)}else f()}else a&&a()},c._adjustDialog=function(){var a=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&a&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!a&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},c._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},c._checkScrollbar=function(){var a=document.body.getBoundingClientRect();this._isBodyOverflowing=a.left+a.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},c._setScrollbar=function(){var a=this;if(this._isBodyOverflowing){var c=[].slice.call(document.querySelectorAll(sc.FIXED_CONTENT)),d=[].slice.call(document.querySelectorAll(sc.STICKY_CONTENT));b(c).each(function(c,d){var e=d.style.paddingRight,f=b(d).css("padding-right");b(d).data("padding-right",e).css("padding-right",parseFloat(f)+a._scrollbarWidth+"px")}),b(d).each(function(c,d){var e=d.style.marginRight,f=b(d).css("margin-right");b(d).data("margin-right",e).css("margin-right",parseFloat(f)-a._scrollbarWidth+"px")});var e=document.body.style.paddingRight,f=b(document.body).css("padding-right");b(document.body).data("padding-right",e).css("padding-right",parseFloat(f)+this._scrollbarWidth+"px")}b(document.body).addClass(rc.OPEN)},c._resetScrollbar=function(){var a=[].slice.call(document.querySelectorAll(sc.FIXED_CONTENT));b(a).each(function(a,c){var d=b(c).data("padding-right");b(c).removeData("padding-right"),c.style.paddingRight=d||""});var c=[].slice.call(document.querySelectorAll(""+sc.STICKY_CONTENT));b(c).each(function(a,c){var d=b(c).data("margin-right");void 0!==d&&b(c).css("margin-right",d).removeData("margin-right")});var d=b(document.body).data("padding-right");b(document.body).removeData("padding-right"),document.body.style.paddingRight=d||""},c._getScrollbarWidth=function(){var a=document.createElement("div");a.className=rc.SCROLLBAR_MEASURER,document.body.appendChild(a);var b=a.getBoundingClientRect().width-a.clientWidth;return document.body.removeChild(a),b},a._jQueryInterface=function(c,d){return this.each(function(){var e=b(this).data(jc),g=f({},oc,b(this).data(),"object"==typeof c&&c?c:{});if(e||(e=new a(this,g),b(this).data(jc,e)),"string"==typeof c){if(void 0===e[c])throw new TypeError('No method named "'+c+'"');e[c](d)}else g.show&&e.show(d)})},d(a,null,[{key:"VERSION",get:function(){return ic}},{key:"Default",get:function(){return oc}}]),a}();b(document).on(qc.CLICK_DATA_API,sc.DATA_TOGGLE,function(a){var c,d=this,e=ya.getSelectorFromElement(this);e&&(c=document.querySelector(e));var g=b(c).data(jc)?"toggle":f({},b(c).data(),b(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||a.preventDefault();var h=b(c).one(qc.SHOW,function(a){a.isDefaultPrevented()||h.one(qc.HIDDEN,function(){b(d).is(":visible")&&d.focus()})});tc._jQueryInterface.call(b(c),g,this)}),b.fn[hc]=tc._jQueryInterface,b.fn[hc].Constructor=tc,b.fn[hc].noConflict=function(){return b.fn[hc]=mc,tc._jQueryInterface};var uc=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],vc=/^aria-[\w-]*$/i,wc={"*":["class","dir","id","lang","role",vc],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},xc=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,yc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,zc="tooltip",Ac="4.3.1",Bc="bs.tooltip",Cc="."+Bc,Dc=b.fn[zc],Ec="bs-tooltip",Fc=new RegExp("(^|\\s)"+Ec+"\\S+","g"),Gc=["sanitize","whiteList","sanitizeFn"],Hc={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object"},Ic={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Jc={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:wc},Kc={SHOW:"show",OUT:"out"},Lc={HIDE:"hide"+Cc,HIDDEN:"hidden"+Cc,SHOW:"show"+Cc,SHOWN:"shown"+Cc,INSERTED:"inserted"+Cc,CLICK:"click"+Cc,FOCUSIN:"focusin"+Cc,FOCUSOUT:"focusout"+Cc,MOUSEENTER:"mouseenter"+Cc,MOUSELEAVE:"mouseleave"+Cc},Mc={FADE:"fade",SHOW:"show"},Nc={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},Oc={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},Pc=function(){function a(a,b){if(void 0===Ob)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=a,this.config=this._getConfig(b),this.tip=null,this._setListeners()}var c=a.prototype;return c.enable=function(){this._isEnabled=!0},c.disable=function(){this._isEnabled=!1},c.toggleEnabled=function(){this._isEnabled=!this._isEnabled},c.toggle=function(a){if(this._isEnabled)if(a){var c=this.constructor.DATA_KEY,d=b(a.currentTarget).data(c);d||(d=new this.constructor(a.currentTarget,this._getDelegateConfig()),b(a.currentTarget).data(c,d)),d._activeTrigger.click=!d._activeTrigger.click,d._isWithActiveTrigger()?d._enter(null,d):d._leave(null,d)}else{if(b(this.getTipElement()).hasClass(Mc.SHOW))return void this._leave(null,this);this._enter(null,this)}},c.dispose=function(){clearTimeout(this._timeout),b.removeData(this.element,this.constructor.DATA_KEY),b(this.element).off(this.constructor.EVENT_KEY),b(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&b(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},c.show=function(){var a=this;if("none"===b(this.element).css("display"))throw new Error("Please use show on visible elements");var c=b.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){b(this.element).trigger(c);var d=ya.findShadowRoot(this.element),e=b.contains(null!==d?d:this.element.ownerDocument.documentElement,this.element);if(c.isDefaultPrevented()||!e)return;var f=this.getTipElement(),g=ya.getUID(this.constructor.NAME);f.setAttribute("id",g),this.element.setAttribute("aria-describedby",g),this.setContent(),this.config.animation&&b(f).addClass(Mc.FADE);var h="function"==typeof this.config.placement?this.config.placement.call(this,f,this.element):this.config.placement,i=this._getAttachment(h);this.addAttachmentClass(i);var j=this._getContainer();b(f).data(this.constructor.DATA_KEY,this),b.contains(this.element.ownerDocument.documentElement,this.tip)||b(f).appendTo(j),b(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new Ob(this.element,f,{placement:i,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:Nc.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(b){b.originalPlacement!==b.placement&&a._handlePopperPlacementChange(b)},onUpdate:function(b){return a._handlePopperPlacementChange(b)}}),b(f).addClass(Mc.SHOW),"ontouchstart"in document.documentElement&&b(document.body).children().on("mouseover",null,b.noop);var k=function(){a.config.animation&&a._fixTransition();var c=a._hoverState;a._hoverState=null,b(a.element).trigger(a.constructor.Event.SHOWN),c===Kc.OUT&&a._leave(null,a)};if(b(this.tip).hasClass(Mc.FADE)){var l=ya.getTransitionDurationFromElement(this.tip);b(this.tip).one(ya.TRANSITION_END,k).emulateTransitionEnd(l)}else k()}},c.hide=function(a){var c=this,d=this.getTipElement(),e=b.Event(this.constructor.Event.HIDE),f=function(){c._hoverState!==Kc.SHOW&&d.parentNode&&d.parentNode.removeChild(d),c._cleanTipClass(),c.element.removeAttribute("aria-describedby"),b(c.element).trigger(c.constructor.Event.HIDDEN),null!==c._popper&&c._popper.destroy(),a&&a()};if(b(this.element).trigger(e),!e.isDefaultPrevented()){if(b(d).removeClass(Mc.SHOW),"ontouchstart"in document.documentElement&&b(document.body).children().off("mouseover",null,b.noop),this._activeTrigger[Oc.CLICK]=!1,this._activeTrigger[Oc.FOCUS]=!1,this._activeTrigger[Oc.HOVER]=!1,b(this.tip).hasClass(Mc.FADE)){var g=ya.getTransitionDurationFromElement(d);b(d).one(ya.TRANSITION_END,f).emulateTransitionEnd(g)}else f();this._hoverState=""}},c.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},c.isWithContent=function(){return Boolean(this.getTitle())},c.addAttachmentClass=function(a){b(this.getTipElement()).addClass(Ec+"-"+a)},c.getTipElement=function(){return this.tip=this.tip||b(this.config.template)[0],this.tip},c.setContent=function(){var a=this.getTipElement();this.setElementContent(b(a.querySelectorAll(Nc.TOOLTIP_INNER)),this.getTitle()),b(a).removeClass(Mc.FADE+" "+Mc.SHOW)},c.setElementContent=function(a,c){if("object"==typeof c&&(c.nodeType||c.jquery))return void(this.config.html?b(c).parent().is(a)||a.empty().append(c):a.text(b(c).text()));this.config.html?(this.config.sanitize&&(c=ua(c,this.config.whiteList,this.config.sanitizeFn)),a.html(c)):a.text(c)},c.getTitle=function(){var a=this.element.getAttribute("data-original-title");return a||(a="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),a},c._getOffset=function(){var a=this,b={};return"function"==typeof this.config.offset?b.fn=function(b){return b.offsets=f({},b.offsets,a.config.offset(b.offsets,a.element)||{}),b}:b.offset=this.config.offset,b},c._getContainer=function(){return!1===this.config.container?document.body:ya.isElement(this.config.container)?b(this.config.container):b(document).find(this.config.container)},c._getAttachment=function(a){return Ic[a.toUpperCase()]},c._setListeners=function(){var a=this;this.config.trigger.split(" ").forEach(function(c){if("click"===c)b(a.element).on(a.constructor.Event.CLICK,a.config.selector,function(b){return a.toggle(b)});else if(c!==Oc.MANUAL){var d=c===Oc.HOVER?a.constructor.Event.MOUSEENTER:a.constructor.Event.FOCUSIN,e=c===Oc.HOVER?a.constructor.Event.MOUSELEAVE:a.constructor.Event.FOCUSOUT;b(a.element).on(d,a.config.selector,function(b){return a._enter(b)}).on(e,a.config.selector,function(b){return a._leave(b)})}}),b(this.element).closest(".modal").on("hide.bs.modal",function(){a.element&&a.hide()}),this.config.selector?this.config=f({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},c._fixTitle=function(){var a=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==a)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},c._enter=function(a,c){var d=this.constructor.DATA_KEY;return c=c||b(a.currentTarget).data(d),c||(c=new this.constructor(a.currentTarget,this._getDelegateConfig()),b(a.currentTarget).data(d,c)),a&&(c._activeTrigger["focusin"===a.type?Oc.FOCUS:Oc.HOVER]=!0),b(c.getTipElement()).hasClass(Mc.SHOW)||c._hoverState===Kc.SHOW?void(c._hoverState=Kc.SHOW):(clearTimeout(c._timeout),c._hoverState=Kc.SHOW,c.config.delay&&c.config.delay.show?void(c._timeout=setTimeout(function(){c._hoverState===Kc.SHOW&&c.show()},c.config.delay.show)):void c.show())},c._leave=function(a,c){var d=this.constructor.DATA_KEY;if(c=c||b(a.currentTarget).data(d),c||(c=new this.constructor(a.currentTarget,this._getDelegateConfig()),b(a.currentTarget).data(d,c)),a&&(c._activeTrigger["focusout"===a.type?Oc.FOCUS:Oc.HOVER]=!1),!c._isWithActiveTrigger()){if(clearTimeout(c._timeout),c._hoverState=Kc.OUT,!c.config.delay||!c.config.delay.hide)return void c.hide();c._timeout=setTimeout(function(){c._hoverState===Kc.OUT&&c.hide()},c.config.delay.hide)}},c._isWithActiveTrigger=function(){for(var a in this._activeTrigger)if(this._activeTrigger[a])return!0;return!1},c._getConfig=function(a){var c=b(this.element).data();return Object.keys(c).forEach(function(a){-1!==Gc.indexOf(a)&&delete c[a]}),a=f({},this.constructor.Default,c,"object"==typeof a&&a?a:{}),"number"==typeof a.delay&&(a.delay={show:a.delay,hide:a.delay}),"number"==typeof a.title&&(a.title=a.title.toString()),"number"==typeof a.content&&(a.content=a.content.toString()),ya.typeCheckConfig(zc,a,this.constructor.DefaultType),a.sanitize&&(a.template=ua(a.template,a.whiteList,a.sanitizeFn)),a},c._getDelegateConfig=function(){var a={};if(this.config)for(var b in this.config)this.constructor.Default[b]!==this.config[b]&&(a[b]=this.config[b]);return a},c._cleanTipClass=function(){var a=b(this.getTipElement()),c=a.attr("class").match(Fc);null!==c&&c.length&&a.removeClass(c.join(""))},c._handlePopperPlacementChange=function(a){var b=a.instance;this.tip=b.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(a.placement))},c._fixTransition=function(){var a=this.getTipElement(),c=this.config.animation;null===a.getAttribute("x-placement")&&(b(a).removeClass(Mc.FADE),this.config.animation=!1,this.hide(),this.show(),this.config.animation=c)},a._jQueryInterface=function(c){return this.each(function(){var d=b(this).data(Bc),e="object"==typeof c&&c;if((d||!/dispose|hide/.test(c))&&(d||(d=new a(this,e),b(this).data(Bc,d)),"string"==typeof c)){if(void 0===d[c])throw new TypeError('No method named "'+c+'"');d[c]()}})},d(a,null,[{key:"VERSION",get:function(){return Ac}},{key:"Default",get:function(){return Jc}},{key:"NAME",get:function(){return zc}},{key:"DATA_KEY",get:function(){return Bc}},{key:"Event",get:function(){return Lc}},{key:"EVENT_KEY",get:function(){return Cc}},{key:"DefaultType",get:function(){return Hc}}]),a}();b.fn[zc]=Pc._jQueryInterface,b.fn[zc].Constructor=Pc,b.fn[zc].noConflict=function(){return b.fn[zc]=Dc,Pc._jQueryInterface};var Qc="popover",Rc="4.3.1",Sc="bs.popover",Tc="."+Sc,Uc=b.fn[Qc],Vc="bs-popover",Wc=new RegExp("(^|\\s)"+Vc+"\\S+","g"),Xc=f({},Pc.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Yc=f({},Pc.DefaultType,{content:"(string|element|function)"}),Zc={FADE:"fade",SHOW:"show"},$c={TITLE:".popover-header",CONTENT:".popover-body"},_c={HIDE:"hide"+Tc,HIDDEN:"hidden"+Tc,SHOW:"show"+Tc,SHOWN:"shown"+Tc,INSERTED:"inserted"+Tc,CLICK:"click"+Tc,FOCUSIN:"focusin"+Tc,FOCUSOUT:"focusout"+Tc,MOUSEENTER:"mouseenter"+Tc,MOUSELEAVE:"mouseleave"+Tc},ad=function(a){function c(){return a.apply(this,arguments)||this}g(c,a);var e=c.prototype;return e.isWithContent=function(){return this.getTitle()||this._getContent()},e.addAttachmentClass=function(a){b(this.getTipElement()).addClass(Vc+"-"+a)},e.getTipElement=function(){return this.tip=this.tip||b(this.config.template)[0],this.tip},e.setContent=function(){var a=b(this.getTipElement());this.setElementContent(a.find($c.TITLE),this.getTitle());var c=this._getContent();"function"==typeof c&&(c=c.call(this.element)),this.setElementContent(a.find($c.CONTENT),c),a.removeClass(Zc.FADE+" "+Zc.SHOW)},e._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},e._cleanTipClass=function(){var a=b(this.getTipElement()),c=a.attr("class").match(Wc);null!==c&&c.length>0&&a.removeClass(c.join(""))},c._jQueryInterface=function(a){return this.each(function(){var d=b(this).data(Sc),e="object"==typeof a?a:null;if((d||!/dispose|hide/.test(a))&&(d||(d=new c(this,e),b(this).data(Sc,d)),"string"==typeof a)){if(void 0===d[a])throw new TypeError('No method named "'+a+'"');d[a]()}})},d(c,null,[{key:"VERSION",get:function(){return Rc}},{key:"Default",get:function(){return Xc}},{key:"NAME",get:function(){return Qc}},{key:"DATA_KEY",get:function(){return Sc}},{key:"Event",get:function(){return _c}},{key:"EVENT_KEY",get:function(){return Tc}},{key:"DefaultType",get:function(){return Yc}}]),c}(Pc);b.fn[Qc]=ad._jQueryInterface,b.fn[Qc].Constructor=ad,b.fn[Qc].noConflict=function(){return b.fn[Qc]=Uc,ad._jQueryInterface};var bd="scrollspy",cd="4.3.1",dd="bs.scrollspy",ed="."+dd,fd=".data-api",gd=b.fn[bd],hd={offset:10,method:"auto",target:""},id={offset:"number",method:"string",target:"(string|element)"},jd={ACTIVATE:"activate"+ed,SCROLL:"scroll"+ed,LOAD_DATA_API:"load"+ed+fd},kd={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"},ld={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},md={OFFSET:"offset",POSITION:"position"},nd=function(){function a(a,c){var d=this;this._element=a,this._scrollElement="BODY"===a.tagName?window:a,this._config=this._getConfig(c),this._selector=this._config.target+" "+ld.NAV_LINKS+","+this._config.target+" "+ld.LIST_ITEMS+","+this._config.target+" "+ld.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,b(this._scrollElement).on(jd.SCROLL,function(a){return d._process(a)}),this.refresh(),this._process()}var c=a.prototype;return c.refresh=function(){var a=this,c=this._scrollElement===this._scrollElement.window?md.OFFSET:md.POSITION,d="auto"===this._config.method?c:this._config.method,e=d===md.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(a){var c,f=ya.getSelectorFromElement(a);if(f&&(c=document.querySelector(f)),c){var g=c.getBoundingClientRect();if(g.width||g.height)return[b(c)[d]().top+e,f]}return null}).filter(function(a){return a}).sort(function(a,b){return a[0]-b[0]}).forEach(function(b){a._offsets.push(b[0]),a._targets.push(b[1])})},c.dispose=function(){b.removeData(this._element,dd),b(this._scrollElement).off(ed),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},c._getConfig=function(a){if(a=f({},hd,"object"==typeof a&&a?a:{}),"string"!=typeof a.target){var c=b(a.target).attr("id");c||(c=ya.getUID(bd),b(a.target).attr("id",c)),a.target="#"+c}return ya.typeCheckConfig(bd,a,id),a},c._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},c._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},c._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},c._process=function(){var a=this._getScrollTop()+this._config.offset,b=this._getScrollHeight(),c=this._config.offset+b-this._getOffsetHeight();if(this._scrollHeight!==b&&this.refresh(),a>=c){var d=this._targets[this._targets.length-1];return void(this._activeTarget!==d&&this._activate(d))}if(this._activeTarget&&a<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var e=this._offsets.length,f=e;f--;){this._activeTarget!==this._targets[f]&&a>=this._offsets[f]&&(void 0===this._offsets[f+1]||a<this._offsets[f+1])&&this._activate(this._targets[f])}},c._activate=function(a){this._activeTarget=a,this._clear();var c=this._selector.split(",").map(function(b){return b+'[data-target="'+a+'"],'+b+'[href="'+a+'"]'}),d=b([].slice.call(document.querySelectorAll(c.join(","))));d.hasClass(kd.DROPDOWN_ITEM)?(d.closest(ld.DROPDOWN).find(ld.DROPDOWN_TOGGLE).addClass(kd.ACTIVE),d.addClass(kd.ACTIVE)):(d.addClass(kd.ACTIVE),d.parents(ld.NAV_LIST_GROUP).prev(ld.NAV_LINKS+", "+ld.LIST_ITEMS).addClass(kd.ACTIVE),d.parents(ld.NAV_LIST_GROUP).prev(ld.NAV_ITEMS).children(ld.NAV_LINKS).addClass(kd.ACTIVE)),b(this._scrollElement).trigger(jd.ACTIVATE,{relatedTarget:a})},c._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(a){return a.classList.contains(kd.ACTIVE)}).forEach(function(a){return a.classList.remove(kd.ACTIVE)})},a._jQueryInterface=function(c){return this.each(function(){var d=b(this).data(dd),e="object"==typeof c&&c;if(d||(d=new a(this,e),b(this).data(dd,d)),"string"==typeof c){if(void 0===d[c])throw new TypeError('No method named "'+c+'"');d[c]()}})},d(a,null,[{key:"VERSION",get:function(){return cd}},{key:"Default",get:function(){return hd}}]),a}();b(window).on(jd.LOAD_DATA_API,function(){for(var a=[].slice.call(document.querySelectorAll(ld.DATA_SPY)),c=a.length,d=c;d--;){var e=b(a[d]);nd._jQueryInterface.call(e,e.data())}}),b.fn[bd]=nd._jQueryInterface,b.fn[bd].Constructor=nd,b.fn[bd].noConflict=function(){return b.fn[bd]=gd,nd._jQueryInterface};var od="tab",pd="4.3.1",qd="bs.tab",rd="."+qd,sd=".data-api",td=b.fn[od],ud={HIDE:"hide"+rd,HIDDEN:"hidden"+rd,SHOW:"show"+rd,SHOWN:"shown"+rd,CLICK_DATA_API:"click"+rd+sd},vd={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},wd={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},xd=function(){function a(a){this._element=a}var c=a.prototype;return c.show=function(){var a=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&b(this._element).hasClass(vd.ACTIVE)||b(this._element).hasClass(vd.DISABLED))){var c,d,e=b(this._element).closest(wd.NAV_LIST_GROUP)[0],f=ya.getSelectorFromElement(this._element);if(e){var g="UL"===e.nodeName||"OL"===e.nodeName?wd.ACTIVE_UL:wd.ACTIVE;d=b.makeArray(b(e).find(g)),d=d[d.length-1]}var h=b.Event(ud.HIDE,{relatedTarget:this._element}),i=b.Event(ud.SHOW,{relatedTarget:d});if(d&&b(d).trigger(h),b(this._element).trigger(i),!i.isDefaultPrevented()&&!h.isDefaultPrevented()){f&&(c=document.querySelector(f)),this._activate(this._element,e);var j=function(){var c=b.Event(ud.HIDDEN,{relatedTarget:a._element}),e=b.Event(ud.SHOWN,{relatedTarget:d});b(d).trigger(c),b(a._element).trigger(e)};c?this._activate(c,c.parentNode,j):j()}}},c.dispose=function(){b.removeData(this._element,qd),this._element=null},c._activate=function(a,c,d){var e=this,f=!c||"UL"!==c.nodeName&&"OL"!==c.nodeName?b(c).children(wd.ACTIVE):b(c).find(wd.ACTIVE_UL),g=f[0],h=d&&g&&b(g).hasClass(vd.FADE),i=function(){return e._transitionComplete(a,g,d)};if(g&&h){var j=ya.getTransitionDurationFromElement(g);b(g).removeClass(vd.SHOW).one(ya.TRANSITION_END,i).emulateTransitionEnd(j)}else i()},c._transitionComplete=function(a,c,d){if(c){b(c).removeClass(vd.ACTIVE);var e=b(c.parentNode).find(wd.DROPDOWN_ACTIVE_CHILD)[0];e&&b(e).removeClass(vd.ACTIVE),"tab"===c.getAttribute("role")&&c.setAttribute("aria-selected",!1)}if(b(a).addClass(vd.ACTIVE),"tab"===a.getAttribute("role")&&a.setAttribute("aria-selected",!0),ya.reflow(a),a.classList.contains(vd.FADE)&&a.classList.add(vd.SHOW),a.parentNode&&b(a.parentNode).hasClass(vd.DROPDOWN_MENU)){var f=b(a).closest(wd.DROPDOWN)[0];if(f){var g=[].slice.call(f.querySelectorAll(wd.DROPDOWN_TOGGLE));b(g).addClass(vd.ACTIVE)}a.setAttribute("aria-expanded",!0)}d&&d()},a._jQueryInterface=function(c){return this.each(function(){var d=b(this),e=d.data(qd);if(e||(e=new a(this),d.data(qd,e)),"string"==typeof c){if(void 0===e[c])throw new TypeError('No method named "'+c+'"');e[c]()}})},d(a,null,[{key:"VERSION",get:function(){return pd}}]),a}();b(document).on(ud.CLICK_DATA_API,wd.DATA_TOGGLE,function(a){a.preventDefault(),xd._jQueryInterface.call(b(this),"show")}),b.fn[od]=xd._jQueryInterface,b.fn[od].Constructor=xd,b.fn[od].noConflict=function(){return b.fn[od]=td,xd._jQueryInterface};var yd="toast",zd="4.3.1",Ad="bs.toast",Bd="."+Ad,Cd=b.fn[yd],Dd={CLICK_DISMISS:"click.dismiss"+Bd,HIDE:"hide"+Bd,HIDDEN:"hidden"+Bd,SHOW:"show"+Bd,SHOWN:"shown"+Bd},Ed={FADE:"fade",HIDE:"hide",SHOW:"show",SHOWING:"showing"},Fd={animation:"boolean",autohide:"boolean",delay:"number"},Gd={animation:!0,autohide:!0,delay:500},Hd={DATA_DISMISS:'[data-dismiss="toast"]'},Id=function(){function a(a,b){this._element=a,this._config=this._getConfig(b),this._timeout=null,this._setListeners()}var c=a.prototype;return c.show=function(){var a=this;b(this._element).trigger(Dd.SHOW),this._config.animation&&this._element.classList.add(Ed.FADE);var c=function(){a._element.classList.remove(Ed.SHOWING),a._element.classList.add(Ed.SHOW),b(a._element).trigger(Dd.SHOWN),a._config.autohide&&a.hide()};if(this._element.classList.remove(Ed.HIDE),this._element.classList.add(Ed.SHOWING),this._config.animation){var d=ya.getTransitionDurationFromElement(this._element);b(this._element).one(ya.TRANSITION_END,c).emulateTransitionEnd(d)}else c()},c.hide=function(a){var c=this;this._element.classList.contains(Ed.SHOW)&&(b(this._element).trigger(Dd.HIDE),a?this._close():this._timeout=setTimeout(function(){c._close()},this._config.delay))},c.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(Ed.SHOW)&&this._element.classList.remove(Ed.SHOW),b(this._element).off(Dd.CLICK_DISMISS),b.removeData(this._element,Ad),this._element=null,this._config=null},c._getConfig=function(a){return a=f({},Gd,b(this._element).data(),"object"==typeof a&&a?a:{}),ya.typeCheckConfig(yd,a,this.constructor.DefaultType),a},c._setListeners=function(){var a=this;b(this._element).on(Dd.CLICK_DISMISS,Hd.DATA_DISMISS,function(){return a.hide(!0)})},c._close=function(){var a=this,c=function(){a._element.classList.add(Ed.HIDE),b(a._element).trigger(Dd.HIDDEN)};if(this._element.classList.remove(Ed.SHOW),this._config.animation){var d=ya.getTransitionDurationFromElement(this._element);b(this._element).one(ya.TRANSITION_END,c).emulateTransitionEnd(d)}else c()},a._jQueryInterface=function(c){return this.each(function(){var d=b(this),e=d.data(Ad),f="object"==typeof c&&c;if(e||(e=new a(this,f),d.data(Ad,e)),"string"==typeof c){if(void 0===e[c])throw new TypeError('No method named "'+c+'"');e[c](this)}})},d(a,null,[{key:"VERSION",get:function(){return zd}},{key:"DefaultType",get:function(){return Fd}},{key:"Default",get:function(){return Gd}}]),a}();b.fn[yd]=Id._jQueryInterface,b.fn[yd].Constructor=Id,b.fn[yd].noConflict=function(){return b.fn[yd]=Cd,Id._jQueryInterface},function(){if(void 0===b)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var a=b.fn.jquery.split(" ")[0].split("."),c=9;if(a[0]<2&&a[1]<c||1===a[0]&&a[1]===c&&a[2]<1||a[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(),a.Util=ya,a.Alert=Ia,a.Button=Sa,a.Carousel=ib,a.Collapse=vb,a.Dropdown=gc,a.Modal=tc,a.Popover=ad,
a.Scrollspy=nd,a.Tab=xd,a.Toast=Id,a.Tooltip=Pc,Object.defineProperty(a,"__esModule",{value:!0})}),function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.Handlebars=b():a.Handlebars=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(){var a=r();return a.compile=function(b,c){return k.compile(b,c,a)},a.precompile=function(b,c){return k.precompile(b,c,a)},a.AST=i.default,a.Compiler=k.Compiler,a.JavaScriptCompiler=m.default,a.Parser=j.parser,a.parse=j.parse,a}var e=c(1).default;b.__esModule=!0;var f=c(2),g=e(f),h=c(35),i=e(h),j=c(36),k=c(41),l=c(42),m=e(l),n=c(39),o=e(n),p=c(34),q=e(p),r=g.default.create,s=d();s.create=d,q.default(s),s.Visitor=o.default,s.default=s,b.default=s,a.exports=b.default},function(a,b){"use strict";b.default=function(a){return a&&a.__esModule?a:{default:a}},b.__esModule=!0},function(a,b,c){"use strict";function d(){var a=new h.HandlebarsEnvironment;return n.extend(a,h),a.SafeString=j.default,a.Exception=l.default,a.Utils=n,a.escapeExpression=n.escapeExpression,a.VM=p,a.template=function(b){return p.template(b,a)},a}var e=c(3).default,f=c(1).default;b.__esModule=!0;var g=c(4),h=e(g),i=c(21),j=f(i),k=c(6),l=f(k),m=c(5),n=e(m),o=c(22),p=e(o),q=c(34),r=f(q),s=d();s.create=d,r.default(s),s.default=s,b.default=s,a.exports=b.default},function(a,b){"use strict";b.default=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b},b.__esModule=!0},function(a,b,c){"use strict";function d(a,b,c){this.helpers=a||{},this.partials=b||{},this.decorators=c||{},i.registerDefaultHelpers(this),j.registerDefaultDecorators(this)}var e=c(1).default;b.__esModule=!0,b.HandlebarsEnvironment=d;var f=c(5),g=c(6),h=e(g),i=c(10),j=c(18),k=c(20),l=e(k);b.VERSION="4.1.2",b.COMPILER_REVISION=7;var m={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};b.REVISION_CHANGES=m;var n="[object Object]";d.prototype={constructor:d,logger:l.default,log:l.default.log,registerHelper:function(a,b){if(f.toString.call(a)===n){if(b)throw new h.default("Arg not supported with multiple helpers");f.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,b){if(f.toString.call(a)===n)f.extend(this.partials,a);else{if(void 0===b)throw new h.default('Attempting to register a partial called "'+a+'" as undefined');this.partials[a]=b}},unregisterPartial:function(a){delete this.partials[a]},registerDecorator:function(a,b){if(f.toString.call(a)===n){if(b)throw new h.default("Arg not supported with multiple decorators");f.extend(this.decorators,a)}else this.decorators[a]=b},unregisterDecorator:function(a){delete this.decorators[a]}};var o=l.default.log;b.log=o,b.createFrame=f.createFrame,b.logger=l.default},function(a,b){"use strict";function c(a){return k[a]}function d(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}function e(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}function f(a){if("string"!=typeof a){if(a&&a.toHTML)return a.toHTML();if(null==a)return"";if(!a)return a+"";a=""+a}return m.test(a)?a.replace(l,c):a}function g(a){return!a&&0!==a||!(!p(a)||0!==a.length)}function h(a){var b=d({},a);return b._parent=a,b}function i(a,b){return a.path=b,a}function j(a,b){return(a?a+".":"")+b}b.__esModule=!0,b.extend=d,b.indexOf=e,b.escapeExpression=f,b.isEmpty=g,b.createFrame=h,b.blockParams=i,b.appendContextPath=j;var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},l=/[&<>"'`=]/g,m=/[&<>"'`=]/,n=Object.prototype.toString;b.toString=n;var o=function(a){return"function"==typeof a};o(/x/)&&(b.isFunction=o=function(a){return"function"==typeof a&&"[object Function]"===n.call(a)}),b.isFunction=o;var p=Array.isArray||function(a){return!(!a||"object"!=typeof a)&&"[object Array]"===n.call(a)};b.isArray=p},function(a,b,c){"use strict";function d(a,b){var c=b&&b.loc,g=void 0,h=void 0;c&&(g=c.start.line,h=c.start.column,a+=" - "+g+":"+h);for(var i=Error.prototype.constructor.call(this,a),j=0;j<f.length;j++)this[f[j]]=i[f[j]];Error.captureStackTrace&&Error.captureStackTrace(this,d);try{c&&(this.lineNumber=g,e?Object.defineProperty(this,"column",{value:h,enumerable:!0}):this.column=h)}catch(k){}}var e=c(7).default;b.__esModule=!0;var f=["description","fileName","lineNumber","message","name","number","stack"];d.prototype=new Error,b.default=d,a.exports=b.default},function(a,b,c){a.exports={default:c(8),__esModule:!0}},function(a,b,c){var d=c(9);a.exports=function(a,b,c){return d.setDesc(a,b,c)}},function(a,b){var c=Object;a.exports={create:c.create,getProto:c.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:c.getOwnPropertyDescriptor,setDesc:c.defineProperty,setDescs:c.defineProperties,getKeys:c.keys,getNames:c.getOwnPropertyNames,getSymbols:c.getOwnPropertySymbols,each:[].forEach}},function(a,b,c){"use strict";function d(a){g.default(a),i.default(a),k.default(a),m.default(a),o.default(a),q.default(a),s.default(a)}var e=c(1).default;b.__esModule=!0,b.registerDefaultHelpers=d;var f=c(11),g=e(f),h=c(12),i=e(h),j=c(13),k=e(j),l=c(14),m=e(l),n=c(15),o=e(n),p=c(16),q=e(p),r=c(17),s=e(r)},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5);b.default=function(a){a.registerHelper("blockHelperMissing",function(b,c){var e=c.inverse,f=c.fn;if(!0===b)return f(this);if(!1===b||null==b)return e(this);if(d.isArray(b))return b.length>0?(c.ids&&(c.ids=[c.name]),a.helpers.each(b,c)):e(this);if(c.data&&c.ids){var g=d.createFrame(c.data);g.contextPath=d.appendContextPath(c.data.contextPath,c.name),c={data:g}}return f(b,c)})},a.exports=b.default},function(a,b,c){"use strict";var d=c(1).default;b.__esModule=!0;var e=c(5),f=c(6),g=d(f);b.default=function(a){a.registerHelper("each",function(a,b){function c(b,c,f){j&&(j.key=b,j.index=c,j.first=0===c,j.last=!!f,k&&(j.contextPath=k+b)),i+=d(a[b],{data:j,blockParams:e.blockParams([a[b],b],[k+b,null])})}if(!b)throw new g.default("Must pass iterator to #each");var d=b.fn,f=b.inverse,h=0,i="",j=void 0,k=void 0;if(b.data&&b.ids&&(k=e.appendContextPath(b.data.contextPath,b.ids[0])+"."),e.isFunction(a)&&(a=a.call(this)),b.data&&(j=e.createFrame(b.data)),a&&"object"==typeof a)if(e.isArray(a))for(var l=a.length;h<l;h++)h in a&&c(h,h,h===a.length-1);else{var m=void 0;for(var n in a)a.hasOwnProperty(n)&&(void 0!==m&&c(m,h-1),m=n,h++);void 0!==m&&c(m,h-1,!0)}return 0===h&&(i=f(this)),i})},a.exports=b.default},function(a,b,c){"use strict";var d=c(1).default;b.__esModule=!0;var e=c(6),f=d(e);b.default=function(a){a.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new f.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},a.exports=b.default},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5);b.default=function(a){a.registerHelper("if",function(a,b){return d.isFunction(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||d.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers.if.call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})})},a.exports=b.default},function(a,b){"use strict";b.__esModule=!0,b.default=function(a){a.registerHelper("log",function(){for(var b=[void 0],c=arguments[arguments.length-1],d=0;d<arguments.length-1;d++)b.push(arguments[d]);var e=1;null!=c.hash.level?e=c.hash.level:c.data&&null!=c.data.level&&(e=c.data.level),b[0]=e,a.log.apply(a,b)})},a.exports=b.default},function(a,b){"use strict";b.__esModule=!0,b.default=function(a){a.registerHelper("lookup",function(a,b){if(!a)return a;if("constructor"!==b||a.propertyIsEnumerable(b))return a[b]})},a.exports=b.default},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5);b.default=function(a){a.registerHelper("with",function(a,b){d.isFunction(a)&&(a=a.call(this));var c=b.fn;if(d.isEmpty(a))return b.inverse(this);var e=b.data;return b.data&&b.ids&&(e=d.createFrame(b.data),e.contextPath=d.appendContextPath(b.data.contextPath,b.ids[0])),c(a,{data:e,blockParams:d.blockParams([a],[e&&e.contextPath])})})},a.exports=b.default},function(a,b,c){"use strict";function d(a){g.default(a)}var e=c(1).default;b.__esModule=!0,b.registerDefaultDecorators=d;var f=c(19),g=e(f)},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5);b.default=function(a){a.registerDecorator("inline",function(a,b,c,e){var f=a;return b.partials||(b.partials={},f=function(e,f){var g=c.partials;c.partials=d.extend({},g,b.partials);var h=a(e,f);return c.partials=g,h}),b.partials[e.args[0]]=e.fn,f})},a.exports=b.default},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5),e={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(a){if("string"==typeof a){var b=d.indexOf(e.methodMap,a.toLowerCase());a=b>=0?b:parseInt(a,10)}return a},log:function(a){if(a=e.lookupLevel(a),"undefined"!=typeof console&&e.lookupLevel(e.level)<=a){var b=e.methodMap[a];console[b]||(b="log");for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];console[b].apply(console,d)}}};b.default=e,a.exports=b.default},function(a,b){"use strict";function c(a){this.string=a}b.__esModule=!0,c.prototype.toString=c.prototype.toHTML=function(){return""+this.string},b.default=c,a.exports=b.default},function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=s.COMPILER_REVISION;if(b!==c){if(b<c){var d=s.REVISION_CHANGES[c],e=s.REVISION_CHANGES[b];throw new r.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new r.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){function c(c,d,e){e.hash&&(d=p.extend({},d,e.hash),e.ids&&(e.ids[0]=!0)),c=b.VM.resolvePartial.call(this,c,d,e);var f=b.VM.invokePartial.call(this,c,d,e);if(null==f&&b.compile&&(e.partials[e.name]=b.compile(c,a.compilerOptions,b),f=e.partials[e.name](d,e)),null!=f){if(e.indent){for(var g=f.split("\n"),h=0,i=g.length;h<i&&(g[h]||h+1!==i);h++)g[h]=e.indent+g[h];f=g.join("\n")}return f}throw new r.default("The partial "+e.name+" could not be compiled when running in runtime-only mode")}function d(b){function c(b){return""+a.main(e,b,e.helpers,e.partials,g,i,h)}var f=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],g=f.data;d._setup(f),!f.partial&&a.useData&&(g=j(b,g));var h=void 0,i=a.useBlockParams?[]:void 0;return a.useDepths&&(h=f.depths?b!=f.depths[0]?[b].concat(f.depths):f.depths:[b]),(c=k(a.main,c,e,f.depths||[],g,i))(b,f)}if(!b)throw new r.default("No environment passed to template");if(!a||!a.main)throw new r.default("Unknown template object: "+typeof a);a.main.decorator=a.main_d,b.VM.checkRevision(a.compiler);var e={strict:function(a,b){if(!(b in a))throw new r.default('"'+b+'" not defined in '+a);return a[b]},lookup:function(a,b){for(var c=a.length,d=0;d<c;d++)if(a[d]&&null!=a[d][b])return a[d][b]},lambda:function(a,b){return"function"==typeof a?a.call(b):a},escapeExpression:p.escapeExpression,invokePartial:c,fn:function(b){var c=a[b];return c.decorator=a[b+"_d"],c},programs:[],program:function(a,b,c,d,e){var g=this.programs[a],h=this.fn(a);return b||e||d||c?g=f(this,a,h,b,c,d,e):g||(g=this.programs[a]=f(this,a,h)),g},data:function(a,b){for(;a&&b--;)a=a._parent;return a},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c=p.extend({},b,a)),c},nullContext:l({}),noop:b.VM.noop,compilerInfo:a.compiler};return d.isTop=!0,d._setup=function(c){c.partial?(e.helpers=c.helpers,e.partials=c.partials,e.decorators=c.decorators):(e.helpers=e.merge(c.helpers,b.helpers),a.usePartial&&(e.partials=e.merge(c.partials,b.partials)),(a.usePartial||a.useDecorators)&&(e.decorators=e.merge(c.decorators,b.decorators)))},d._child=function(b,c,d,g){if(a.useBlockParams&&!d)throw new r.default("must pass block params");if(a.useDepths&&!g)throw new r.default("must pass parent depths");return f(e,b,a[b],c,0,d,g)},d}function f(a,b,c,d,e,f,g){function h(b){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],h=g;return!g||b==g[0]||b===a.nullContext&&null===g[0]||(h=[b].concat(g)),c(a,b,a.helpers,a.partials,e.data||d,f&&[e.blockParams].concat(f),h)}return h=k(c,h,a,g,d,f),h.program=b,h.depth=g?g.length:0,h.blockParams=e||0,h}function g(a,b,c){return a?a.call||c.name||(c.name=a,a=c.partials[a]):a="@partial-block"===c.name?c.data["partial-block"]:c.partials[c.name],a}function h(a,b,c){var d=c.data&&c.data["partial-block"];c.partial=!0,c.ids&&(c.data.contextPath=c.ids[0]||c.data.contextPath);var e=void 0;if(c.fn&&c.fn!==i&&function(){c.data=s.createFrame(c.data);var a=c.fn;e=c.data["partial-block"]=function(b){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return c.data=s.createFrame(c.data),c.data["partial-block"]=d,a(b,c)},a.partials&&(c.partials=p.extend({},c.partials,a.partials))}(),void 0===a&&e&&(a=e),void 0===a)throw new r.default("The partial "+c.name+" could not be found");if(a instanceof Function)return a(b,c)}function i(){return""}function j(a,b){return b&&"root"in b||(b=b?s.createFrame(b):{},b.root=a),b}function k(a,b,c,d,e,f){if(a.decorator){var g={};b=a.decorator(b,g,c,d&&d[0],e,f,d),p.extend(b,g)}return b}var l=c(23).default,m=c(3).default,n=c(1).default;b.__esModule=!0,b.checkRevision=d,b.template=e,b.wrapProgram=f,b.resolvePartial=g,b.invokePartial=h,b.noop=i;var o=c(5),p=m(o),q=c(6),r=n(q),s=c(4)},function(a,b,c){a.exports={default:c(24),__esModule:!0}},function(a,b,c){c(25),a.exports=c(30).Object.seal},function(a,b,c){var d=c(26);c(27)("seal",function(a){return function(b){return a&&d(b)?a(b):b}})},function(a,b){a.exports=function(a){return"object"==typeof a?null!==a:"function"==typeof a}},function(a,b,c){var d=c(28),e=c(30),f=c(33);a.exports=function(a,b){var c=(e.Object||{})[a]||Object[a],g={};g[a]=b(c),d(d.S+d.F*f(function(){c(1)}),"Object",g)}},function(a,b,c){var d=c(29),e=c(30),f=c(31),g="prototype",h=function(a,b,c){var i,j,k,l=a&h.F,m=a&h.G,n=a&h.S,o=a&h.P,p=a&h.B,q=a&h.W,r=m?e:e[b]||(e[b]={}),s=m?d:n?d[b]:(d[b]||{})[g];m&&(c=b);for(i in c)(j=!l&&s&&i in s)&&i in r||(k=j?s[i]:c[i],r[i]=m&&"function"!=typeof s[i]?c[i]:p&&j?f(k,d):q&&s[i]==k?function(a){var b=function(b){return this instanceof a?new a(b):a(b)};return b[g]=a[g],b}(k):o&&"function"==typeof k?f(Function.call,k):k,o&&((r[g]||(r[g]={}))[i]=k))};h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,a.exports=h},function(a,b){var c=a.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=c)},function(a,b){var c=a.exports={version:"1.2.6"};"number"==typeof __e&&(__e=c)},function(a,b,c){var d=c(32);a.exports=function(a,b,c){if(d(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},function(a,b){a.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},function(a,b){a.exports=function(a){try{return!!a()}catch(b){return!0}}},function(a,b){(function(c){"use strict";b.__esModule=!0,b.default=function(a){var b=void 0!==c?c:window,d=b.Handlebars;a.noConflict=function(){return b.Handlebars===a&&(b.Handlebars=d),a}},a.exports=b.default}).call(b,function(){return this}())},function(a,b){"use strict";b.__esModule=!0;var c={helpers:{helperExpression:function(a){return"SubExpression"===a.type||("MustacheStatement"===a.type||"BlockStatement"===a.type)&&!!(a.params&&a.params.length||a.hash)},scopedId:function(a){return/^\.|this\b/.test(a.original)},simpleId:function(a){return 1===a.parts.length&&!c.helpers.scopedId(a)&&!a.depth}}};b.default=c,a.exports=b.default},function(a,b,c){"use strict";function d(a,b){return"Program"===a.type?a:(h.default.yy=n,n.locInfo=function(a){return new n.SourceLocation(b&&b.srcName,a)},new j.default(b).accept(h.default.parse(a)))}var e=c(1).default,f=c(3).default;b.__esModule=!0,b.parse=d;var g=c(37),h=e(g),i=c(38),j=e(i),k=c(40),l=f(k),m=c(5);b.parser=h.default;var n={};m.extend(n,l)},function(a,b){"use strict";b.__esModule=!0;var c=function(){function a(){this.yy={}}var b={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(a,b,c,d,e,f,g){var h=f.length-1;switch(e){case 1:return f[h-1];case 2:this.$=d.prepareProgram(f[h]);break;case 3:case 4:case 5:case 6:case 7:case 8:this.$=f[h];break;case 9:this.$={type:"CommentStatement",value:d.stripComment(f[h]),strip:d.stripFlags(f[h],f[h]),loc:d.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:f[h],value:f[h],loc:d.locInfo(this._$)};break;case 11:this.$=d.prepareRawBlock(f[h-2],f[h-1],f[h],this._$);break;case 12:this.$={path:f[h-3],params:f[h-2],hash:f[h-1]};break;case 13:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!1,this._$);break;case 14:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!0,this._$);break;case 15:this.$={open:f[h-5],path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 16:case 17:this.$={path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 18:this.$={strip:d.stripFlags(f[h-1],f[h-1]),program:f[h]};break;case 19:var i=d.prepareBlock(f[h-2],f[h-1],f[h],f[h],!1,this._$),j=d.prepareProgram([i],f[h-1].loc);j.chained=!0,this.$={strip:f[h-2].strip,program:j,chain:!0};break;case 20:this.$=f[h];break;case 21:this.$={path:f[h-1],strip:d.stripFlags(f[h-2],f[h])};break;case 22:case 23:this.$=d.prepareMustache(f[h-3],f[h-2],f[h-1],f[h-4],d.stripFlags(f[h-4],f[h]),this._$);break;case 24:this.$={type:"PartialStatement",name:f[h-3],params:f[h-2],hash:f[h-1],indent:"",strip:d.stripFlags(f[h-4],f[h]),loc:d.locInfo(this._$)};break;case 25:this.$=d.preparePartialBlock(f[h-2],f[h-1],f[h],this._$);break;case 26:this.$={path:f[h-3],params:f[h-2],hash:f[h-1],strip:d.stripFlags(f[h-4],f[h])};break;case 27:case 28:this.$=f[h];break;case 29:this.$={type:"SubExpression",path:f[h-3],params:f[h-2],hash:f[h-1],loc:d.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:f[h],loc:d.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:d.id(f[h-2]),value:f[h],loc:d.locInfo(this._$)};break;case 32:this.$=d.id(f[h-1]);break;case 33:case 34:this.$=f[h];break;case 35:this.$={type:"StringLiteral",value:f[h],original:f[h],loc:d.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(f[h]),original:Number(f[h]),loc:d.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===f[h],original:"true"===f[h],loc:d.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:d.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:d.locInfo(this._$)};break;case 40:case 41:this.$=f[h];break;case 42:this.$=d.preparePath(!0,f[h],this._$);break;case 43:this.$=d.preparePath(!1,f[h],this._$);break;case 44:f[h-2].push({part:d.id(f[h]),original:f[h],separator:f[h-1]}),this.$=f[h-2];break;case 45:this.$=[{part:d.id(f[h]),original:f[h]}];break;case 46:this.$=[];break;case 47:f[h-1].push(f[h]);break;case 48:this.$=[f[h]];break;case 49:f[h-1].push(f[h]);break;case 50:this.$=[];break;case 51:f[h-1].push(f[h]);break;case 58:this.$=[];break;case 59:f[h-1].push(f[h]);break;case 64:this.$=[];break;case 65:f[h-1].push(f[h]);break;case 70:this.$=[];break;case 71:f[h-1].push(f[h]);break;case 78:this.$=[];break;case 79:f[h-1].push(f[h]);break;case 82:this.$=[];break;case 83:f[h-1].push(f[h]);break;case 86:this.$=[];break;case 87:f[h-1].push(f[h]);break;case 90:this.$=[];break;case 91:f[h-1].push(f[h]);break;case 94:this.$=[];break;case 95:f[h-1].push(f[h]);break;case 98:this.$=[f[h]];break;case 99:f[h-1].push(f[h]);break;case 100:this.$=[f[h]];break;case 101:f[h-1].push(f[h])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{
33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(a,b){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:(null!==n&&void 0!==n||(n=b()),q=g[p]&&g[p][n]),void 0===q||!q.length||!q[0]){var x="";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push("'"+this.terminals_[s]+"'");x=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),void 0!==(r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f)))return r;t&&(d=d.slice(0,-1*t*2),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},c=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];return this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a,a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length&&(!(c=this._input.match(this.rules[f[g]]))||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\r\n?|\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return void 0!==a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){function e(a,c){return b.yytext=b.yytext.substring(a,b.yyleng-c+a)}switch(c){case 0:if("\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu"),b.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(e(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(b.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return b.yytext=e(1,2).replace(/\\"/g,'"'),80;case 32:return b.yytext=e(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return b.yytext=b.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},a}();return b.lexer=c,a.prototype=b,b.Parser=a,new a}();b.default=c,a.exports=b.default},function(a,b,c){"use strict";function d(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=a}function e(a,b,c){void 0===b&&(b=a.length);var d=a[b-1],e=a[b-2];return d?"ContentStatement"===d.type?(e||!c?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(d.original):void 0:c}function f(a,b,c){void 0===b&&(b=-1);var d=a[b+1],e=a[b+2];return d?"ContentStatement"===d.type?(e||!c?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(d.original):void 0:c}function g(a,b,c){var d=a[null==b?0:b+1];if(d&&"ContentStatement"===d.type&&(c||!d.rightStripped)){var e=d.value;d.value=d.value.replace(c?/^\s+/:/^[ \t]*\r?\n?/,""),d.rightStripped=d.value!==e}}function h(a,b,c){var d=a[null==b?a.length-1:b-1];if(d&&"ContentStatement"===d.type&&(c||!d.leftStripped)){var e=d.value;return d.value=d.value.replace(c?/\s+$/:/[ \t]+$/,""),d.leftStripped=d.value!==e,d.leftStripped}}var i=c(1).default;b.__esModule=!0;var j=c(39),k=i(j);d.prototype=new k.default,d.prototype.Program=function(a){var b=!this.options.ignoreStandalone,c=!this.isRootSeen;this.isRootSeen=!0;for(var d=a.body,i=0,j=d.length;i<j;i++){var k=d[i],l=this.accept(k);if(l){var m=e(d,i,c),n=f(d,i,c),o=l.openStandalone&&m,p=l.closeStandalone&&n,q=l.inlineStandalone&&m&&n;l.close&&g(d,i,!0),l.open&&h(d,i,!0),b&&q&&(g(d,i),h(d,i)&&"PartialStatement"===k.type&&(k.indent=/([ \t]+$)/.exec(d[i-1].original)[1])),b&&o&&(g((k.program||k.inverse).body),h(d,i)),b&&p&&(g(d,i),h((k.inverse||k.program).body))}}return a},d.prototype.BlockStatement=d.prototype.DecoratorBlock=d.prototype.PartialBlockStatement=function(a){this.accept(a.program),this.accept(a.inverse);var b=a.program||a.inverse,c=a.program&&a.inverse,d=c,i=c;if(c&&c.chained)for(d=c.body[0].program;i.chained;)i=i.body[i.body.length-1].program;var j={open:a.openStrip.open,close:a.closeStrip.close,openStandalone:f(b.body),closeStandalone:e((d||b).body)};if(a.openStrip.close&&g(b.body,null,!0),c){var k=a.inverseStrip;k.open&&h(b.body,null,!0),k.close&&g(d.body,null,!0),a.closeStrip.open&&h(i.body,null,!0),!this.options.ignoreStandalone&&e(b.body)&&f(d.body)&&(h(b.body),g(d.body))}else a.closeStrip.open&&h(b.body,null,!0);return j},d.prototype.Decorator=d.prototype.MustacheStatement=function(a){return a.strip},d.prototype.PartialStatement=d.prototype.CommentStatement=function(a){var b=a.strip||{};return{inlineStandalone:!0,open:b.open,close:b.close}},b.default=d,a.exports=b.default},function(a,b,c){"use strict";function d(){this.parents=[]}function e(a){this.acceptRequired(a,"path"),this.acceptArray(a.params),this.acceptKey(a,"hash")}function f(a){e.call(this,a),this.acceptKey(a,"program"),this.acceptKey(a,"inverse")}function g(a){this.acceptRequired(a,"name"),this.acceptArray(a.params),this.acceptKey(a,"hash")}var h=c(1).default;b.__esModule=!0;var i=c(6),j=h(i);d.prototype={constructor:d,mutating:!1,acceptKey:function(a,b){var c=this.accept(a[b]);if(this.mutating){if(c&&!d.prototype[c.type])throw new j.default('Unexpected node type "'+c.type+'" found when accepting '+b+" on "+a.type);a[b]=c}},acceptRequired:function(a,b){if(this.acceptKey(a,b),!a[b])throw new j.default(a.type+" requires "+b)},acceptArray:function(a){for(var b=0,c=a.length;b<c;b++)this.acceptKey(a,b),a[b]||(a.splice(b,1),b--,c--)},accept:function(a){if(a){if(!this[a.type])throw new j.default("Unknown type: "+a.type,a);this.current&&this.parents.unshift(this.current),this.current=a;var b=this[a.type](a);return this.current=this.parents.shift(),!this.mutating||b?b:!1!==b?a:void 0}},Program:function(a){this.acceptArray(a.body)},MustacheStatement:e,Decorator:e,BlockStatement:f,DecoratorBlock:f,PartialStatement:g,PartialBlockStatement:function(a){g.call(this,a),this.acceptKey(a,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:e,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(a){this.acceptArray(a.pairs)},HashPair:function(a){this.acceptRequired(a,"value")}},b.default=d,a.exports=b.default},function(a,b,c){"use strict";function d(a,b){if(b=b.path?b.path.original:b,a.path.original!==b){var c={loc:a.path.loc};throw new q.default(a.path.original+" doesn't match "+b,c)}}function e(a,b){this.source=a,this.start={line:b.first_line,column:b.first_column},this.end={line:b.last_line,column:b.last_column}}function f(a){return/^\[.*\]$/.test(a)?a.substring(1,a.length-1):a}function g(a,b){return{open:"~"===a.charAt(2),close:"~"===b.charAt(b.length-3)}}function h(a){return a.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function i(a,b,c){c=this.locInfo(c);for(var d=a?"@":"",e=[],f=0,g=0,h=b.length;g<h;g++){var i=b[g].part,j=b[g].original!==i;if(d+=(b[g].separator||"")+i,j||".."!==i&&"."!==i&&"this"!==i)e.push(i);else{if(e.length>0)throw new q.default("Invalid path: "+d,{loc:c});".."===i&&f++}}return{type:"PathExpression",data:a,depth:f,parts:e,original:d,loc:c}}function j(a,b,c,d,e,f){var g=d.charAt(3)||d.charAt(2),h="{"!==g&&"&"!==g;return{type:/\*/.test(d)?"Decorator":"MustacheStatement",path:a,params:b,hash:c,escaped:h,strip:e,loc:this.locInfo(f)}}function k(a,b,c,e){d(a,c),e=this.locInfo(e);var f={type:"Program",body:b,strip:{},loc:e};return{type:"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:f,openStrip:{},inverseStrip:{},closeStrip:{},loc:e}}function l(a,b,c,e,f,g){e&&e.path&&d(a,e);var h=/\*/.test(a.open);b.blockParams=a.blockParams;var i=void 0,j=void 0;if(c){if(h)throw new q.default("Unexpected inverse block on decorator",c);c.chain&&(c.program.body[0].closeStrip=e.strip),j=c.strip,i=c.program}return f&&(f=i,i=b,b=f),{type:h?"DecoratorBlock":"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:b,inverse:i,openStrip:a.strip,inverseStrip:j,closeStrip:e&&e.strip,loc:this.locInfo(g)}}function m(a,b){if(!b&&a.length){var c=a[0].loc,d=a[a.length-1].loc;c&&d&&(b={source:c.source,start:{line:c.start.line,column:c.start.column},end:{line:d.end.line,column:d.end.column}})}return{type:"Program",body:a,strip:{},loc:b}}function n(a,b,c,e){return d(a,c),{type:"PartialBlockStatement",name:a.path,params:a.params,hash:a.hash,program:b,openStrip:a.strip,closeStrip:c&&c.strip,loc:this.locInfo(e)}}var o=c(1).default;b.__esModule=!0,b.SourceLocation=e,b.id=f,b.stripFlags=g,b.stripComment=h,b.preparePath=i,b.prepareMustache=j,b.prepareRawBlock=k,b.prepareBlock=l,b.prepareProgram=m,b.preparePartialBlock=n;var p=c(6),q=o(p)},function(a,b,c){"use strict";function d(){}function e(a,b,c){if(null==a||"string"!=typeof a&&"Program"!==a.type)throw new k.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);b=b||{},"data"in b||(b.data=!0),b.compat&&(b.useDepths=!0);var d=c.parse(a,b),e=(new c.Compiler).compile(d,b);return(new c.JavaScriptCompiler).compile(e,b)}function f(a,b,c){function d(){var d=c.parse(a,b),e=(new c.Compiler).compile(d,b),f=(new c.JavaScriptCompiler).compile(e,b,void 0,!0);return c.template(f)}function e(a,b){return f||(f=d()),f.call(this,a,b)}if(void 0===b&&(b={}),null==a||"string"!=typeof a&&"Program"!==a.type)throw new k.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);b=l.extend({},b),"data"in b||(b.data=!0),b.compat&&(b.useDepths=!0);var f=void 0;return e._setup=function(a){return f||(f=d()),f._setup(a)},e._child=function(a,b,c,e){return f||(f=d()),f._child(a,b,c,e)},e}function g(a,b){if(a===b)return!0;if(l.isArray(a)&&l.isArray(b)&&a.length===b.length){for(var c=0;c<a.length;c++)if(!g(a[c],b[c]))return!1;return!0}}function h(a){if(!a.path.parts){var b=a.path;a.path={type:"PathExpression",data:!1,depth:0,parts:[b.original+""],original:b.original+"",loc:b.loc}}}var i=c(1).default;b.__esModule=!0,b.Compiler=d,b.precompile=e,b.compile=f;var j=c(6),k=i(j),l=c(5),m=c(35),n=i(m),o=[].slice;d.prototype={compiler:d,equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;c<b;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||!g(d.args,e.args))return!1}b=this.children.length;for(var c=0;c<b;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=b,this.stringParams=b.stringParams,this.trackIds=b.trackIds,b.blockParams=b.blockParams||[];var c=b.knownHelpers;if(b.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},c)for(var d in c)this.options.knownHelpers[d]=c[d];return this.accept(a)},compileProgram:function(a){var b=new this.compiler,c=b.compile(a,this.options),d=this.guid++;return this.usePartial=this.usePartial||c.usePartial,this.children[d]=c,this.useDepths=this.useDepths||c.useDepths,d},accept:function(a){if(!this[a.type])throw new k.default("Unknown type: "+a.type,a);this.sourceNode.unshift(a);var b=this[a.type](a);return this.sourceNode.shift(),b},Program:function(a){this.options.blockParams.unshift(a.blockParams);for(var b=a.body,c=b.length,d=0;d<c;d++)this.accept(b[d]);return this.options.blockParams.shift(),this.isSimple=1===c,this.blockParams=a.blockParams?a.blockParams.length:0,this},BlockStatement:function(a){h(a);var b=a.program,c=a.inverse;b=b&&this.compileProgram(b),c=c&&this.compileProgram(c);var d=this.classifySexpr(a);"helper"===d?this.helperSexpr(a,b,c):"simple"===d?(this.simpleSexpr(a),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("blockValue",a.path.original)):(this.ambiguousSexpr(a,b,c),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(a){var b=a.program&&this.compileProgram(a.program),c=this.setupFullMustacheParams(a,b,void 0),d=a.path;this.useDecorators=!0,this.opcode("registerDecorator",c.length,d.original)},PartialStatement:function(a){this.usePartial=!0;var b=a.program;b&&(b=this.compileProgram(a.program));var c=a.params;if(c.length>1)throw new k.default("Unsupported number of partial arguments: "+c.length,a);c.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):c.push({type:"PathExpression",parts:[],depth:0}));var d=a.name.original,e="SubExpression"===a.name.type;e&&this.accept(a.name),this.setupFullMustacheParams(a,b,void 0,!0);var f=a.indent||"";this.options.preventIndent&&f&&(this.opcode("appendContent",f),f=""),this.opcode("invokePartial",e,d,f),this.opcode("append")},PartialBlockStatement:function(a){this.PartialStatement(a)},MustacheStatement:function(a){this.SubExpression(a),a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(a){this.DecoratorBlock(a)},ContentStatement:function(a){a.value&&this.opcode("appendContent",a.value)},CommentStatement:function(){},SubExpression:function(a){h(a);var b=this.classifySexpr(a);"simple"===b?this.simpleSexpr(a):"helper"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ambiguousSexpr:function(a,b,c){var d=a.path,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),d.strict=!0,this.accept(d),this.opcode("invokeAmbiguous",e,f)},simpleSexpr:function(a){var b=a.path;b.strict=!0,this.accept(b),this.opcode("resolvePossibleLambda")},helperSexpr:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.path,f=e.parts[0];if(this.options.knownHelpers[f])this.opcode("invokeKnownHelper",d.length,f);else{if(this.options.knownHelpersOnly)throw new k.default("You specified knownHelpersOnly, but used the unknown helper "+f,a);e.strict=!0,e.falsy=!0,this.accept(e),this.opcode("invokeHelper",d.length,e.original,n.default.helpers.simpleId(e))}},PathExpression:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0],c=n.default.helpers.scopedId(a),d=!a.depth&&!c&&this.blockParamIndex(b);d?this.opcode("lookupBlockParam",d,a.parts):b?a.data?(this.options.data=!0,this.opcode("lookupData",a.depth,a.parts,a.strict)):this.opcode("lookupOnContext",a.parts,a.falsy,a.strict,c):this.opcode("pushContext")},StringLiteral:function(a){this.opcode("pushString",a.value)},NumberLiteral:function(a){this.opcode("pushLiteral",a.value)},BooleanLiteral:function(a){this.opcode("pushLiteral",a.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(a){var b=a.pairs,c=0,d=b.length;for(this.opcode("pushHash");c<d;c++)this.pushParam(b[c].value);for(;c--;)this.opcode("assignToHash",b[c].key);this.opcode("popHash")},opcode:function(a){this.opcodes.push({opcode:a,args:o.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(a){a&&(this.useDepths=!0)},classifySexpr:function(a){var b=n.default.helpers.simpleId(a.path),c=b&&!!this.blockParamIndex(a.path.parts[0]),d=!c&&n.default.helpers.helperExpression(a),e=!c&&(d||b);if(e&&!d){var f=a.path.parts[0],g=this.options;g.knownHelpers[f]?d=!0:g.knownHelpersOnly&&(e=!1)}return d?"helper":e?"ambiguous":"simple"},pushParams:function(a){for(var b=0,c=a.length;b<c;b++)this.pushParam(a[b])},pushParam:function(a){var b=null!=a.value?a.value:a.original||"";if(this.stringParams)b.replace&&(b=b.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),a.depth&&this.addDepth(a.depth),this.opcode("getContext",a.depth||0),this.opcode("pushStringParam",b,a.type),"SubExpression"===a.type&&this.accept(a);else{if(this.trackIds){var c=void 0;if(!a.parts||n.default.helpers.scopedId(a)||a.depth||(c=this.blockParamIndex(a.parts[0])),c){var d=a.parts.slice(1).join(".");this.opcode("pushId","BlockParam",c,d)}else b=a.original||b,b.replace&&(b=b.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",a.type,b)}this.accept(a)}},setupFullMustacheParams:function(a,b,c,d){var e=a.params;return this.pushParams(e),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.accept(a.hash):this.opcode("emptyHash",d),e},blockParamIndex:function(a){for(var b=0,c=this.options.blockParams.length;b<c;b++){var d=this.options.blockParams[b],e=d&&l.indexOf(d,a);if(d&&e>=0)return[b,e]}}}},function(a,b,c){"use strict";function d(a){this.value=a}function e(){}function f(a,b,c,d){var e=b.popStack(),f=0,g=c.length;for(a&&g--;f<g;f++)e=b.nameLookup(e,c[f],d);return a?[b.aliasable("container.strict"),"(",e,", ",b.quotedString(c[f]),")"]:e}var g=c(1).default;b.__esModule=!0;var h=c(4),i=c(6),j=g(i),k=c(5),l=c(43),m=g(l);e.prototype={nameLookup:function(a,b){return"constructor"===b?["(",a,".propertyIsEnumerable('constructor') ? ",a,".constructor : undefined",")"]:e.isValidJavaScriptVariableName(b)?[a,".",b]:[a,"[",JSON.stringify(b),"]"]},depthedLookup:function(a){return[this.aliasable("container.lookup"),'(depths, "',a,'")']},compilerInfo:function(){var a=h.COMPILER_REVISION;return[a,h.REVISION_CHANGES[a]]},appendToBuffer:function(a,b,c){return k.isArray(a)||(a=[a]),a=this.source.wrap(a,b),this.environment.isSimple?["return ",a,";"]:c?["buffer += ",a,";"]:(a.appendToBuffer=!0,a)},initializeBuffer:function(){return this.quotedString("")},compile:function(a,b,c,d){this.environment=a,this.options=b,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!d,this.name=this.environment.name,this.isChild=!!c,this.context=c||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(a,b),this.useDepths=this.useDepths||a.useDepths||a.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||a.useBlockParams;var e=a.opcodes,f=void 0,g=void 0,h=void 0,i=void 0;for(h=0,i=e.length;h<i;h++)f=e[h],this.source.currentLocation=f.loc,g=g||f.loc,this[f.opcode].apply(this,f.args);if(this.source.currentLocation=g,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new j.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),d?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var k=this.createFunctionContext(d);if(this.isChild)return k;var l={compiler:this.compilerInfo(),main:k};this.decorators&&(l.main_d=this.decorators,l.useDecorators=!0);var m=this.context,n=m.programs,o=m.decorators;for(h=0,i=n.length;h<i;h++)n[h]&&(l[h]=n[h],o[h]&&(l[h+"_d"]=o[h],l.useDecorators=!0));return this.environment.usePartial&&(l.usePartial=!0),this.options.data&&(l.useData=!0),this.useDepths&&(l.useDepths=!0),this.useBlockParams&&(l.useBlockParams=!0),this.options.compat&&(l.compat=!0),d?l.compilerOptions=this.options:(l.compiler=JSON.stringify(l.compiler),this.source.currentLocation={start:{line:1,column:0}},l=this.objectLiteral(l),b.srcName?(l=l.toStringWithSourceMap({file:b.destName}),l.map=l.map&&l.map.toString()):l=l.toString()),l},preamble:function(){this.lastContext=0,this.source=new m.default(this.options.srcName),this.decorators=new m.default(this.options.srcName)},createFunctionContext:function(a){var b="",c=this.stackVars.concat(this.registers.list);c.length>0&&(b+=", "+c.join(", "));var d=0;for(var e in this.aliases){var f=this.aliases[e];this.aliases.hasOwnProperty(e)&&f.children&&f.referenceCount>1&&(b+=", alias"+ ++d+"="+e,f.children[0]="alias"+d)}var g=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&g.push("blockParams"),this.useDepths&&g.push("depths");var h=this.mergeSource(b);return a?(g.push(h),Function.apply(this,g)):this.source.wrap(["function(",g.join(","),") {\n  ",h,"}"])},mergeSource:function(a){var b=this.environment.isSimple,c=!this.forceBuffer,d=void 0,e=void 0,f=void 0,g=void 0;return this.source.each(function(a){a.appendToBuffer?(f?a.prepend("  + "):f=a,g=a):(f&&(e?f.prepend("buffer += "):d=!0,g.add(";"),f=g=void 0),e=!0,b||(c=!1))}),c?f?(f.prepend("return "),g.add(";")):e||this.source.push('return "";'):(a+=", buffer = "+(d?"":this.initializeBuffer()),f?(f.prepend("return buffer + "),g.add(";")):this.source.push("return buffer;")),a&&this.source.prepend("var "+a.substring(2)+(d?"":";\n")),this.source.merge()},blockValue:function(a){var b=this.aliasable("helpers.blockHelperMissing"),c=[this.contextName(0)];this.setupHelperArgs(a,0,c);var d=this.popStack();c.splice(1,0,d),this.push(this.source.functionCall(b,"call",c))},ambiguousBlockValue:function(){var a=this.aliasable("helpers.blockHelperMissing"),b=[this.contextName(0)];this.setupHelperArgs("",0,b,!0),this.flushInline();var c=this.topStack();b.splice(1,0,c),this.pushSource(["if (!",this.lastHelper,") { ",c," = ",this.source.functionCall(a,"call",b),"}"])},appendContent:function(a){this.pendingContent?a=this.pendingContent+a:this.pendingLocation=this.source.currentLocation,this.pendingContent=a},append:function(){if(this.isInline())this.replaceStack(function(a){return[" != null ? ",a,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var a=this.popStack();this.pushSource(["if (",a," != null) { ",this.appendToBuffer(a,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(a){this.lastContext=a},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(a,b,c,d){var e=0;d||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(a[e++])),this.resolvePath("context",a,e,b,c)},lookupBlockParam:function(a,b){this.useBlockParams=!0,this.push(["blockParams[",a[0],"][",a[1],"]"]),this.resolvePath("context",b,1)},lookupData:function(a,b,c){a?this.pushStackLiteral("container.data(data, "+a+")"):this.pushStackLiteral("data"),this.resolvePath("data",b,0,!0,c)},resolvePath:function(a,b,c,d,e){var g=this;if(this.options.strict||this.options.assumeObjects)return void this.push(f(this.options.strict&&e,this,b,a));for(var h=b.length;c<h;c++)this.replaceStack(function(e){var f=g.nameLookup(e,b[c],a);return d?[" && ",f]:[" != null ? ",f," : ",e]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(a,b){this.pushContext(),this.pushString(b),"SubExpression"!==b&&("string"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(a){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(a?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},
popHash:function(){var a=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(a.ids)),this.stringParams&&(this.push(this.objectLiteral(a.contexts)),this.push(this.objectLiteral(a.types))),this.push(this.objectLiteral(a.values))},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},registerDecorator:function(a,b){var c=this.nameLookup("decorators",b,"decorator"),d=this.setupHelperArgs(b,a);this.decorators.push(["fn = ",this.decorators.functionCall(c,"",["fn","props","container",d])," || fn;"])},invokeHelper:function(a,b,c){var d=this.popStack(),e=this.setupHelper(a,b),f=c?[e.name," || "]:"",g=["("].concat(f,d);this.options.strict||g.push(" || ",this.aliasable("helpers.helperMissing")),g.push(")"),this.push(this.source.functionCall(g,"call",e.callParams))},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(this.source.functionCall(c.name,"call",c.callParams))},invokeAmbiguous:function(a,b){this.useRegister("helper");var c=this.popStack();this.emptyHash();var d=this.setupHelper(0,a,b),e=this.lastHelper=this.nameLookup("helpers",a,"helper"),f=["(","(helper = ",e," || ",c,")"];this.options.strict||(f[0]="(helper = ",f.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",f,d.paramsInit?["),(",d.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",d.callParams)," : helper))"])},invokePartial:function(a,b,c){var d=[],e=this.setupParams(b,1,d);a&&(b=this.popStack(),delete e.name),c&&(e.indent=JSON.stringify(c)),e.helpers="helpers",e.partials="partials",e.decorators="container.decorators",a?d.unshift(b):d.unshift(this.nameLookup("partials",b,"partial")),this.options.compat&&(e.depths="depths"),e=this.objectLiteral(e),d.push(e),this.push(this.source.functionCall("container.invokePartial","",d))},assignToHash:function(a){var b=this.popStack(),c=void 0,d=void 0,e=void 0;this.trackIds&&(e=this.popStack()),this.stringParams&&(d=this.popStack(),c=this.popStack());var f=this.hash;c&&(f.contexts[a]=c),d&&(f.types[a]=d),e&&(f.ids[a]=e),f.values[a]=b},pushId:function(a,b,c){"BlockParam"===a?this.pushStackLiteral("blockParams["+b[0]+"].path["+b[1]+"]"+(c?" + "+JSON.stringify("."+c):"")):"PathExpression"===a?this.pushString(b):"SubExpression"===a?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:e,compileChildren:function(a,b){for(var c=a.children,d=void 0,e=void 0,f=0,g=c.length;f<g;f++){d=c[f],e=new this.compiler;var h=this.matchExistingProgram(d);if(null==h){this.context.programs.push("");var i=this.context.programs.length;d.index=i,d.name="program"+i,this.context.programs[i]=e.compile(d,b,this.context,!this.precompile),this.context.decorators[i]=e.decorators,this.context.environments[i]=d,this.useDepths=this.useDepths||e.useDepths,this.useBlockParams=this.useBlockParams||e.useBlockParams,d.useDepths=this.useDepths,d.useBlockParams=this.useBlockParams}else d.index=h.index,d.name="program"+h.index,this.useDepths=this.useDepths||h.useDepths,this.useBlockParams=this.useBlockParams||h.useBlockParams}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;b<c;b++){var d=this.context.environments[b];if(d&&d.equals(a))return d}},programExpression:function(a){var b=this.environment.children[a],c=[b.index,"data",b.blockParams];return(this.useBlockParams||this.useDepths)&&c.push("blockParams"),this.useDepths&&c.push("depths"),"container.program("+c.join(", ")+")"},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},push:function(a){return a instanceof d||(a=this.source.wrap(a)),this.inlineStack.push(a),a},pushStackLiteral:function(a){this.push(new d(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),a&&this.source.push(a)},replaceStack:function(a){var b=["("],c=void 0,e=void 0,f=void 0;if(!this.isInline())throw new j.default("replaceStack on non-inline");var g=this.popStack(!0);if(g instanceof d)c=[g.value],b=["(",c],f=!0;else{e=!0;var h=this.incrStack();b=["((",this.push(h)," = ",g,")"],c=this.topStack()}var i=a.call(this,c);f||this.popStack(),e&&this.stackSlot--,this.push(b.concat(i,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;this.inlineStack=[];for(var b=0,c=a.length;b<c;b++){var e=a[b];if(e instanceof d)this.compileStack.push(e);else{var f=this.incrStack();this.pushSource([f," = ",e,";"]),this.compileStack.push(f)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),c=(b?this.inlineStack:this.compileStack).pop();if(!a&&c instanceof d)return c.value;if(!b){if(!this.stackSlot)throw new j.default("Invalid stack pop");this.stackSlot--}return c},topStack:function(){var a=this.isInline()?this.inlineStack:this.compileStack,b=a[a.length-1];return b instanceof d?b.value:b},contextName:function(a){return this.useDepths&&a?"depths["+a+"]":"depth"+a},quotedString:function(a){return this.source.quotedString(a)},objectLiteral:function(a){return this.source.objectLiteral(a)},aliasable:function(a){var b=this.aliases[a];return b?(b.referenceCount++,b):(b=this.aliases[a]=this.source.wrap(a),b.aliasable=!0,b.referenceCount=1,b)},setupHelper:function(a,b,c){var d=[];return{params:d,paramsInit:this.setupHelperArgs(b,a,d,c),name:this.nameLookup("helpers",b,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(d)}},setupParams:function(a,b,c){var d={},e=[],f=[],g=[],h=!c,i=void 0;h&&(c=[]),d.name=this.quotedString(a),d.hash=this.popStack(),this.trackIds&&(d.hashIds=this.popStack()),this.stringParams&&(d.hashTypes=this.popStack(),d.hashContexts=this.popStack());var j=this.popStack(),k=this.popStack();(k||j)&&(d.fn=k||"container.noop",d.inverse=j||"container.noop");for(var l=b;l--;)i=this.popStack(),c[l]=i,this.trackIds&&(g[l]=this.popStack()),this.stringParams&&(f[l]=this.popStack(),e[l]=this.popStack());return h&&(d.args=this.source.generateArray(c)),this.trackIds&&(d.ids=this.source.generateArray(g)),this.stringParams&&(d.types=this.source.generateArray(f),d.contexts=this.source.generateArray(e)),this.options.data&&(d.data="data"),this.useBlockParams&&(d.blockParams="blockParams"),d},setupHelperArgs:function(a,b,c,d){var e=this.setupParams(a,b,c);return e=this.objectLiteral(e),d?(this.useRegister("options"),c.push("options"),["options=",e]):c?(c.push(e),""):e}},function(){for(var a="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),b=e.RESERVED_WORDS={},c=0,d=a.length;c<d;c++)b[a[c]]=!0}(),e.isValidJavaScriptVariableName=function(a){return!e.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)},b.default=e,a.exports=b.default},function(a,b,c){"use strict";function d(a,b,c){if(f.isArray(a)){for(var d=[],e=0,g=a.length;e<g;e++)d.push(b.wrap(a[e],c));return d}return"boolean"==typeof a||"number"==typeof a?a+"":a}function e(a){this.srcFile=a,this.source=[]}b.__esModule=!0;var f=c(5),g=void 0;try{}catch(h){}g||(g=function(a,b,c,d){this.src="",d&&this.add(d)},g.prototype={add:function(a){f.isArray(a)&&(a=a.join("")),this.src+=a},prepend:function(a){f.isArray(a)&&(a=a.join("")),this.src=a+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),e.prototype={isEmpty:function(){return!this.source.length},prepend:function(a,b){this.source.unshift(this.wrap(a,b))},push:function(a,b){this.source.push(this.wrap(a,b))},merge:function(){var a=this.empty();return this.each(function(b){a.add(["  ",b,"\n"])}),a},each:function(a){for(var b=0,c=this.source.length;b<c;b++)a(this.source[b])},empty:function(){var a=this.currentLocation||{start:{}};return new g(a.start.line,a.start.column,this.srcFile)},wrap:function(a){var b=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return a instanceof g?a:(a=d(a,this,b),new g(b.start.line,b.start.column,this.srcFile,a))},functionCall:function(a,b,c){return c=this.generateList(c),this.wrap([a,b?"."+b+"(":"(",c,")"])},quotedString:function(a){return'"'+(a+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(a){var b=[];for(var c in a)if(a.hasOwnProperty(c)){var e=d(a[c],this);"undefined"!==e&&b.push([this.quotedString(c),":",e])}var f=this.generateList(b);return f.prepend("{"),f.add("}"),f},generateList:function(a){for(var b=this.empty(),c=0,e=a.length;c<e;c++)c&&b.add(","),b.add(d(a[c],this));return b},generateArray:function(a){var b=this.generateList(a);return b.prepend("["),b.add("]"),b}},b.default=e,a.exports=b.default}])}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120==0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120==0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"undefined"!=typeof module&&module.exports?module.exports=a:a(jQuery,window,document)}(function(a){!function(b){var c="function"==typeof define&&define.amd,d="undefined"!=typeof module&&module.exports,e="https:"==document.location.protocol?"https:":"http:";c||(d?require("jquery-mousewheel")(a):a.event.special.mousewheel||a("head").append(decodeURI("%3Cscript src="+e+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E"))),b()}(function(){var b,c="mCustomScrollbar",d="mCS",e=".mCustomScrollbar",f={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},g=0,h={},i=window.attachEvent&&!window.addEventListener?1:0,j=!1,k=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],l={init:function(b){var b=a.extend(!0,{},f,b),c=m.call(this);if(b.live){var i=b.liveSelector||this.selector||e,j=a(i);if("off"===b.live)return void o(i);h[i]=setTimeout(function(){j.mCustomScrollbar(b),"once"===b.live&&j.length&&o(i)},500)}else o(i);return b.setWidth=b.set_width?b.set_width:b.setWidth,b.setHeight=b.set_height?b.set_height:b.setHeight,b.axis=b.horizontalScroll?"x":p(b.axis),b.scrollInertia=b.scrollInertia>0&&b.scrollInertia<17?17:b.scrollInertia,"object"!=typeof b.mouseWheel&&1==b.mouseWheel&&(b.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),b.mouseWheel.scrollAmount=b.mouseWheelPixels?b.mouseWheelPixels:b.mouseWheel.scrollAmount,b.mouseWheel.normalizeDelta=b.advanced.normalizeMouseWheelDelta?b.advanced.normalizeMouseWheelDelta:b.mouseWheel.normalizeDelta,b.scrollButtons.scrollType=q(b.scrollButtons.scrollType),n(b),a(c).each(function(){var c=a(this);if(!c.data(d)){c.data(d,{idx:++g,opt:b,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:c.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var e=c.data(d),f=e.opt,h=c.data("mcs-axis"),i=c.data("mcs-scrollbar-position"),j=c.data("mcs-theme");h&&(f.axis=h),i&&(f.scrollbarPosition=i),j&&(f.theme=j,n(f)),r.call(this),e&&f.callbacks.onCreate&&"function"==typeof f.callbacks.onCreate&&f.callbacks.onCreate.call(this),a("#mCSB_"+e.idx+"_container img:not(."+k[2]+")").addClass(k[2]),l.update.call(null,c)}})},update:function(b,c){var e=b||m.call(this);return a(e).each(function(){var b=a(this);if(b.data(d)){var e=b.data(d),f=e.opt,g=a("#mCSB_"+e.idx+"_container"),h=a("#mCSB_"+e.idx),i=[a("#mCSB_"+e.idx+"_dragger_vertical"),a("#mCSB_"+e.idx+"_dragger_horizontal")];if(!g.length)return;e.tweenRunning&&W(b),c&&e&&f.callbacks.onBeforeUpdate&&"function"==typeof f.callbacks.onBeforeUpdate&&f.callbacks.onBeforeUpdate.call(this),b.hasClass(k[3])&&b.removeClass(k[3]),b.hasClass(k[4])&&b.removeClass(k[4]),h.css("max-height","none"),h.height()!==b.height()&&h.css("max-height",b.height()),t.call(this),"y"===f.axis||f.advanced.autoExpandHorizontalScroll||g.css("width",s(g)),e.overflowed=y.call(this),C.call(this),f.autoDraggerLength&&v.call(this),w.call(this),A.call(this);var j=[Math.abs(g[0].offsetTop),Math.abs(g[0].offsetLeft)];"x"!==f.axis&&(e.overflowed[0]?i[0].height()>i[0].parent().height()?z.call(this):(X(b,j[0].toString(),{dir:"y",dur:0,overwrite:"none"}),e.contentReset.y=null):(z.call(this),"y"===f.axis?B.call(this):"yx"===f.axis&&e.overflowed[1]&&X(b,j[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==f.axis&&(e.overflowed[1]?i[1].width()>i[1].parent().width()?z.call(this):(X(b,j[1].toString(),{dir:"x",dur:0,overwrite:"none"}),e.contentReset.x=null):(z.call(this),"x"===f.axis?B.call(this):"yx"===f.axis&&e.overflowed[0]&&X(b,j[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),c&&e&&(2===c&&f.callbacks.onImageLoad&&"function"==typeof f.callbacks.onImageLoad?f.callbacks.onImageLoad.call(this):3===c&&f.callbacks.onSelectorChange&&"function"==typeof f.callbacks.onSelectorChange?f.callbacks.onSelectorChange.call(this):f.callbacks.onUpdate&&"function"==typeof f.callbacks.onUpdate&&f.callbacks.onUpdate.call(this)),U.call(this)}})},scrollTo:function(b,c){if(void 0!==b&&null!=b){var e=m.call(this);return a(e).each(function(){var e=a(this);if(e.data(d)){var f=e.data(d),g=f.opt,h={trigger:"external",scrollInertia:g.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},i=a.extend(!0,{},h,c),j=S.call(this,b),k=i.scrollInertia>0&&i.scrollInertia<17?17:i.scrollInertia;j[0]=T.call(this,j[0],"y"),j[1]=T.call(this,j[1],"x"),i.moveDragger&&(j[0]*=f.scrollRatio.y,j[1]*=f.scrollRatio.x),i.dur=ea()?0:k,setTimeout(function(){null!==j[0]&&void 0!==j[0]&&"x"!==g.axis&&f.overflowed[0]&&(i.dir="y",i.overwrite="all",X(e,j[0].toString(),i)),null!==j[1]&&void 0!==j[1]&&"y"!==g.axis&&f.overflowed[1]&&(i.dir="x",i.overwrite="none",X(e,j[1].toString(),i))},i.timeout)}})}},stop:function(){var b=m.call(this);return a(b).each(function(){var b=a(this);b.data(d)&&W(b)})},disable:function(b){var c=m.call(this);return a(c).each(function(){var c=a(this);c.data(d)&&(c.data(d),U.call(this,"remove"),B.call(this),b&&z.call(this),C.call(this,!0),c.addClass(k[3]))})},destroy:function(){var b=m.call(this);return a(b).each(function(){var e=a(this);if(e.data(d)){var f=e.data(d),g=f.opt,h=a("#mCSB_"+f.idx),i=a("#mCSB_"+f.idx+"_container"),j=a(".mCSB_"+f.idx+"_scrollbar");g.live&&o(g.liveSelector||a(b).selector),U.call(this,"remove"),B.call(this),z.call(this),e.removeData(d),_(this,"mcs"),j.remove(),i.find("img."+k[2]).removeClass(k[2]),h.replaceWith(i.contents()),e.removeClass(c+" _"+d+"_"+f.idx+" "+k[6]+" "+k[7]+" "+k[5]+" "+k[3]).addClass(k[4])}})}},m=function(){return"object"!=typeof a(this)||a(this).length<1?e:this},n=function(b){var c=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],d=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],e=["minimal","minimal-dark"],f=["minimal","minimal-dark"],g=["minimal","minimal-dark"];b.autoDraggerLength=!(a.inArray(b.theme,c)>-1)&&b.autoDraggerLength,b.autoExpandScrollbar=!(a.inArray(b.theme,d)>-1)&&b.autoExpandScrollbar,b.scrollButtons.enable=!(a.inArray(b.theme,e)>-1)&&b.scrollButtons.enable,b.autoHideScrollbar=a.inArray(b.theme,f)>-1||b.autoHideScrollbar,b.scrollbarPosition=a.inArray(b.theme,g)>-1?"outside":b.scrollbarPosition},o=function(a){h[a]&&(clearTimeout(h[a]),_(h,a))},p=function(a){return"yx"===a||"xy"===a||"auto"===a?"yx":"x"===a||"horizontal"===a?"x":"y"},q=function(a){return"stepped"===a||"pixels"===a||"step"===a||"click"===a?"stepped":"stepless"},r=function(){var b=a(this),e=b.data(d),f=e.opt,g=f.autoExpandScrollbar?" "+k[1]+"_expand":"",h=["<div id='mCSB_"+e.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+e.idx+"_scrollbar mCS-"+f.theme+" mCSB_scrollTools_vertical"+g+"'><div class='"+k[12]+"'><div id='mCSB_"+e.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+e.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+e.idx+"_scrollbar mCS-"+f.theme+" mCSB_scrollTools_horizontal"+g+"'><div class='"+k[12]+"'><div id='mCSB_"+e.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],i="yx"===f.axis?"mCSB_vertical_horizontal":"x"===f.axis?"mCSB_horizontal":"mCSB_vertical",j="yx"===f.axis?h[0]+h[1]:"x"===f.axis?h[1]:h[0],l="yx"===f.axis?"<div id='mCSB_"+e.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",m=f.autoHideScrollbar?" "+k[6]:"",n="x"!==f.axis&&"rtl"===e.langDir?" "+k[7]:"";f.setWidth&&b.css("width",f.setWidth),f.setHeight&&b.css("height",f.setHeight),f.setLeft="y"!==f.axis&&"rtl"===e.langDir?"989999px":f.setLeft,b.addClass(c+" _"+d+"_"+e.idx+m+n).wrapInner("<div id='mCSB_"+e.idx+"' class='mCustomScrollBox mCS-"+f.theme+" "+i+"'><div id='mCSB_"+e.idx+"_container' class='mCSB_container' style='position:relative; top:"+f.setTop+"; left:"+f.setLeft+";' dir='"+e.langDir+"' /></div>");var o=a("#mCSB_"+e.idx),p=a("#mCSB_"+e.idx+"_container");"y"===f.axis||f.advanced.autoExpandHorizontalScroll||p.css("width",s(p)),"outside"===f.scrollbarPosition?("static"===b.css("position")&&b.css("position","relative"),b.css("overflow","visible"),o.addClass("mCSB_outside").after(j)):(o.addClass("mCSB_inside").append(j),p.wrap(l)),u.call(this);var q=[a("#mCSB_"+e.idx+"_dragger_vertical"),a("#mCSB_"+e.idx+"_dragger_horizontal")];q[0].css("min-height",q[0].height()),q[1].css("min-width",q[1].width())},s=function(b){var c=[b[0].scrollWidth,Math.max.apply(Math,b.children().map(function(){return a(this).outerWidth(!0)}).get())],d=b.parent().width();return c[0]>d?c[0]:c[1]>d?c[1]:"100%"},t=function(){var b=a(this),c=b.data(d),e=c.opt,f=a("#mCSB_"+c.idx+"_container");if(e.advanced.autoExpandHorizontalScroll&&"y"!==e.axis){f.css({width:"auto","min-width":0,"overflow-x":"scroll"});var g=Math.ceil(f[0].scrollWidth);3===e.advanced.autoExpandHorizontalScroll||2!==e.advanced.autoExpandHorizontalScroll&&g>f.parent().width()?f.css({width:g,"min-width":"100%","overflow-x":"inherit"}):f.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(f[0].getBoundingClientRect().right+.4)-Math.floor(f[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},u=function(){var b=a(this),c=b.data(d),e=c.opt,f=a(".mCSB_"+c.idx+"_scrollbar:first"),g=ca(e.scrollButtons.tabindex)?"tabindex='"+e.scrollButtons.tabindex+"'":"",h=["<a href='#' class='"+k[13]+"' "+g+" />","<a href='#' class='"+k[14]+"' "+g+" />","<a href='#' class='"+k[15]+"' "+g+" />","<a href='#' class='"+k[16]+"' "+g+" />"],i=["x"===e.axis?h[2]:h[0],"x"===e.axis?h[3]:h[1],h[2],h[3]];e.scrollButtons.enable&&f.prepend(i[0]).append(i[1]).next(".mCSB_scrollTools").prepend(i[2]).append(i[3])},v=function(){var b=a(this),c=b.data(d),e=a("#mCSB_"+c.idx),f=a("#mCSB_"+c.idx+"_container"),g=[a("#mCSB_"+c.idx+"_dragger_vertical"),a("#mCSB_"+c.idx+"_dragger_horizontal")],h=[e.height()/f.outerHeight(!1),e.width()/f.outerWidth(!1)],j=[parseInt(g[0].css("min-height")),Math.round(h[0]*g[0].parent().height()),parseInt(g[1].css("min-width")),Math.round(h[1]*g[1].parent().width())],k=i&&j[1]<j[0]?j[0]:j[1],l=i&&j[3]<j[2]?j[2]:j[3];g[0].css({height:k,"max-height":g[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":j[0]+"px"}),g[1].css({width:l,"max-width":g[1].parent().width()-10})},w=function(){var b=a(this),c=b.data(d),e=a("#mCSB_"+c.idx),f=a("#mCSB_"+c.idx+"_container"),g=[a("#mCSB_"+c.idx+"_dragger_vertical"),a("#mCSB_"+c.idx+"_dragger_horizontal")],h=[f.outerHeight(!1)-e.height(),f.outerWidth(!1)-e.width()],i=[h[0]/(g[0].parent().height()-g[0].height()),h[1]/(g[1].parent().width()-g[1].width())];c.scrollRatio={y:i[0],x:i[1]}},x=function(a,b,c){var d=c?k[0]+"_expanded":"",e=a.closest(".mCSB_scrollTools");"active"===b?(a.toggleClass(k[0]+" "+d),e.toggleClass(k[1]),a[0]._draggable=a[0]._draggable?0:1):a[0]._draggable||("hide"===b?(a.removeClass(k[0]),e.removeClass(k[1])):(a.addClass(k[0]),e.addClass(k[1])))},y=function(){var b=a(this),c=b.data(d),e=a("#mCSB_"+c.idx),f=a("#mCSB_"+c.idx+"_container"),g=null==c.overflowed?f.height():f.outerHeight(!1),h=null==c.overflowed?f.width():f.outerWidth(!1),i=f[0].scrollHeight,j=f[0].scrollWidth;return i>g&&(g=i),j>h&&(h=j),[g>e.height(),h>e.width()]},z=function(){var b=a(this),c=b.data(d),e=c.opt,f=a("#mCSB_"+c.idx),g=a("#mCSB_"+c.idx+"_container"),h=[a("#mCSB_"+c.idx+"_dragger_vertical"),a("#mCSB_"+c.idx+"_dragger_horizontal")];if(W(b),("x"!==e.axis&&!c.overflowed[0]||"y"===e.axis&&c.overflowed[0])&&(h[0].add(g).css("top",0),X(b,"_resetY")),"y"!==e.axis&&!c.overflowed[1]||"x"===e.axis&&c.overflowed[1]){var i=dx=0;"rtl"===c.langDir&&(i=f.width()-g.outerWidth(!1),dx=Math.abs(i/c.scrollRatio.x)),g.css("left",i),h[1].css("left",dx),X(b,"_resetX")}},A=function(){function b(){g=setTimeout(function(){a.event.special.mousewheel?(clearTimeout(g),H.call(c[0])):b()},100)}var c=a(this),e=c.data(d),f=e.opt;if(!e.bindEvents){if(E.call(this),f.contentTouchScroll&&F.call(this),G.call(this),f.mouseWheel.enable){var g;b()}M.call(this),O.call(this),f.advanced.autoScrollOnFocus&&N.call(this),f.scrollButtons.enable&&P.call(this),f.keyboard.enable&&Q.call(this),e.bindEvents=!0}},B=function(){var b=a(this),c=b.data(d),e=c.opt,f=d+"_"+c.idx,g=".mCSB_"+c.idx+"_scrollbar",h=a("#mCSB_"+c.idx+",#mCSB_"+c.idx+"_container,#mCSB_"+c.idx+"_container_wrapper,"+g+" ."+k[12]+",#mCSB_"+c.idx+"_dragger_vertical,#mCSB_"+c.idx+"_dragger_horizontal,"+g+">a"),i=a("#mCSB_"+c.idx+"_container");e.advanced.releaseDraggableSelectors&&h.add(a(e.advanced.releaseDraggableSelectors)),e.advanced.extraDraggableSelectors&&h.add(a(e.advanced.extraDraggableSelectors)),c.bindEvents&&(a(document).add(a(!J()||top.document)).unbind("."+f),h.each(function(){a(this).unbind("."+f)}),clearTimeout(b[0]._focusTimeout),_(b[0],"_focusTimeout"),clearTimeout(c.sequential.step),_(c.sequential,"step"),clearTimeout(i[0].onCompleteTimeout),_(i[0],"onCompleteTimeout"),c.bindEvents=!1)},C=function(b){var c=a(this),e=c.data(d),f=e.opt,g=a("#mCSB_"+e.idx+"_container_wrapper"),h=g.length?g:a("#mCSB_"+e.idx+"_container"),i=[a("#mCSB_"+e.idx+"_scrollbar_vertical"),a("#mCSB_"+e.idx+"_scrollbar_horizontal")],j=[i[0].find(".mCSB_dragger"),i[1].find(".mCSB_dragger")];"x"!==f.axis&&(e.overflowed[0]&&!b?(i[0].add(j[0]).add(i[0].children("a")).css("display","block"),h.removeClass(k[8]+" "+k[10])):(f.alwaysShowScrollbar?(2!==f.alwaysShowScrollbar&&j[0].css("display","none"),h.removeClass(k[10])):(i[0].css("display","none"),h.addClass(k[10])),h.addClass(k[8]))),"y"!==f.axis&&(e.overflowed[1]&&!b?(i[1].add(j[1]).add(i[1].children("a")).css("display","block"),h.removeClass(k[9]+" "+k[11])):(f.alwaysShowScrollbar?(2!==f.alwaysShowScrollbar&&j[1].css("display","none"),h.removeClass(k[11])):(i[1].css("display","none"),h.addClass(k[11])),h.addClass(k[9]))),e.overflowed[0]||e.overflowed[1]?c.removeClass(k[5]):c.addClass(k[5])},D=function(b){var c=b.type,d=b.target.ownerDocument!==document&&null!==frameElement?[a(frameElement).offset().top,a(frameElement).offset().left]:null,e=J()&&b.target.ownerDocument!==top.document&&null!==frameElement?[a(b.view.frameElement).offset().top,a(b.view.frameElement).offset().left]:[0,0];switch(c){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return d?[b.originalEvent.pageY-d[0]+e[0],b.originalEvent.pageX-d[1]+e[1],!1]:[b.originalEvent.pageY,b.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var f=b.originalEvent.touches[0]||b.originalEvent.changedTouches[0],g=b.originalEvent.touches.length||b.originalEvent.changedTouches.length;return b.target.ownerDocument!==document?[f.screenY,f.screenX,g>1]:[f.pageY,f.pageX,g>1];default:return d?[b.pageY-d[0]+e[0],b.pageX-d[1]+e[1],!1]:[b.pageY,b.pageX,!1]}},E=function(){function b(a,b,d,e){if(n[0].idleTimer=k.scrollInertia<233?250:0,c.attr("id")===m[1])var f="x",i=(c[0].offsetLeft-b+e)*h.scrollRatio.x;else var f="y",i=(c[0].offsetTop-a+d)*h.scrollRatio.y;X(g,i.toString(),{dir:f,drag:!0})}var c,e,f,g=a(this),h=g.data(d),k=h.opt,l=d+"_"+h.idx,m=["mCSB_"+h.idx+"_dragger_vertical","mCSB_"+h.idx+"_dragger_horizontal"],n=a("#mCSB_"+h.idx+"_container"),o=a("#"+m[0]+",#"+m[1]),p=k.advanced.releaseDraggableSelectors?o.add(a(k.advanced.releaseDraggableSelectors)):o,q=k.advanced.extraDraggableSelectors?a(!J()||top.document).add(a(k.advanced.extraDraggableSelectors)):a(!J()||top.document);o.bind("contextmenu."+l,function(a){a.preventDefault()}).bind("mousedown."+l+" touchstart."+l+" pointerdown."+l+" MSPointerDown."+l,function(b){if(b.stopImmediatePropagation(),b.preventDefault(),aa(b)){j=!0,i&&(document.onselectstart=function(){return!1}),K.call(n,!1),W(g),c=a(this);var d=c.offset(),h=D(b)[0]-d.top,l=D(b)[1]-d.left,m=c.height()+d.top,o=c.width()+d.left;m>h&&h>0&&o>l&&l>0&&(e=h,f=l),x(c,"active",k.autoExpandScrollbar)}}).bind("touchmove."+l,function(a){a.stopImmediatePropagation(),a.preventDefault()
;var d=c.offset(),g=D(a)[0]-d.top,h=D(a)[1]-d.left;b(e,f,g,h)}),a(document).add(q).bind("mousemove."+l+" pointermove."+l+" MSPointerMove."+l,function(a){if(c){var d=c.offset(),g=D(a)[0]-d.top,h=D(a)[1]-d.left;if(e===g&&f===h)return;b(e,f,g,h)}}).add(p).bind("mouseup."+l+" touchend."+l+" pointerup."+l+" MSPointerUp."+l,function(){c&&(x(c,"active",k.autoExpandScrollbar),c=null),j=!1,i&&(document.onselectstart=null),K.call(n,!0)})},F=function(){function c(a){if(!ba(a)||j||D(a)[2])return void(b=0);b=1,w=0,x=0,k=1,y.removeClass("mCS_touch_action");var c=E.offset();l=D(a)[0]-c.top,m=D(a)[1]-c.left,L=[D(a)[0],D(a)[1]]}function e(a){if(ba(a)&&!j&&!D(a)[2]&&(A.documentTouchScroll||a.preventDefault(),a.stopImmediatePropagation(),(!x||w)&&k)){q=Z();var b=C.offset(),c=D(a)[0]-b.top,d=D(a)[1]-b.left,e="mcsLinearOut";if(G.push(c),H.push(d),L[2]=Math.abs(D(a)[0]-L[0]),L[3]=Math.abs(D(a)[1]-L[1]),z.overflowed[0])var f=F[0].parent().height()-F[0].height(),g=l-c>0&&c-l>-f*z.scrollRatio.y&&(2*L[3]<L[2]||"yx"===A.axis);if(z.overflowed[1])var h=F[1].parent().width()-F[1].width(),n=m-d>0&&d-m>-h*z.scrollRatio.x&&(2*L[2]<L[3]||"yx"===A.axis);g||n?(O||a.preventDefault(),w=1):(x=1,y.addClass("mCS_touch_action")),O&&a.preventDefault(),u="yx"===A.axis?[l-c,m-d]:"x"===A.axis?[null,m-d]:[l-c,null],E[0].idleTimer=250,z.overflowed[0]&&i(u[0],I,e,"y","all",!0),z.overflowed[1]&&i(u[1],I,e,"x",K,!0)}}function f(a){if(!ba(a)||j||D(a)[2])return void(b=0);b=1,a.stopImmediatePropagation(),W(y),p=Z();var c=C.offset();n=D(a)[0]-c.top,o=D(a)[1]-c.left,G=[],H=[]}function g(a){if(ba(a)&&!j&&!D(a)[2]){k=0,a.stopImmediatePropagation(),w=0,x=0,r=Z();var b=C.offset(),c=D(a)[0]-b.top,d=D(a)[1]-b.left;if(!(r-q>30)){t=1e3/(r-p);var e="mcsEaseOut",f=2.5>t,g=f?[G[G.length-2],H[H.length-2]]:[0,0];s=f?[c-g[0],d-g[1]]:[c-n,d-o];var l=[Math.abs(s[0]),Math.abs(s[1])];t=f?[Math.abs(s[0]/4),Math.abs(s[1]/4)]:[t,t];var m=[Math.abs(E[0].offsetTop)-s[0]*h(l[0]/t[0],t[0]),Math.abs(E[0].offsetLeft)-s[1]*h(l[1]/t[1],t[1])];u="yx"===A.axis?[m[0],m[1]]:"x"===A.axis?[null,m[1]]:[m[0],null],v=[4*l[0]+A.scrollInertia,4*l[1]+A.scrollInertia];var y=parseInt(A.contentTouchScroll)||0;u[0]=l[0]>y?u[0]:0,u[1]=l[1]>y?u[1]:0,z.overflowed[0]&&i(u[0],v[0],e,"y",K,!1),z.overflowed[1]&&i(u[1],v[1],e,"x",K,!1)}}}function h(a,b){var c=[1.5*b,2*b,b/1.5,b/2];return a>90?b>4?c[0]:c[3]:a>60?b>3?c[3]:c[2]:a>30?b>8?c[1]:b>6?c[0]:b>4?b:c[2]:b>8?b:c[3]}function i(a,b,c,d,e,f){a&&X(y,a.toString(),{dur:b,scrollEasing:c,dir:d,overwrite:e,drag:f})}var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=a(this),z=y.data(d),A=z.opt,B=d+"_"+z.idx,C=a("#mCSB_"+z.idx),E=a("#mCSB_"+z.idx+"_container"),F=[a("#mCSB_"+z.idx+"_dragger_vertical"),a("#mCSB_"+z.idx+"_dragger_horizontal")],G=[],H=[],I=0,K="yx"===A.axis?"none":"all",L=[],M=E.find("iframe"),N=["touchstart."+B+" pointerdown."+B+" MSPointerDown."+B,"touchmove."+B+" pointermove."+B+" MSPointerMove."+B,"touchend."+B+" pointerup."+B+" MSPointerUp."+B],O=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;E.bind(N[0],function(a){c(a)}).bind(N[1],function(a){e(a)}),C.bind(N[0],function(a){f(a)}).bind(N[2],function(a){g(a)}),M.length&&M.each(function(){a(this).bind("load",function(){J(this)&&a(this.contentDocument||this.contentWindow.document).bind(N[0],function(a){c(a),f(a)}).bind(N[1],function(a){e(a)}).bind(N[2],function(a){g(a)})})})},G=function(){function c(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function e(a,b,c){k.type=c&&f?"stepped":"stepless",k.scrollAmount=10,R(g,a,b,"mcsLinearOut",c?60:null)}var f,g=a(this),h=g.data(d),i=h.opt,k=h.sequential,l=d+"_"+h.idx,m=a("#mCSB_"+h.idx+"_container"),n=m.parent();m.bind("mousedown."+l,function(){b||f||(f=1,j=!0)}).add(document).bind("mousemove."+l,function(a){if(!b&&f&&c()){var d=m.offset(),g=D(a)[0]-d.top+m[0].offsetTop,j=D(a)[1]-d.left+m[0].offsetLeft;g>0&&g<n.height()&&j>0&&j<n.width()?k.step&&e("off",null,"stepped"):("x"!==i.axis&&h.overflowed[0]&&(0>g?e("on",38):g>n.height()&&e("on",40)),"y"!==i.axis&&h.overflowed[1]&&(0>j?e("on",37):j>n.width()&&e("on",39)))}}).bind("mouseup."+l+" dragend."+l,function(){b||(f&&(f=0,e("off",null)),j=!1)})},H=function(){function b(b,d){if(W(c),!L(c,b.target)){var g="auto"!==f.mouseWheel.deltaFactor?parseInt(f.mouseWheel.deltaFactor):i&&b.deltaFactor<100?100:b.deltaFactor||100,k=f.scrollInertia;if("x"===f.axis||"x"===f.mouseWheel.axis)var l="x",m=[Math.round(g*e.scrollRatio.x),parseInt(f.mouseWheel.scrollAmount)],n="auto"!==f.mouseWheel.scrollAmount?m[1]:m[0]>=h.width()?.9*h.width():m[0],o=Math.abs(a("#mCSB_"+e.idx+"_container")[0].offsetLeft),p=j[1][0].offsetLeft,q=j[1].parent().width()-j[1].width(),r="y"===f.mouseWheel.axis?b.deltaY||d:b.deltaX;else var l="y",m=[Math.round(g*e.scrollRatio.y),parseInt(f.mouseWheel.scrollAmount)],n="auto"!==f.mouseWheel.scrollAmount?m[1]:m[0]>=h.height()?.9*h.height():m[0],o=Math.abs(a("#mCSB_"+e.idx+"_container")[0].offsetTop),p=j[0][0].offsetTop,q=j[0].parent().height()-j[0].height(),r=b.deltaY||d;"y"===l&&!e.overflowed[0]||"x"===l&&!e.overflowed[1]||((f.mouseWheel.invert||b.webkitDirectionInvertedFromDevice)&&(r=-r),f.mouseWheel.normalizeDelta&&(r=0>r?-1:1),(r>0&&0!==p||0>r&&p!==q||f.mouseWheel.preventDefault)&&(b.stopImmediatePropagation(),b.preventDefault()),b.deltaFactor<5&&!f.mouseWheel.normalizeDelta&&(n=b.deltaFactor,k=17),X(c,(o-r*n).toString(),{dir:l,dur:k}))}}if(a(this).data(d)){var c=a(this),e=c.data(d),f=e.opt,g=d+"_"+e.idx,h=a("#mCSB_"+e.idx),j=[a("#mCSB_"+e.idx+"_dragger_vertical"),a("#mCSB_"+e.idx+"_dragger_horizontal")],k=a("#mCSB_"+e.idx+"_container").find("iframe");k.length&&k.each(function(){a(this).bind("load",function(){J(this)&&a(this.contentDocument||this.contentWindow.document).bind("mousewheel."+g,function(a,c){b(a,c)})})}),h.bind("mousewheel."+g,function(a,c){b(a,c)})}},I=new Object,J=function(b){var c=!1,d=!1,e=null;if(void 0===b?d="#empty":void 0!==a(b).attr("id")&&(d=a(b).attr("id")),!1!==d&&void 0!==I[d])return I[d];if(b){try{var f=b.contentDocument||b.contentWindow.document;e=f.body.innerHTML}catch(g){}c=null!==e}else{try{var f=top.document;e=f.body.innerHTML}catch(g){}c=null!==e}return!1!==d&&(I[d]=c),c},K=function(a){var b=this.find("iframe");if(b.length){var c=a?"auto":"none";b.css("pointer-events",c)}},L=function(b,c){var e=c.nodeName.toLowerCase(),f=b.data(d).opt.mouseWheel.disableOver,g=["select","textarea"];return a.inArray(e,f)>-1&&!(a.inArray(e,g)>-1&&!a(c).is(":focus"))},M=function(){var b,c=a(this),e=c.data(d),f=d+"_"+e.idx,g=a("#mCSB_"+e.idx+"_container"),h=g.parent();a(".mCSB_"+e.idx+"_scrollbar ."+k[12]).bind("mousedown."+f+" touchstart."+f+" pointerdown."+f+" MSPointerDown."+f,function(c){j=!0,a(c.target).hasClass("mCSB_dragger")||(b=1)}).bind("touchend."+f+" pointerup."+f+" MSPointerUp."+f,function(){j=!1}).bind("click."+f,function(d){if(b&&(b=0,a(d.target).hasClass(k[12])||a(d.target).hasClass("mCSB_draggerRail"))){W(c);var f=a(this),i=f.find(".mCSB_dragger");if(f.parent(".mCSB_scrollTools_horizontal").length>0){if(!e.overflowed[1])return;var j="x",l=d.pageX>i.offset().left?-1:1,m=Math.abs(g[0].offsetLeft)-l*(.9*h.width())}else{if(!e.overflowed[0])return;var j="y",l=d.pageY>i.offset().top?-1:1,m=Math.abs(g[0].offsetTop)-l*(.9*h.height())}X(c,m.toString(),{dir:j,scrollEasing:"mcsEaseInOut"})}})},N=function(){var b=a(this),c=b.data(d),e=c.opt,f=d+"_"+c.idx,g=a("#mCSB_"+c.idx+"_container"),h=g.parent();g.bind("focusin."+f,function(){var c=a(document.activeElement),d=g.find(".mCustomScrollBox").length,f=0;c.is(e.advanced.autoScrollOnFocus)&&(W(b),clearTimeout(b[0]._focusTimeout),b[0]._focusTimer=d?(f+17)*d:0,b[0]._focusTimeout=setTimeout(function(){var a=[da(c)[0],da(c)[1]],d=[g[0].offsetTop,g[0].offsetLeft],i=[d[0]+a[0]>=0&&d[0]+a[0]<h.height()-c.outerHeight(!1),d[1]+a[1]>=0&&d[0]+a[1]<h.width()-c.outerWidth(!1)],j="yx"!==e.axis||i[0]||i[1]?"all":"none";"x"===e.axis||i[0]||X(b,a[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:j,dur:f}),"y"===e.axis||i[1]||X(b,a[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:j,dur:f})},b[0]._focusTimer))})},O=function(){var b=a(this),c=b.data(d),e=d+"_"+c.idx,f=a("#mCSB_"+c.idx+"_container").parent();f.bind("scroll."+e,function(){0===f.scrollTop()&&0===f.scrollLeft()||a(".mCSB_"+c.idx+"_scrollbar").css("visibility","hidden")})},P=function(){var b=a(this),c=b.data(d),e=c.opt,f=c.sequential,g=d+"_"+c.idx,h=".mCSB_"+c.idx+"_scrollbar";a(h+">a").bind("contextmenu."+g,function(a){a.preventDefault()}).bind("mousedown."+g+" touchstart."+g+" pointerdown."+g+" MSPointerDown."+g+" mouseup."+g+" touchend."+g+" pointerup."+g+" MSPointerUp."+g+" mouseout."+g+" pointerout."+g+" MSPointerOut."+g+" click."+g,function(d){function g(a,c){f.scrollAmount=e.scrollButtons.scrollAmount,R(b,a,c)}if(d.preventDefault(),aa(d)){var h=a(this).attr("class");switch(f.type=e.scrollButtons.scrollType,d.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===f.type)return;j=!0,c.tweenRunning=!1,g("on",h);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===f.type)return;j=!1,f.dir&&g("off",h);break;case"click":if("stepped"!==f.type||c.tweenRunning)return;g("on",h)}}})},Q=function(){function b(b){function d(a,b){g.type=f.keyboard.scrollType,g.scrollAmount=f.keyboard.scrollAmount,"stepped"===g.type&&e.tweenRunning||R(c,a,b)}switch(b.type){case"blur":e.tweenRunning&&g.dir&&d("off",null);break;case"keydown":case"keyup":var h=b.keyCode?b.keyCode:b.which,i="on";if("x"!==f.axis&&(38===h||40===h)||"y"!==f.axis&&(37===h||39===h)){if((38===h||40===h)&&!e.overflowed[0]||(37===h||39===h)&&!e.overflowed[1])return;"keyup"===b.type&&(i="off"),a(document.activeElement).is(l)||(b.preventDefault(),b.stopImmediatePropagation(),d(i,h))}else if(33===h||34===h){if((e.overflowed[0]||e.overflowed[1])&&(b.preventDefault(),b.stopImmediatePropagation()),"keyup"===b.type){W(c);var m=34===h?-1:1;if("x"===f.axis||"yx"===f.axis&&e.overflowed[1]&&!e.overflowed[0])var n="x",o=Math.abs(j[0].offsetLeft)-m*(.9*k.width());else var n="y",o=Math.abs(j[0].offsetTop)-m*(.9*k.height());X(c,o.toString(),{dir:n,scrollEasing:"mcsEaseInOut"})}}else if((35===h||36===h)&&!a(document.activeElement).is(l)&&((e.overflowed[0]||e.overflowed[1])&&(b.preventDefault(),b.stopImmediatePropagation()),"keyup"===b.type)){if("x"===f.axis||"yx"===f.axis&&e.overflowed[1]&&!e.overflowed[0])var n="x",o=35===h?Math.abs(k.width()-j.outerWidth(!1)):0;else var n="y",o=35===h?Math.abs(k.height()-j.outerHeight(!1)):0;X(c,o.toString(),{dir:n,scrollEasing:"mcsEaseInOut"})}}}var c=a(this),e=c.data(d),f=e.opt,g=e.sequential,h=d+"_"+e.idx,i=a("#mCSB_"+e.idx),j=a("#mCSB_"+e.idx+"_container"),k=j.parent(),l="input,textarea,select,datalist,keygen,[contenteditable='true']",m=j.find("iframe"),n=["blur."+h+" keydown."+h+" keyup."+h];m.length&&m.each(function(){a(this).bind("load",function(){J(this)&&a(this.contentDocument||this.contentWindow.document).bind(n[0],function(a){b(a)})})}),i.attr("tabindex","0").bind(n[0],function(a){b(a)})},R=function(b,c,e,f,g){function h(a){l.snapAmount&&(m.scrollAmount=l.snapAmount instanceof Array?"x"===m.dir[0]?l.snapAmount[1]:l.snapAmount[0]:l.snapAmount);var c="stepped"!==m.type,d=g||(a?c?p/1.5:q:1e3/60),e=a?c?7.5:40:2.5,i=[Math.abs(n[0].offsetTop),Math.abs(n[0].offsetLeft)],k=[j.scrollRatio.y>10?10:j.scrollRatio.y,j.scrollRatio.x>10?10:j.scrollRatio.x],o="x"===m.dir[0]?i[1]+m.dir[1]*(k[1]*e):i[0]+m.dir[1]*(k[0]*e),r="x"===m.dir[0]?i[1]+m.dir[1]*parseInt(m.scrollAmount):i[0]+m.dir[1]*parseInt(m.scrollAmount),s="auto"!==m.scrollAmount?r:o,t=f||(a?c?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),u=!!a;return a&&17>d&&(s="x"===m.dir[0]?i[1]:i[0]),X(b,s.toString(),{dir:m.dir[0],scrollEasing:t,dur:d,onComplete:u}),a?void(m.dir=!1):(clearTimeout(m.step),void(m.step=setTimeout(function(){h()},d)))}function i(){clearTimeout(m.step),_(m,"step"),W(b)}var j=b.data(d),l=j.opt,m=j.sequential,n=a("#mCSB_"+j.idx+"_container"),o="stepped"===m.type,p=l.scrollInertia<26?26:l.scrollInertia,q=l.scrollInertia<1?17:l.scrollInertia;switch(c){case"on":if(m.dir=[e===k[16]||e===k[15]||39===e||37===e?"x":"y",e===k[13]||e===k[15]||38===e||37===e?-1:1],W(b),ca(e)&&"stepped"===m.type)return;h(o);break;case"off":i(),(o||j.tweenRunning&&m.dir)&&h(!0)}},S=function(b){var c=a(this).data(d).opt,e=[];return"function"==typeof b&&(b=b()),b instanceof Array?e=b.length>1?[b[0],b[1]]:"x"===c.axis?[null,b[0]]:[b[0],null]:(e[0]=b.y?b.y:b.x||"x"===c.axis?null:b,e[1]=b.x?b.x:b.y||"y"===c.axis?null:b),"function"==typeof e[0]&&(e[0]=e[0]()),"function"==typeof e[1]&&(e[1]=e[1]()),e},T=function(b,c){if(null!=b&&void 0!==b){var e=a(this),f=e.data(d),g=f.opt,h=a("#mCSB_"+f.idx+"_container"),i=h.parent(),j=typeof b;c||(c="x"===g.axis?"x":"y");var k="x"===c?h.outerWidth(!1)-i.width():h.outerHeight(!1)-i.height(),m="x"===c?h[0].offsetLeft:h[0].offsetTop,n="x"===c?"left":"top";switch(j){case"function":return b();case"object":var o=b.jquery?b:a(b);if(!o.length)return;return"x"===c?da(o)[1]:da(o)[0];case"string":case"number":if(ca(b))return Math.abs(b);if(-1!==b.indexOf("%"))return Math.abs(k*parseInt(b)/100);if(-1!==b.indexOf("-="))return Math.abs(m-parseInt(b.split("-=")[1]));if(-1!==b.indexOf("+=")){var p=m+parseInt(b.split("+=")[1]);return p>=0?0:Math.abs(p)}if(-1!==b.indexOf("px")&&ca(b.split("px")[0]))return Math.abs(b.split("px")[0]);if("top"===b||"left"===b)return 0;if("bottom"===b)return Math.abs(i.height()-h.outerHeight(!1));if("right"===b)return Math.abs(i.width()-h.outerWidth(!1));if("first"===b||"last"===b){var o=h.find(":"+b);return"x"===c?da(o)[1]:da(o)[0]}return a(b).length?"x"===c?da(a(b))[1]:da(a(b))[0]:(h.css(n,b),void l.update.call(null,e[0]))}}},U=function(b){function c(){return clearTimeout(m[0].autoUpdate),0===h.parents("html").length?void(h=null):void(m[0].autoUpdate=setTimeout(function(){return j.advanced.updateOnSelectorChange&&(i.poll.change.n=f(),i.poll.change.n!==i.poll.change.o)?(i.poll.change.o=i.poll.change.n,void g(3)):j.advanced.updateOnContentResize&&(i.poll.size.n=h[0].scrollHeight+h[0].scrollWidth+m[0].offsetHeight+h[0].offsetHeight+h[0].offsetWidth,i.poll.size.n!==i.poll.size.o)?(i.poll.size.o=i.poll.size.n,void g(1)):!j.advanced.updateOnImageLoad||"auto"===j.advanced.updateOnImageLoad&&"y"===j.axis||(i.poll.img.n=m.find("img").length,i.poll.img.n===i.poll.img.o)?void((j.advanced.updateOnSelectorChange||j.advanced.updateOnContentResize||j.advanced.updateOnImageLoad)&&c()):(i.poll.img.o=i.poll.img.n,void m.find("img").each(function(){e(this)}))},j.advanced.autoUpdateTimeout))}function e(b){function c(a,b){return function(){return b.apply(a,arguments)}}function d(){this.onload=null,a(b).addClass(k[2]),g(2)}if(a(b).hasClass(k[2]))return void g();var e=new Image;e.onload=c(e,d),e.src=b.src}function f(){!0===j.advanced.updateOnSelectorChange&&(j.advanced.updateOnSelectorChange="*");var a=0,b=m.find(j.advanced.updateOnSelectorChange);return j.advanced.updateOnSelectorChange&&b.length>0&&b.each(function(){a+=this.offsetHeight+this.offsetWidth}),a}function g(a){clearTimeout(m[0].autoUpdate),l.update.call(null,h[0],a)}var h=a(this),i=h.data(d),j=i.opt,m=a("#mCSB_"+i.idx+"_container");return b?(clearTimeout(m[0].autoUpdate),void _(m[0],"autoUpdate")):void c()},V=function(a,b,c){return Math.round(a/b)*b-c},W=function(b){var c=b.data(d);a("#mCSB_"+c.idx+"_container,#mCSB_"+c.idx+"_container_wrapper,#mCSB_"+c.idx+"_dragger_vertical,#mCSB_"+c.idx+"_dragger_horizontal").each(function(){$.call(this)})},X=function(b,c,e){function f(a){return i&&j.callbacks[a]&&"function"==typeof j.callbacks[a]}function g(){return[j.callbacks.alwaysTriggerOffsets||u>=v[0]+y,j.callbacks.alwaysTriggerOffsets||-z>=u]}function h(){var a=[n[0].offsetTop,n[0].offsetLeft],c=[s[0].offsetTop,s[0].offsetLeft],d=[n.outerHeight(!1),n.outerWidth(!1)],f=[m.height(),m.width()];b[0].mcs={content:n,top:a[0],left:a[1],draggerTop:c[0],draggerLeft:c[1],topPct:Math.round(100*Math.abs(a[0])/(Math.abs(d[0])-f[0])),leftPct:Math.round(100*Math.abs(a[1])/(Math.abs(d[1])-f[1])),direction:e.dir}}var i=b.data(d),j=i.opt,k={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:j.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},e=a.extend(k,e),l=[e.dur,e.drag?0:e.dur],m=a("#mCSB_"+i.idx),n=a("#mCSB_"+i.idx+"_container"),o=n.parent(),p=j.callbacks.onTotalScrollOffset?S.call(b,j.callbacks.onTotalScrollOffset):[0,0],q=j.callbacks.onTotalScrollBackOffset?S.call(b,j.callbacks.onTotalScrollBackOffset):[0,0];if(i.trigger=e.trigger,0===o.scrollTop()&&0===o.scrollLeft()||(a(".mCSB_"+i.idx+"_scrollbar").css("visibility","visible"),o.scrollTop(0).scrollLeft(0)),"_resetY"!==c||i.contentReset.y||(f("onOverflowYNone")&&j.callbacks.onOverflowYNone.call(b[0]),i.contentReset.y=1),"_resetX"!==c||i.contentReset.x||(f("onOverflowXNone")&&j.callbacks.onOverflowXNone.call(b[0]),i.contentReset.x=1),"_resetY"!==c&&"_resetX"!==c){if(!i.contentReset.y&&b[0].mcs||!i.overflowed[0]||(f("onOverflowY")&&j.callbacks.onOverflowY.call(b[0]),i.contentReset.x=null),!i.contentReset.x&&b[0].mcs||!i.overflowed[1]||(f("onOverflowX")&&j.callbacks.onOverflowX.call(b[0]),i.contentReset.x=null),j.snapAmount){var r=j.snapAmount instanceof Array?"x"===e.dir?j.snapAmount[1]:j.snapAmount[0]:j.snapAmount;c=V(c,r,j.snapOffset)}switch(e.dir){case"x":var s=a("#mCSB_"+i.idx+"_dragger_horizontal"),t="left",u=n[0].offsetLeft,v=[m.width()-n.outerWidth(!1),s.parent().width()-s.width()],w=[c,0===c?0:c/i.scrollRatio.x],y=p[1],z=q[1],A=y>0?y/i.scrollRatio.x:0,B=z>0?z/i.scrollRatio.x:0;break;case"y":var s=a("#mCSB_"+i.idx+"_dragger_vertical"),t="top",u=n[0].offsetTop,v=[m.height()-n.outerHeight(!1),s.parent().height()-s.height()],w=[c,0===c?0:c/i.scrollRatio.y],y=p[0],z=q[0],A=y>0?y/i.scrollRatio.y:0,B=z>0?z/i.scrollRatio.y:0}w[1]<0||0===w[0]&&0===w[1]?w=[0,0]:w[1]>=v[1]?w=[v[0],v[1]]:w[0]=-w[0],b[0].mcs||(h(),f("onInit")&&j.callbacks.onInit.call(b[0])),clearTimeout(n[0].onCompleteTimeout),Y(s[0],t,Math.round(w[1]),l[1],e.scrollEasing),!i.tweenRunning&&(0===u&&w[0]>=0||u===v[0]&&w[0]<=v[0])||Y(n[0],t,Math.round(w[0]),l[0],e.scrollEasing,e.overwrite,{onStart:function(){e.callbacks&&e.onStart&&!i.tweenRunning&&(f("onScrollStart")&&(h(),j.callbacks.onScrollStart.call(b[0])),i.tweenRunning=!0,x(s),i.cbOffsets=g())},onUpdate:function(){e.callbacks&&e.onUpdate&&f("whileScrolling")&&(h(),j.callbacks.whileScrolling.call(b[0]))},onComplete:function(){if(e.callbacks&&e.onComplete){"yx"===j.axis&&clearTimeout(n[0].onCompleteTimeout);var a=n[0].idleTimer||0;n[0].onCompleteTimeout=setTimeout(function(){f("onScroll")&&(h(),j.callbacks.onScroll.call(b[0])),f("onTotalScroll")&&w[1]>=v[1]-A&&i.cbOffsets[0]&&(h(),j.callbacks.onTotalScroll.call(b[0])),f("onTotalScrollBack")&&w[1]<=B&&i.cbOffsets[1]&&(h(),j.callbacks.onTotalScrollBack.call(b[0])),i.tweenRunning=!1,n[0].idleTimer=0,x(s,"hide")},a)}}})}},Y=function(a,b,c,d,e,f,g){function h(){v.stop||(s||o.call(),s=Z()-r,i(),s>=v.time&&(v.time=s>v.time?s+m-(s-v.time):s+m-1,v.time<s+1&&(v.time=s+1)),v.time<d?v.id=n(h):q.call())}function i(){d>0?(v.currVal=l(v.time,t,w,d,e),u[b]=Math.round(v.currVal)+"px"):u[b]=c+"px",p.call()}function j(){m=1e3/60,v.time=s+m,n=window.requestAnimationFrame?window.requestAnimationFrame:function(a){return i(),setTimeout(a,.01)},v.id=n(h)}function k(){null!=v.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(v.id):clearTimeout(v.id),v.id=null)}function l(a,b,c,d,e){switch(e){case"linear":case"mcsLinear":return c*a/d+b;case"mcsLinearOut":return a/=d,a--,c*Math.sqrt(1-a*a)+b;case"easeInOutSmooth":return a/=d/2,1>a?c/2*a*a+b:(a--,-c/2*(a*(a-2)-1)+b);case"easeInOutStrong":return a/=d/2,1>a?c/2*Math.pow(2,10*(a-1))+b:(a--,c/2*(2-Math.pow(2,-10*a))+b);case"easeInOut":case"mcsEaseInOut":return a/=d/2,1>a?c/2*a*a*a+b:(a-=2,c/2*(a*a*a+2)+b);case"easeOutSmooth":return a/=d,a--,-c*(a*a*a*a-1)+b;case"easeOutStrong":return c*(1-Math.pow(2,-10*a/d))+b;case"easeOut":case"mcsEaseOut":default:var f=(a/=d)*a,g=f*a;return b+c*(.499999999999997*g*f+-2.5*f*f+5.5*g+-6.5*f+4*a)}}a._mTween||(a._mTween={top:{},left:{}});var m,n,g=g||{},o=g.onStart||function(){},p=g.onUpdate||function(){},q=g.onComplete||function(){},r=Z(),s=0,t=a.offsetTop,u=a.style,v=a._mTween[b];"left"===b&&(t=a.offsetLeft);var w=c-t;v.stop=0,"none"!==f&&k(),j()},Z=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},$=function(){var a=this;a._mTween||(a._mTween={top:{},left:{}});for(var b=["top","left"],c=0;c<b.length;c++){var d=b[c];a._mTween[d].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(a._mTween[d].id):clearTimeout(a._mTween[d].id),a._mTween[d].id=null,a._mTween[d].stop=1)}},_=function(a,b){try{delete a[b]}catch(c){a[b]=null}},aa=function(a){return!(a.which&&1!==a.which)},ba=function(a){var b=a.originalEvent.pointerType;return!(b&&"touch"!==b&&2!==b)},ca=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},da=function(a){var b=a.parents(".mCSB_container");return[a.offset().top-b.offset().top,a.offset().left-b.offset().left]},ea=function(){function a(){var a=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var b=0;b<a.length;b++)if(a[b]+"Hidden"in document)return a[b]+"Hidden";return null}var b=a();return!!b&&document[b]};a.fn[c]=function(b){return l[b]?l[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist"):l.init.apply(this,arguments)},a[c]=function(b){return l[b]?l[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist"):l.init.apply(this,arguments)},a[c].defaults=f,window[c]=!0,a(window).bind("load",function(){a(e)[c](),a.extend(a.expr[":"],{mcsInView:a.expr[":"].mcsInView||function(b){var c,d,e=a(b),f=e.parents(".mCSB_container");if(f.length)return c=f.parent(),d=[f[0].offsetTop,f[0].offsetLeft],d[0]+da(e)[0]>=0&&d[0]+da(e)[0]<c.height()-e.outerHeight(!1)&&d[1]+da(e)[1]>=0&&d[1]+da(e)[1]<c.width()-e.outerWidth(!1)},mcsInSight:a.expr[":"].mcsInSight||function(b,c,d){var e,f,g,h,i=a(b),j=i.parents(".mCSB_container"),k="exact"===d[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(j.length)return e=[i.outerHeight(!1),i.outerWidth(!1)],g=[j[0].offsetTop+da(i)[0],j[0].offsetLeft+da(i)[1]],f=[j.parent()[0].offsetHeight,j.parent()[0].offsetWidth],h=[e[0]<f[0]?k[0]:k[1],e[1]<f[1]?k[0]:k[1]],g[0]-f[0]*h[0][0]<0&&g[0]+e[0]-f[0]*h[0][1]>=0&&g[1]-f[1]*h[1][0]<0&&g[1]+e[1]-f[1]*h[1][1]>=0},mcsOverflow:a.expr[":"].mcsOverflow||function(b){var c=a(b).data(d);if(c)return c.overflowed[0]||c.overflowed[1]}})})})}),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.httpStatusCodes=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(a){var b;!function(a){a.CONTINUE=100,a.SWITCHING_PROTOCOLS=101,a.PROCESSING=102,a.OK=200,a.CREATED=201,a.ACCEPTED=202,a.NON_AUTHORITATIVE_INFORMATION=203,a.NO_CONTENT=204,a.RESET_CONTENT=205,a.PARTIAL_CONTENT=206,a.MULTI_STATUS=207,a.MULTIPLE_CHOICES=300,a.MOVED_PERMANENTLY=301,a.MOVED_TEMPORARILY=302,a.SEE_OTHER=303,a.NOT_MODIFIED=304,a.USE_PROXY=305,a.TEMPORARY_REDIRECT=307,a.BAD_REQUEST=400,a.UNAUTHORIZED=401,a.PAYMENT_REQUIRED=402,a.FORBIDDEN=403,a.NOT_FOUND=404,a.METHOD_NOT_ALLOWED=405,a.NOT_ACCEPTABLE=406,a.PROXY_AUTHENTICATION_REQUIRED=407,a.REQUEST_TIME_OUT=408,a.CONFLICT=409,a.GONE=410,a.LENGTH_REQUIRED=411,a.PRECONDITION_FAILED=412,a.REQUEST_ENTITY_TOO_LARGE=413,a.REQUEST_URI_TOO_LARGE=414,a.UNSUPPORTED_MEDIA_TYPE=415,a.REQUESTED_RANGE_NOT_SATISFIABLE=416,a.EXPECTATION_FAILED=417,a.IM_A_TEAPOT=418,a.UNPROCESSABLE_ENTITY=422,a.LOCKED=423,a.FAILED_DEPENDENCY=424,a.UNORDERED_COLLECTION=425,a.UPGRADE_REQUIRED=426,a.PRECONDITION_REQUIRED=428,a.TOO_MANY_REQUESTS=429,a.REQUEST_HEADER_FIELDS_TOO_LARGE=431,a.INTERNAL_SERVER_ERROR=500,a.NOT_IMPLEMENTED=501,a.BAD_GATEWAY=502,a.SERVICE_UNAVAILABLE=503,a.GATEWAY_TIME_OUT=504,a.HTTP_VERSION_NOT_SUPPORTED=505,a.VARIANT_ALSO_NEGOTIATES=506,a.INSUFFICIENT_STORAGE=507,a.BANDWIDTH_LIMIT_EXCEEDED=509,a.NOT_EXTENDED=510,a.NETWORK_AUTHENTICATION_REQUIRED=511}(b||(b={})),function(a){a.HTTPStatusCode||(a.HTTPStatusCode=b)}(a)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.manifesto=a()}}(function(){var a;return function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){return e(b[g][1][a]||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}return a}()({1:[function(a,b,c){(function(c){var d;!function(a){var b=function(){function a(a){this.value="",a&&(this.value=a.toLowerCase())}return a.prototype.toString=function(){return this.value},a}();a.StringValue=b}(d||(d={}));var d;!function(a){var b=function(){function a(a,b){this.start=a,this.end=b}return a.prototype.getLength=function(){return this.end-this.start},a}();a.Duration=b}(d||(d={}));var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return e(b,a),b.prototype.bookmarking=function(){return new b(b.BOOKMARKING.toString())},b.prototype.classifying=function(){return new b(b.CLASSIFYING.toString())},b.prototype.commenting=function(){return new b(b.COMMENTING.toString())},b.prototype.describing=function(){return new b(b.DESCRIBING.toString())},b.prototype.editing=function(){return new b(b.EDITING.toString())},b.prototype.highlighting=function(){return new b(b.HIGHLIGHTING.toString())},b.prototype.identifying=function(){return new b(b.IDENTIFYING.toString())},b.prototype.linking=function(){return new b(b.LINKING.toString())},b.prototype.moderating=function(){return new b(b.MODERATING.toString())},b.prototype.painting=function(){return new b(b.PAINTING.toString())},b.prototype.questioning=function(){return new b(b.QUESTIONING.toString())},b.prototype.replying=function(){return new b(b.REPLYING.toString())},b.prototype.tagging=function(){return new b(b.TAGGING.toString())},b.prototype.transcribing=function(){return new b(b.TRANSCRIBING.toString())},b.BOOKMARKING=new b("oa:bookmarking"),b.CLASSIFYING=new b("oa:classifying"),b.COMMENTING=new b("oa:commenting"),b.DESCRIBING=new b("oa:describing"),b.EDITING=new b("oa:editing"),b.HIGHLIGHTING=new b("oa:highlighting"),b.IDENTIFYING=new b("oa:identifying"),b.LINKING=new b("oa:linking"),b.MODERATING=new b("oa:moderating"),b.PAINTING=new b("sc:painting"),b.QUESTIONING=new b("oa:questioning"),b.REPLYING=new b("oa:replying"),b.TAGGING=new b("oa:tagging"),b.TRANSCRIBING=new b("oad:transcribing"),b}(a.StringValue);a.AnnotationMotivation=b}(d||(d={}));var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return e(b,a),b.prototype.autoadvance=function(){return new b(b.AUTOADVANCE.toString())},b.prototype.nonav=function(){return new b(b.NONAV.toString())},b.prototype.paged=function(){return new b(b.PAGED.toString())},b.AUTOADVANCE=new b("auto-advance"),b.NONAV=new b("no-nav"),b.PAGED=new b("paged"),b}(a.StringValue);a.Behavior=b}(d||(d={}));var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return e(b,a),b.prototype.annotation=function(){return new b(b.ANNOTATION.toString())},b.prototype.canvas=function(){return new b(b.CANVAS.toString())},b.prototype.collection=function(){return new b(b.COLLECTION.toString())},b.prototype.manifest=function(){return new b(b.MANIFEST.toString())},b.prototype.range=function(){return new b(b.RANGE.toString())},b.prototype.sequence=function(){return new b(b.SEQUENCE.toString())},b.ANNOTATION=new b("annotation"),b.CANVAS=new b("canvas"),b.COLLECTION=new b("collection"),b.MANIFEST=new b("manifest"),b.RANGE=new b("range"),b.SEQUENCE=new b("sequence"),b}(a.StringValue);a.IIIFResourceType=b}(d||(d={}));var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return e(b,a),b.prototype.empty=function(){return new b(b.EMPTY.toString())},b.prototype.manuscript=function(){return new b(b.MANUSCRIPT.toString())},b.prototype.monograph=function(){return new b(b.MONOGRAPH.toString())},b.EMPTY=new b(""),b.MANUSCRIPT=new b("manuscript"),b.MONOGRAPH=new b("monograph"),b}(a.StringValue);a.ManifestType=b}(d||(d={}));var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return e(b,a),b.prototype.pdf=function(){return new b(b.PDF.toString())},b.prototype.doc=function(){return new b(b.DOC.toString())},b.prototype.docx=function(){return new b(b.DOCX.toString())},b.PDF=new b("application/pdf"),b.DOC=new b("application/msword"),b.DOCX=new b("application/vnd.openxmlformats-officedocument.wordprocessingml.document"),b}(a.StringValue);a.RenderingFormat=b}(d||(d={}));var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){
for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return e(b,a),b.prototype.jpg=function(){return new b(b.JPG.toString())},b.prototype.mp4=function(){return new b(b.MP4.toString())},b.prototype.pdf=function(){return new b(b.PDF.toString())},b.prototype.threejs=function(){return new b(b.THREEJS.toString())},b.prototype.webm=function(){return new b(b.WEBM.toString())},b.JPG=new b("image/jpeg"),b.MP4=new b("video/mp4"),b.PDF=new b("application/pdf"),b.THREEJS=new b("application/vnd.threejs+json"),b.WEBM=new b("video/webm"),b}(a.StringValue);a.MediaType=b}(d||(d={}));var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return e(b,a),b.prototype.canvas=function(){return new b(b.CANVAS.toString())},b.prototype.choice=function(){return new b(b.CHOICE.toString())},b.prototype.document=function(){return new b(b.DOCUMENT.toString())},b.prototype.image=function(){return new b(b.IMAGE.toString())},b.prototype.movingimage=function(){return new b(b.MOVINGIMAGE.toString())},b.prototype.physicalobject=function(){return new b(b.PHYSICALOBJECT.toString())},b.prototype.sound=function(){return new b(b.SOUND.toString())},b.prototype.text=function(){return new b(b.TEXT.toString())},b.CANVAS=new b("canvas"),b.CHOICE=new b("choice"),b.DOCUMENT=new b("document"),b.IMAGE=new b("image"),b.MOVINGIMAGE=new b("movingimage"),b.PHYSICALOBJECT=new b("physicalobject"),b.SOUND=new b("sound"),b.TEXT=new b("textualbody"),b}(a.StringValue);a.ResourceType=b}(d||(d={}));var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return e(b,a),b.prototype.auth1Clickthrough=function(){return new b(b.AUTH1CLICKTHROUGH.toString())},b.prototype.auth1External=function(){return new b(b.AUTH1EXTERNAL.toString())},b.prototype.auth1Kiosk=function(){return new b(b.AUTH1KIOSK.toString())},b.prototype.auth1Login=function(){return new b(b.AUTH1LOGIN.toString())},b.prototype.auth1Logout=function(){return new b(b.AUTH1LOGOUT.toString())},b.prototype.auth1Probe=function(){return new b(b.AUTH1PROBE.toString())},b.prototype.auth1Token=function(){return new b(b.AUTH1TOKEN.toString())},b.prototype.autoComplete=function(){return new b(b.AUTOCOMPLETE.toString())},b.prototype.iiif1ImageLevel1=function(){return new b(b.IIIF1IMAGELEVEL1.toString())},b.prototype.iiif1ImageLevel2=function(){return new b(b.IIIF1IMAGELEVEL2.toString())},b.prototype.iiif2ImageLevel1=function(){return new b(b.IIIF2IMAGELEVEL1.toString())},b.prototype.iiif2ImageLevel2=function(){return new b(b.IIIF2IMAGELEVEL2.toString())},b.prototype.ixif=function(){return new b(b.IXIF.toString())},b.prototype.login=function(){return new b(b.AUTHLOGIN.toString())},b.prototype.clickThrough=function(){return new b(b.AUTHCLICKTHROUGH.toString())},b.prototype.restricted=function(){return new b(b.AUTHRESTRICTED.toString())},b.prototype.logout=function(){return new b(b.AUTHLOGOUT.toString())},b.prototype.otherManifestations=function(){return new b(b.OTHERMANIFESTATIONS.toString())},b.prototype.search=function(){return new b(b.SEARCH.toString())},b.prototype.stanfordIIIFImageCompliance1=function(){return new b(b.STANFORDIIIFIMAGECOMPLIANCE1.toString())},b.prototype.stanfordIIIFImageCompliance2=function(){return new b(b.STANFORDIIIFIMAGECOMPLIANCE2.toString())},b.prototype.stanfordIIIFImageConformance1=function(){return new b(b.STANFORDIIIFIMAGECONFORMANCE1.toString())},b.prototype.stanfordIIIFImageConformance2=function(){return new b(b.STANFORDIIIFIMAGECONFORMANCE2.toString())},b.prototype.stanfordIIIF1ImageCompliance1=function(){return new b(b.STANFORDIIIF1IMAGECOMPLIANCE1.toString())},b.prototype.stanfordIIIF1ImageCompliance2=function(){return new b(b.STANFORDIIIF1IMAGECOMPLIANCE2.toString())},b.prototype.stanfordIIIF1ImageConformance1=function(){return new b(b.STANFORDIIIF1IMAGECONFORMANCE1.toString())},b.prototype.stanfordIIIF1ImageConformance2=function(){return new b(b.STANFORDIIIF1IMAGECONFORMANCE2.toString())},b.prototype.token=function(){return new b(b.AUTHTOKEN.toString())},b.prototype.trackingExtensions=function(){return new b(b.TRACKINGEXTENSIONS.toString())},b.prototype.uiExtensions=function(){return new b(b.UIEXTENSIONS.toString())},b.prototype.printExtensions=function(){return new b(b.PRINTEXTENSIONS.toString())},b.prototype.shareExtensions=function(){return new b(b.SHAREEXTENSIONS.toString())},b.STANFORDIIIFIMAGECOMPLIANCE0=new b("http://library.stanford.edu/iiif/image-api/compliance.html#level0"),b.STANFORDIIIFIMAGECOMPLIANCE1=new b("http://library.stanford.edu/iiif/image-api/compliance.html#level1"),b.STANFORDIIIFIMAGECOMPLIANCE2=new b("http://library.stanford.edu/iiif/image-api/compliance.html#level2"),b.STANFORDIIIFIMAGECONFORMANCE0=new b("http://library.stanford.edu/iiif/image-api/conformance.html#level0"),b.STANFORDIIIFIMAGECONFORMANCE1=new b("http://library.stanford.edu/iiif/image-api/conformance.html#level1"),b.STANFORDIIIFIMAGECONFORMANCE2=new b("http://library.stanford.edu/iiif/image-api/conformance.html#level2"),b.STANFORDIIIF1IMAGECOMPLIANCE0=new b("http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0"),b.STANFORDIIIF1IMAGECOMPLIANCE1=new b("http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1"),b.STANFORDIIIF1IMAGECOMPLIANCE2=new b("http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2"),b.STANFORDIIIF1IMAGECONFORMANCE0=new b("http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0"),b.STANFORDIIIF1IMAGECONFORMANCE1=new b("http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1"),b.STANFORDIIIF1IMAGECONFORMANCE2=new b("http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2"),b.IIIF1IMAGELEVEL0=new b("http://iiif.io/api/image/1/level0.json"),b.IIIF1IMAGELEVEL0PROFILE=new b("http://iiif.io/api/image/1/profiles/level0.json"),b.IIIF1IMAGELEVEL1=new b("http://iiif.io/api/image/1/level1.json"),b.IIIF1IMAGELEVEL1PROFILE=new b("http://iiif.io/api/image/1/profiles/level1.json"),b.IIIF1IMAGELEVEL2=new b("http://iiif.io/api/image/1/level2.json"),b.IIIF1IMAGELEVEL2PROFILE=new b("http://iiif.io/api/image/1/profiles/level2.json"),b.IIIF2IMAGELEVEL0=new b("http://iiif.io/api/image/2/level0.json"),b.IIIF2IMAGELEVEL0PROFILE=new b("http://iiif.io/api/image/2/profiles/level0.json"),b.IIIF2IMAGELEVEL1=new b("http://iiif.io/api/image/2/level1.json"),b.IIIF2IMAGELEVEL1PROFILE=new b("http://iiif.io/api/image/2/profiles/level1.json"),b.IIIF2IMAGELEVEL2=new b("http://iiif.io/api/image/2/level2.json"),b.IIIF2IMAGELEVEL2PROFILE=new b("http://iiif.io/api/image/2/profiles/level2.json"),b.AUTHCLICKTHROUGH=new b("http://iiif.io/api/auth/0/login/clickthrough"),b.AUTHLOGIN=new b("http://iiif.io/api/auth/0/login"),b.AUTHLOGOUT=new b("http://iiif.io/api/auth/0/logout"),b.AUTHRESTRICTED=new b("http://iiif.io/api/auth/0/login/restricted"),b.AUTHTOKEN=new b("http://iiif.io/api/auth/0/token"),b.AUTH1CLICKTHROUGH=new b("http://iiif.io/api/auth/1/clickthrough"),b.AUTH1EXTERNAL=new b("http://iiif.io/api/auth/1/external"),b.AUTH1KIOSK=new b("http://iiif.io/api/auth/1/kiosk"),b.AUTH1LOGIN=new b("http://iiif.io/api/auth/1/login"),b.AUTH1LOGOUT=new b("http://iiif.io/api/auth/1/logout"),b.AUTH1PROBE=new b("http://iiif.io/api/auth/1/probe"),b.AUTH1TOKEN=new b("http://iiif.io/api/auth/1/token"),b.AUTOCOMPLETE=new b("http://iiif.io/api/search/0/autocomplete"),b.SEARCH=new b("http://iiif.io/api/search/0/search"),b.TRACKINGEXTENSIONS=new b("http://universalviewer.io/tracking-extensions-profile"),b.UIEXTENSIONS=new b("http://universalviewer.io/ui-extensions-profile"),b.PRINTEXTENSIONS=new b("http://universalviewer.io/print-extensions-profile"),b.SHAREEXTENSIONS=new b("http://universalviewer.io/share-extensions-profile"),b.OTHERMANIFESTATIONS=new b("http://iiif.io/api/otherManifestations.json"),b.IXIF=new b("http://wellcomelibrary.org/ld/ixif/0/alpha.json"),b}(a.StringValue);a.ServiceProfile=b}(d||(d={}));var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return e(b,a),b.prototype.leftToRight=function(){return new b(b.LEFTTORIGHT.toString())},b.prototype.rightToLeft=function(){return new b(b.RIGHTTOLEFT.toString())},b.prototype.topToBottom=function(){return new b(b.TOPTOBOTTOM.toString())},b.prototype.bottomToTop=function(){return new b(b.BOTTOMTOTOP.toString())},b.LEFTTORIGHT=new b("left-to-right"),b.RIGHTTOLEFT=new b("right-to-left"),b.TOPTOBOTTOM=new b("top-to-bottom"),b.BOTTOMTOTOP=new b("bottom-to-top"),b}(a.StringValue);a.ViewingDirection=b}(d||(d={}));var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return e(b,a),b.prototype.continuous=function(){return new b(b.CONTINUOUS.toString())},b.prototype.empty=function(){return new b(b.EMPTY.toString())},b.prototype.individuals=function(){return new b(b.INDIVIDUALS.toString())},b.prototype.nonPaged=function(){return new b(b.NONPAGED.toString())},b.prototype.paged=function(){return new b(b.PAGED.toString())},b.prototype.top=function(){return new b(b.TOP.toString())},b.CONTINUOUS=new b("continuous"),b.EMPTY=new b(""),b.INDIVIDUALS=new b("individuals"),b.NONPAGED=new b("non-paged"),b.PAGED=new b("paged"),b.TOP=new b("top"),b}(a.StringValue);a.ViewingHint=b}(d||(d={}));var d;!function(a){var b=function(){function a(a){this.__jsonld=a,this.context=this.getProperty("context"),this.id=this.getProperty("id")}return a.prototype.getProperty=function(a){var b=null;return this.__jsonld&&((b=this.__jsonld[a])||(b=this.__jsonld["@"+a])),b},a}();a.JSONLDResource=b}(d||(d={}));var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b=function(b){function c(a,c){var d=b.call(this,a)||this;return d.options=c,d}return e(c,b),c.prototype.getIIIFResourceType=function(){return new a.IIIFResourceType(a.Utils.normaliseType(this.getProperty("type")))},c.prototype.getLabel=function(){var b=this.getProperty("label");return b?a.LanguageMap.parse(b,this.options.locale):[]},c.prototype.getDefaultLabel=function(){return a.LanguageMap.getValue(this.getLabel())},c.prototype.getMetadata=function(){var b=this.getProperty("metadata"),c=[];if(!b)return c;for(var d=0;d<b.length;d++){var e=b[d],f=new a.LabelValuePair(this.options.locale);f.parse(e),c.push(f)}return c},c.prototype.getRendering=function(a){var b=this.getRenderings();"string"!=typeof a&&(a=a.toString());for(var c=0;c<b.length;c++){var d=b[c];if(d.getFormat().toString()===a)return d}return null},c.prototype.getRenderings=function(){var b;b=this.__jsonld?this.__jsonld.rendering:this.rendering;var c=[];if(!b)return c;Array.isArray(b)||(b=[b]);for(var d=0;d<b.length;d++){var e=b[d];c.push(new a.Rendering(e,this.options))}return c},c.prototype.getService=function(b){return a.Utils.getService(this,b)},c.prototype.getServices=function(){return a.Utils.getServices(this)},c.prototype.getThumbnail=function(){var b=this.getProperty("thumbnail");return Array.isArray(b)&&(b=b[0]),b?new a.Thumbnail(b,this.options):null},c.prototype.isAnnotation=function(){return this.getIIIFResourceType().toString()===a.IIIFResourceType.ANNOTATION.toString()},c.prototype.isCanvas=function(){return this.getIIIFResourceType().toString()===a.IIIFResourceType.CANVAS.toString()},c.prototype.isCollection=function(){return this.getIIIFResourceType().toString()===a.IIIFResourceType.COLLECTION.toString()},c.prototype.isManifest=function(){return this.getIIIFResourceType().toString()===a.IIIFResourceType.MANIFEST.toString()},c.prototype.isRange=function(){return this.getIIIFResourceType().toString()===a.IIIFResourceType.RANGE.toString()},c.prototype.isSequence=function(){return this.getIIIFResourceType().toString()===a.IIIFResourceType.SEQUENCE.toString()},c}(a.JSONLDResource);a.ManifestResource=b}(d||(d={}));var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b=function(b){function c(a,c){return b.call(this,a,c)||this}return e(c,b),c.prototype.getFormat=function(){var b=this.getProperty("format");return b?new a.MediaType(b.toLowerCase()):null},c.prototype.getResources=function(){var b=[];if(!this.__jsonld.resources)return b;for(var c=0;c<this.__jsonld.resources.length;c++){var d=this.__jsonld.resources[c],e=new a.Annotation(d,this.options);b.push(e)}return b},c.prototype.getType=function(){var b=this.getProperty("type");return b?new a.ResourceType(a.Utils.normaliseType(b)):null},c.prototype.getWidth=function(){return this.getProperty("width")},c.prototype.getHeight=function(){return this.getProperty("height")},c.prototype.getMaxWidth=function(){return this.getProperty("maxWidth")},c.prototype.getMaxHeight=function(){return this.getProperty("maxHeight")?null:this.getMaxWidth()},c}(a.ManifestResource);a.Resource=b}(d||(d={}));var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b=function(b){function c(a,c){return b.call(this,a,c)||this}return e(c,b),c.prototype.getCanonicalImageUri=function(b){var c,d=null,e="full",f=0,g="default",h=b;if(this.externalResource&&this.externalResource.data&&this.externalResource.data["@id"])d=this.externalResource.data["@id"],h||(h=this.externalResource.data.width),this.externalResource.data["@context"]&&(this.externalResource.data["@context"].indexOf("/1.0/context.json")>-1||this.externalResource.data["@context"].indexOf("/1.1/context.json")>-1||this.externalResource.data["@context"].indexOf("/1/context.json")>-1)&&(g="native");else{var i=this.getImages();if(i&&i.length){var j=i[0],k=j.getResource(),l=k.getServices();if(h||(h=k.getWidth()),l.length){var m=l[0];d=m.id,g=a.Utils.getImageQuality(m.getProfile())}else if(h===k.getWidth())return k.id}if(!d){var n=this.getProperty("thumbnail");if(n){if("string"==typeof n)return n;if(n["@id"])return n["@id"];if(n.length)return n[0].id}}}return c=h+",",d&&d.endsWith("/")&&(d=d.substr(0,d.length-1)),[d,e,c,f,g+".jpg"].join("/")},c.prototype.getMaxDimensions=function(){var b,c=null;return this.externalResource&&this.externalResource.data&&this.externalResource.data.profile&&(b=this.externalResource.data.profile,Array.isArray(b)&&(b=b.filter(function(a){return a.maxWidth})[0])&&(c=new a.Size(b.maxWidth,b.maxHeight?b.maxHeight:b.maxWidth))),c},c.prototype.getContent=function(){var b=[],c=this.__jsonld.items||this.__jsonld.content;if(!c)return b;var d=null;if(c.length&&(d=new a.AnnotationPage(c[0],this.options)),!d)return b;for(var e=d.getItems(),f=0;f<e.length;f++){var g=e[f],h=new a.Annotation(g,this.options);b.push(h)}return b},c.prototype.getDuration=function(){return this.getProperty("duration")},c.prototype.getImages=function(){var b=[];if(!this.__jsonld.images)return b;for(var c=0;c<this.__jsonld.images.length;c++){var d=this.__jsonld.images[c],e=new a.Annotation(d,this.options);b.push(e)}return b},c.prototype.getIndex=function(){return this.getProperty("index")},c.prototype.getOtherContent=function(){var b=this,c=Array.isArray(this.getProperty("otherContent"))?this.getProperty("otherContent"):[this.getProperty("otherContent")],d=function(a,b){return"string"==typeof a&&"string"==typeof b&&a.toLowerCase()===a.toLowerCase()},e=c.filter(function(a){return a&&d(a["@type"],"sc:AnnotationList")}).map(function(c,d){return new a.AnnotationList(c.label||"Annotation list "+d,c,b.options)}).map(function(a){return a.load()});return Promise.all(e)},c.prototype.getWidth=function(){return this.getProperty("width")},c.prototype.getHeight=function(){return this.getProperty("height")},c}(a.Resource);a.Canvas=b}(d||(d={}));var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b=function(b){function c(a,c){var d=b.call(this,a,c)||this;d.index=-1,d.isLoaded=!1;var e={defaultLabel:"-",locale:"en-GB",resource:d,pessimisticAccessControl:!1};return d.options=Object.assign(e,c),d}return e(c,b),c.prototype.getAttribution=function(){console.warn("getAttribution will be deprecated, use getRequiredStatement instead.");var b=this.getProperty("attribution");return b?a.LanguageMap.parse(b,this.options.locale):[]},c.prototype.getDescription=function(){var b=this.getProperty("description");return b?a.LanguageMap.parse(b,this.options.locale):[]},c.prototype.getIIIFResourceType=function(){return new a.IIIFResourceType(a.Utils.normaliseType(this.getProperty("type")))},c.prototype.getLogo=function(){var a=this.getProperty("logo");return a?"string"==typeof a?a:(Array.isArray(a)&&a.length&&(a=a[0]),a["@id"]||a.id):null},c.prototype.getLicense=function(){return a.Utils.getLocalisedValue(this.getProperty("license"),this.options.locale)},c.prototype.getNavDate=function(){return new Date(this.getProperty("navDate"))},c.prototype.getRelated=function(){return this.getProperty("related")},c.prototype.getSeeAlso=function(){return this.getProperty("seeAlso")},c.prototype.getTrackingLabel=function(){var b=this.getService(a.ServiceProfile.TRACKINGEXTENSIONS);return b?b.getProperty("trackingLabel"):""},c.prototype.getDefaultTree=function(){return this.defaultTree=new a.TreeNode("root"),this.defaultTree.data=this,this.defaultTree},c.prototype.getRequiredStatement=function(){var b=null,c=this.getProperty("requiredStatement");if(c)b=new a.LabelValuePair(this.options.locale),b.parse(c);else{var d=this.getAttribution();d&&(b=new a.LabelValuePair(this.options.locale),b.value=d)}return b},c.prototype.isCollection=function(){return this.getIIIFResourceType().toString()===a.IIIFResourceType.COLLECTION.toString()},c.prototype.isManifest=function(){return this.getIIIFResourceType().toString()===a.IIIFResourceType.MANIFEST.toString()},c.prototype.load=function(){var b=this;return new Promise(function(c,d){if(b.isLoaded)c(b);else{var e=b.options;e.navDate=b.getNavDate();var f=b.__jsonld.id;f||(f=b.__jsonld["@id"]),a.Utils.loadResource(f).then(function(d){b.parentLabel=a.LanguageMap.getValue(b.getLabel(),e.locale);var f=a.Deserialiser.parse(d,e);b=Object.assign(b,f),b.index=e.index,c(b)})}})},c}(a.ManifestResource);a.IIIFResource=b}(d||(d={}));var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b=function(b){function c(a,c){var d=b.call(this,a,c)||this;if(d.index=0,d._allRanges=null,d.items=[],d._topRanges=[],d.__jsonld.structures&&d.__jsonld.structures.length)for(var e=d._getTopRanges(),f=0;f<e.length;f++){var g=e[f];d._parseRanges(g,String(f))}return d}return e(c,b),c.prototype.getPosterCanvas=function(){var b=this.getProperty("posterCanvas");return b&&(b=new a.Canvas(b,this.options)),b},c.prototype.getBehavior=function(){var b=this.getProperty("behavior");return Array.isArray(b)&&(b=b[0]),b?new a.Behavior(b):null},c.prototype.getDefaultTree=function(){if(b.prototype.getDefaultTree.call(this),this.defaultTree.data.type=a.Utils.normaliseType(a.TreeNodeType.MANIFEST.toString()),!this.isLoaded)return this.defaultTree;var c=this.getTopRanges();return c.length&&c[0].getTree(this.defaultTree),a.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},c.prototype._getTopRanges=function(){var b=[];if(this.__jsonld.structures&&this.__jsonld.structures.length){for(var c=0;c<this.__jsonld.structures.length;c++){var d=this.__jsonld.structures[c];d.viewingHint===a.ViewingHint.TOP.toString()&&b.push(d)}if(!b.length){var e={};e.ranges=this.__jsonld.structures,b.push(e)}}return b},c.prototype.getTopRanges=function(){return this._topRanges},c.prototype._getRangeById=function(a){if(this.__jsonld.structures&&this.__jsonld.structures.length)for(var b=0;b<this.__jsonld.structures.length;b++){var c=this.__jsonld.structures[b];if(c["@id"]===a||c.id===a)return c}return null},c.prototype._parseRanges=function(b,c,d){var e,f=null;if("string"==typeof b&&(f=b,b=this._getRangeById(f)),!b)return void console.warn("Range:",f,"does not exist");e=new a.Range(b,this.options),e.parentRange=d,e.path=c,d?d.items.push(e):this._topRanges.push(e);var g=b.items||b.members;if(g)for(var h=0;h<g.length;h++){var i=g[h];if(i["@type"]&&"sc:range"===i["@type"].toLowerCase()||i.type&&"range"===i.type.toLowerCase())this._parseRanges(i,c+"/"+h,e);else if(i["@type"]&&"sc:canvas"===i["@type"].toLowerCase()||i.type&&"canvas"===i.type.toLowerCase()){e.canvases||(e.canvases=[]);var j=i.id||i["@id"];e.canvases.push(j)}}else if(b.ranges)for(var h=0;h<b.ranges.length;h++)this._parseRanges(b.ranges[h],c+"/"+h,e)},c.prototype.getAllRanges=function(){if(null!=this._allRanges)return this._allRanges;this._allRanges=[];for(var a=this.getTopRanges(),b=function(b){var d=a[b];d.id&&c._allRanges.push(d);var e=function(a,b){a.add(b);var c=b.getRanges();return c.length?c.reduce(e,a):a},f=Array.from(d.getRanges().reduce(e,new Set));c._allRanges=c._allRanges.concat(f)},c=this,d=0;d<a.length;d++)b(d);return this._allRanges},c.prototype.getRangeById=function(a){for(var b=this.getAllRanges(),c=0;c<b.length;c++){var d=b[c];if(d.id===a)return d}return null},c.prototype.getRangeByPath=function(a){for(var b=this.getAllRanges(),c=0;c<b.length;c++){var d=b[c];if(d.path===a)return d}return null},c.prototype.getSequences=function(){if(this.items.length)return this.items;var b=this.__jsonld.mediaSequences||this.__jsonld.sequences;if(b)for(var c=0;c<b.length;c++){var d=b[c],e=new a.Sequence(d,this.options);this.items.push(e)}else if(this.__jsonld.items){var e=new a.Sequence(this.__jsonld.items,this.options);this.items.push(e)}return this.items},c.prototype.getSequenceByIndex=function(a){return this.getSequences()[a]},c.prototype.getTotalSequences=function(){return this.getSequences().length},c.prototype.getManifestType=function(){var b=this.getService(a.ServiceProfile.UIEXTENSIONS);return b?new a.ManifestType(b.getProperty("manifestType")):new a.ManifestType("")},c.prototype.isMultiSequence=function(){return this.getTotalSequences()>1},c.prototype.isPagingEnabled=function(){var b=this.getViewingHint();if(b)return b.toString()===a.ViewingHint.PAGED.toString();var c=this.getBehavior();return!!c&&c.toString()===a.Behavior.PAGED.toString()},c.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?new a.ViewingDirection(this.getProperty("viewingDirection")):null},c.prototype.getViewingHint=function(){return this.getProperty("viewingHint")?new a.ViewingHint(this.getProperty("viewingHint")):null},c}(a.IIIFResource);a.Manifest=b}(d||(d={}));var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b=function(b){function c(a,c){var d=b.call(this,a,c)||this;return d.items=[],d._collections=null,d._manifests=null,a.__collection=d,d}return e(c,b),c.prototype.getCollections=function(){return this._collections?this._collections:this._collections=this.items.filter(function(a){return a.isCollection()})},c.prototype.getManifests=function(){return this._manifests?this._manifests:this._manifests=this.items.filter(function(a){return a.isManifest()})},c.prototype.getCollectionByIndex=function(a){for(var b,c=this.getCollections(),d=0;d<c.length;d++){var e=c[d];e.index===a&&(b=e)}if(b)return b.options.index=a,b.load();throw new Error("Collection index not found")},c.prototype.getManifestByIndex=function(a){for(var b,c=this.getManifests(),d=0;d<c.length;d++){var e=c[d];e.index===a&&(b=e)}if(b)return b.options.index=a,b.load();throw new Error("Manifest index not found")},c.prototype.getTotalCollections=function(){return this.getCollections().length},c.prototype.getTotalManifests=function(){return this.getManifests().length},c.prototype.getTotalItems=function(){return this.items.length},c.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?new a.ViewingDirection(this.getProperty("viewingDirection")):a.ViewingDirection.LEFTTORIGHT},c.prototype.getDefaultTree=function(){return b.prototype.getDefaultTree.call(this),this.defaultTree.data.type=a.Utils.normaliseType(a.TreeNodeType.COLLECTION.toString()),this._parseManifests(this),this._parseCollections(this),a.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},c.prototype._parseManifests=function(b){if(b.getManifests()&&b.getManifests().length)for(var c=0;c<b.getManifests().length;c++){var d=b.getManifests()[c],e=d.getDefaultTree();e.label=d.parentLabel||a.LanguageMap.getValue(d.getLabel(),this.options.locale)||"manifest "+(c+1),e.navDate=d.getNavDate(),e.data.id=d.id,e.data.type=a.Utils.normaliseType(a.TreeNodeType.MANIFEST.toString()),b.defaultTree.addNode(e)}},c.prototype._parseCollections=function(b){if(b.getCollections()&&b.getCollections().length)for(var c=0;c<b.getCollections().length;c++){var d=b.getCollections()[c],e=d.getDefaultTree();e.label=d.parentLabel||a.LanguageMap.getValue(d.getLabel(),this.options.locale)||"collection "+(c+1),e.navDate=d.getNavDate(),e.data.id=d.id,e.data.type=a.Utils.normaliseType(a.TreeNodeType.COLLECTION.toString()),b.defaultTree.addNode(e)}},c}(a.IIIFResource);a.Collection=b}(d||(d={}));var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b=function(b){function c(a,c){var d=b.call(this,a,c)||this;return d._ranges=null,d.canvases=null,d.items=[],d}return e(c,b),c.prototype.getCanvasIds=function(){return this.__jsonld.canvases?this.__jsonld.canvases:this.canvases?this.canvases:[]},c.prototype.getDuration=function(){var b,c;if(this.canvases&&this.canvases.length)for(var d=0;d<this.canvases.length;d++){var e=this.canvases[d],f=a.Utils.getTemporalComponent(e);f&&f.length>1&&(0===d&&(b=Number(f[0])),d===this.canvases.length-1&&(c=Number(f[1])))}else for(var g=this.getRanges(),d=0;d<g.length;d++){var h=g[d],i=h.getDuration();i&&(0===d&&(b=i.start),d===g.length-1&&(c=i.end))}if(void 0!==b&&void 0!==c)return new a.Duration(b,c)},c.prototype.getRanges=function(){return this._ranges?this._ranges:this._ranges=this.items.filter(function(a){return a.isRange()})},c.prototype.getBehavior=function(){var b=this.getProperty("behavior");return Array.isArray(b)&&(b=b[0]),b?new a.Behavior(b):null},c.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?new a.ViewingDirection(this.getProperty("viewingDirection")):null},c.prototype.getViewingHint=function(){return this.getProperty("viewingHint")?new a.ViewingHint(this.getProperty("viewingHint")):null},c.prototype.getTree=function(b){b.data=this,this.treeNode=b;var c=this.getRanges();if(c&&c.length)for(var d=0;d<c.length;d++){var e=c[d],f=new a.TreeNode;b.addNode(f),this._parseTreeNode(f,e)}return a.Utils.generateTreeNodeIds(b),b},c.prototype.spansTime=function(a){var b=this.getDuration();return!!(b&&a>=b.start&&a<=b.end)},c.prototype._parseTreeNode=function(b,c){b.label=a.LanguageMap.getValue(c.getLabel(),this.options.locale),b.data=c,b.data.type=a.Utils.normaliseType(a.TreeNodeType.RANGE.toString()),c.treeNode=b;var d=c.getRanges();if(d&&d.length)for(var e=0;e<d.length;e++){var f=d[e],g=f.getBehavior();if(!g||g.toString()!==a.Behavior.NONAV.toString()){var h=new a.TreeNode;b.addNode(h),this._parseTreeNode(h,f)}}},c}(a.ManifestResource);a.Range=b}(d||(d={}));var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b=function(b){function c(a,c){return b.call(this,a,c)||this}return e(c,b),c.prototype.getFormat=function(){return new a.RenderingFormat(this.getProperty("format"))},c}(a.ManifestResource);a.Rendering=b}(d||(d={}));var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b=function(b){function c(a,c){var d=b.call(this,a,c)||this;return d.items=[],d._thumbnails=null,d}return e(c,b),c.prototype.getCanvases=function(){if(this.items.length)return this.items;var b=this.__jsonld.canvases||this.__jsonld.elements;if(b)for(var c=0;c<b.length;c++){var d=b[c],e=new a.Canvas(d,this.options);e.index=c,this.items.push(e)}else if(this.__jsonld)for(var c=0;c<this.__jsonld.length;c++){var d=this.__jsonld[c],e=new a.Canvas(d,this.options);e.index=c,this.items.push(e)}return this.items},c.prototype.getCanvasById=function(b){
for(var c=0;c<this.getTotalCanvases();c++){var d=this.getCanvasByIndex(c),e=a.Utils.normaliseUrl(d.id);if(a.Utils.normaliseUrl(b)===e)return d}return null},c.prototype.getCanvasByIndex=function(a){return this.getCanvases()[a]},c.prototype.getCanvasIndexById=function(a){for(var b=0;b<this.getTotalCanvases();b++){if(this.getCanvasByIndex(b).id===a)return b}return null},c.prototype.getCanvasIndexByLabel=function(b,c){b=b.trim(),isNaN(b)||(b=parseInt(b,10).toString(),c&&(b+="r"));for(var d,e,f,g,h,i=/(\d*)\D+(\d*)/,j=0;j<this.getTotalCanvases();j++){var k=this.getCanvasByIndex(j);if(a.LanguageMap.getValue(k.getLabel(),this.options.locale)===b)return j;if((d=i.exec(b))&&(g=d[1],(h=d[2])&&(f="^"+g+"\\D+"+h+"$",e=new RegExp(f),e.test(k.getLabel().toString()))))return j}return-1},c.prototype.getLastCanvasLabel=function(b){for(var c=this.getTotalCanvases()-1;c>=0;c--){var d=this.getCanvasByIndex(c),e=a.LanguageMap.getValue(d.getLabel(),this.options.locale);if(b){if(/^[a-zA-Z0-9]*$/.test(e))return e}else if(e)return e}return this.options.defaultLabel},c.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},c.prototype.getNextPageIndex=function(b,c){var d;if(c){var e=this.getPagedIndices(b),f=this.getViewingDirection();d=f&&f.toString()===a.ViewingDirection.RIGHTTOLEFT.toString()?e[0]+1:e[e.length-1]+1}else d=b+1;return d>this.getLastPageIndex()?-1:d},c.prototype.getPagedIndices=function(b,c){var d=[];if(c){d=this.isFirstCanvas(b)||this.isLastCanvas(b)?[b]:b%2?[b,b+1]:[b-1,b];var e=this.getViewingDirection();e&&e.toString()===a.ViewingDirection.RIGHTTOLEFT.toString()&&(d=d.reverse())}else d.push(b);return d},c.prototype.getPrevPageIndex=function(b,c){var d;if(c){var e=this.getPagedIndices(b),f=this.getViewingDirection();d=f&&f.toString()===a.ViewingDirection.RIGHTTOLEFT.toString()?e[e.length-1]-1:e[0]-1}else d=b-1;return d},c.prototype.getStartCanvasIndex=function(){var a=this.getStartCanvas();if(a)for(var b=0;b<this.getTotalCanvases();b++){var c=this.getCanvasByIndex(b);if(c.id===a)return b}return 0},c.prototype.getThumbs=function(b,c){console.warn("getThumbs will be deprecated, use getThumbnails instead");for(var d=[],e=this.getTotalCanvases(),f=0;f<e;f++){var g=this.getCanvasByIndex(f),h=new a.Thumb(b,g);d.push(h)}return d},c.prototype.getThumbnails=function(){if(null!=this._thumbnails)return this._thumbnails;this._thumbnails=[];for(var a=this.getCanvases(),b=0;b<a.length;b++){var c=a[b].getThumbnail();c&&this._thumbnails.push(c)}return this._thumbnails},c.prototype.getStartCanvas=function(){return this.getProperty("startCanvas")},c.prototype.getTotalCanvases=function(){return this.getCanvases().length},c.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?new a.ViewingDirection(this.getProperty("viewingDirection")):this.options.resource.getViewingDirection?this.options.resource.getViewingDirection():null},c.prototype.getViewingHint=function(){return this.getProperty("viewingHint")?new a.ViewingHint(this.getProperty("viewingHint")):null},c.prototype.isCanvasIndexOutOfRange=function(a){return a>this.getTotalCanvases()-1},c.prototype.isFirstCanvas=function(a){return 0===a},c.prototype.isLastCanvas=function(a){return a===this.getTotalCanvases()-1},c.prototype.isMultiCanvas=function(){return this.getTotalCanvases()>1},c.prototype.isPagingEnabled=function(){var b=this.getViewingHint();return!!b&&b.toString()===a.ViewingHint.PAGED.toString()},c.prototype.isTotalCanvasesEven=function(){return this.getTotalCanvases()%2==0},c}(a.ManifestResource);a.Sequence=b}(d||(d={}));var d;!function(a){var b=function(){function b(){}return b.parse=function(a,b){return"string"==typeof a&&(a=JSON.parse(a)),this.parseJson(a,b)},b.parseJson=function(a,b){var c;if(b&&b.navDate&&!isNaN(b.navDate.getTime())&&(a.navDate=b.navDate.toString()),a["@type"])switch(a["@type"]){case"sc:Collection":c=this.parseCollection(a,b);break;case"sc:Manifest":c=this.parseManifest(a,b);break;default:return null}else switch(a.type){case"Collection":c=this.parseCollection(a,b);break;case"Manifest":c=this.parseManifest(a,b);break;default:return null}return c.isLoaded=!0,c},b.parseCollection=function(b,c){var d=new a.Collection(b,c);return c?(d.index=c.index||0,c.resource&&(d.parentCollection=c.resource.parentCollection)):d.index=0,this.parseCollections(d,c),this.parseManifests(d,c),this.parseItems(d,c),d},b.parseCollections=function(a,b){var c;if(a.__jsonld.collections?c=a.__jsonld.collections:a.__jsonld.items&&(c=a.__jsonld.items.filter(function(a){return"collection"===a.type.toLowerCase()})),c)for(var d=0;d<c.length;d++){b&&(b.index=d);var e=this.parseCollection(c[d],b);e.index=d,e.parentCollection=a,a.items.push(e)}},b.parseManifest=function(b,c){return new a.Manifest(b,c)},b.parseManifests=function(a,b){var c;if(a.__jsonld.manifests?c=a.__jsonld.manifests:a.__jsonld.items&&(c=a.__jsonld.items.filter(function(a){return"manifest"===a.type.toLowerCase()})),c)for(var d=0;d<c.length;d++){var e=this.parseManifest(c[d],b);e.index=d,e.parentCollection=a,a.items.push(e)}},b.parseItem=function(a,b){if(a["@type"]){if("sc:manifest"===a["@type"].toLowerCase())return this.parseManifest(a,b);if("sc:collection"===a["@type"].toLowerCase())return this.parseCollection(a,b)}else if(a.type){if("manifest"===a.type.toLowerCase())return this.parseManifest(a,b);if("collection"===a.type.toLowerCase())return this.parseCollection(a,b)}return null},b.parseItems=function(a,b){var c=a.__jsonld.members||a.__jsonld.items;if(c)for(var d=function(d){b&&(b.index=d);var f=e.parseItem(c[d],b);return f?a.items.filter(function(a){return a.id===f.id})[0]?"continue":(f.index=d,f.parentCollection=a,void a.items.push(f)):{value:void 0}},e=this,f=0;f<c.length;f++){var g=d(f);if("object"==typeof g)return g.value}},b}();a.Deserialiser=b;var c=function(){function a(){}return a.serialise=function(a){return""},a}();a.Serialiser=c}(d||(d={}));var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b=function(b){function c(a,c){return b.call(this,a,c)||this}return e(c,b),c.prototype.getProfile=function(){var b=this.getProperty("profile");return b||(b=this.getProperty("dcterms:conformsTo")),Array.isArray(b)?new a.ServiceProfile(b[0]):new a.ServiceProfile(b)},c.prototype.getConfirmLabel=function(){return a.Utils.getLocalisedValue(this.getProperty("confirmLabel"),this.options.locale)},c.prototype.getDescription=function(){return a.Utils.getLocalisedValue(this.getProperty("description"),this.options.locale)},c.prototype.getFailureDescription=function(){return a.Utils.getLocalisedValue(this.getProperty("failureDescription"),this.options.locale)},c.prototype.getFailureHeader=function(){return a.Utils.getLocalisedValue(this.getProperty("failureHeader"),this.options.locale)},c.prototype.getHeader=function(){return a.Utils.getLocalisedValue(this.getProperty("header"),this.options.locale)},c.prototype.getServiceLabel=function(){return a.Utils.getLocalisedValue(this.getProperty("label"),this.options.locale)},c.prototype.getInfoUri=function(){var a=this.id;return a.endsWith("/")||(a+="/"),a+="info.json"},c}(a.ManifestResource);a.Service=b}(d||(d={}));var d;!function(a){var b=function(){function b(b,c){this.data=c,this.index=c.index,this.width=b;var d=c.getHeight()/c.getWidth();this.height=d?Math.floor(this.width*d):b,this.uri=c.getCanonicalImageUri(b),this.label=a.LanguageMap.getValue(c.getLabel())}return b}();a.Thumb=b}(d||(d={}));var d;!function(a){var b=function(){function b(a,b){this.label=a,this.data=b||{},this.nodes=[]}return b.prototype.addNode=function(a){this.nodes.push(a),a.parentNode=this},b.prototype.isCollection=function(){return this.data.type===a.Utils.normaliseType(a.TreeNodeType.COLLECTION.toString())},b.prototype.isManifest=function(){return this.data.type===a.Utils.normaliseType(a.TreeNodeType.MANIFEST.toString())},b.prototype.isRange=function(){return this.data.type===a.Utils.normaliseType(a.TreeNodeType.RANGE.toString())},b}();a.TreeNode=b}(d||(d={}));var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return e(b,a),b.prototype.collection=function(){return new b(b.COLLECTION.toString())},b.prototype.manifest=function(){return new b(b.MANIFEST.toString())},b.prototype.range=function(){return new b(b.RANGE.toString())},b.COLLECTION=new b("collection"),b.MANIFEST=new b("manifest"),b.RANGE=new b("range"),b}(a.StringValue);a.TreeNodeType=b}(d||(d={}));var d,f=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d.throw(a))}catch(b){f(b)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})},g=this&&this.__generator||function(a,b){function c(a){return function(b){return d([a,b])}}function d(c){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,f&&(g=2&c[0]?f.return:c[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,c[1])).done)return g;switch(f=0,g&&(c=[2&c[0],g.value]),c[0]){case 0:case 1:g=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,f=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(g=i.trys,!(g=g.length>0&&g[g.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!g||c[1]>g[0]&&c[1]<g[3])){i.label=c[1];break}if(6===c[0]&&i.label<g[1]){i.label=g[1],g=c;break}if(g&&i.label<g[2]){i.label=g[2],i.ops.push(c);break}g[2]&&i.ops.pop(),i.trys.pop();continue}c=b.call(a,i)}catch(d){c=[6,d],f=0}finally{e=g=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e,f,g,h,i={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return h={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h},h=a("http"),i=a("https"),j=a("url");!function(a){var b=function(){function b(){}return b.getMediaType=function(a){return a=a.toLowerCase(),a=a.split(";")[0],a.trim()},b.getImageQuality=function(b){var c=b.toString();return c===a.ServiceProfile.STANFORDIIIFIMAGECOMPLIANCE1.toString()||c===a.ServiceProfile.STANFORDIIIFIMAGECOMPLIANCE2.toString()||c===a.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE1.toString()||c===a.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE2.toString()||c===a.ServiceProfile.STANFORDIIIFIMAGECONFORMANCE1.toString()||c===a.ServiceProfile.STANFORDIIIFIMAGECONFORMANCE2.toString()||c===a.ServiceProfile.STANFORDIIIF1IMAGECONFORMANCE1.toString()||c===a.ServiceProfile.STANFORDIIIF1IMAGECONFORMANCE2.toString()||c===a.ServiceProfile.IIIF1IMAGELEVEL1.toString()||c===a.ServiceProfile.IIIF1IMAGELEVEL1PROFILE.toString()||c===a.ServiceProfile.IIIF1IMAGELEVEL2.toString()||c===a.ServiceProfile.IIIF1IMAGELEVEL2PROFILE.toString()?"native":"default"},b.getInexactLocale=function(a){return-1!==a.indexOf("-")?a.substr(0,a.indexOf("-")):a},b.getLocalisedValue=function(a,b){if(!Array.isArray(a))return a;for(var c=0;c<a.length;c++){var d=a[c];if(b===d["@language"])return d["@value"]}for(var e=b.substr(0,b.indexOf("-")),c=0;c<a.length;c++){var f=a[c];if(f["@language"]===e)return f["@value"]}return null},b.generateTreeNodeIds=function(a,c){void 0===c&&(c=0);var d;d=a.parentNode?a.parentNode.id+"-"+c:"0",a.id=d;for(var e=0;e<a.nodes.length;e++){var f=a.nodes[e];b.generateTreeNodeIds(f,e)}},b.normaliseType=function(a){if(a=a.toLowerCase(),-1!==a.indexOf(":")){return a.split(":")[1]}return a},b.normaliseUrl=function(a){return a=a.substr(a.indexOf("://")),-1!==a.indexOf("#")&&(a=a.split("#")[0]),a},b.normalisedUrlsMatch=function(a,c){return b.normaliseUrl(a)===b.normaliseUrl(c)},b.isImageProfile=function(c){return"string"==typeof c&&(c=new a.ServiceProfile(c)),!!(b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.STANFORDIIIFIMAGECOMPLIANCE0.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.STANFORDIIIFIMAGECOMPLIANCE1.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.STANFORDIIIFIMAGECOMPLIANCE2.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE0.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE0.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE0.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE2.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.STANFORDIIIFIMAGECONFORMANCE0.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.STANFORDIIIFIMAGECONFORMANCE1.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.STANFORDIIIFIMAGECONFORMANCE2.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.STANFORDIIIF1IMAGECONFORMANCE1.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.STANFORDIIIF1IMAGECONFORMANCE2.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.IIIF1IMAGELEVEL0.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.IIIF1IMAGELEVEL0PROFILE.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.IIIF1IMAGELEVEL1.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.IIIF1IMAGELEVEL1PROFILE.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.IIIF1IMAGELEVEL2.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.IIIF1IMAGELEVEL2PROFILE.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.IIIF2IMAGELEVEL0.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.IIIF2IMAGELEVEL0PROFILE.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.IIIF2IMAGELEVEL1.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.IIIF2IMAGELEVEL1PROFILE.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.IIIF2IMAGELEVEL2.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.IIIF2IMAGELEVEL2PROFILE.toString()))},b.isLevel0ImageProfile=function(c){return"string"==typeof c&&(c=new a.ServiceProfile(c)),!!(b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.STANFORDIIIFIMAGECOMPLIANCE0.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE0.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.STANFORDIIIFIMAGECONFORMANCE0.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.STANFORDIIIF1IMAGECONFORMANCE0.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.IIIF1IMAGELEVEL0.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.IIIF1IMAGELEVEL0PROFILE.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.IIIF2IMAGELEVEL0.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.IIIF2IMAGELEVEL0PROFILE.toString()))},b.isLevel1ImageProfile=function(c){return"string"==typeof c&&(c=new a.ServiceProfile(c)),!!(b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.STANFORDIIIFIMAGECOMPLIANCE1.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE1.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.STANFORDIIIFIMAGECONFORMANCE1.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.STANFORDIIIF1IMAGECONFORMANCE1.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.IIIF1IMAGELEVEL1.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.IIIF1IMAGELEVEL1PROFILE.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.IIIF2IMAGELEVEL1.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.IIIF2IMAGELEVEL1PROFILE.toString()))},b.isLevel2ImageProfile=function(c){return"string"==typeof c&&(c=new a.ServiceProfile(c)),!!(b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.STANFORDIIIFIMAGECOMPLIANCE2.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE2.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.STANFORDIIIFIMAGECONFORMANCE2.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.STANFORDIIIF1IMAGECONFORMANCE2.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.IIIF1IMAGELEVEL2.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.IIIF1IMAGELEVEL2PROFILE.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.IIIF2IMAGELEVEL2.toString())||b.normalisedUrlsMatch(c.toString(),a.ServiceProfile.IIIF2IMAGELEVEL2PROFILE.toString()))},b.loadResource=function(a){return new Promise(function(b,c){var d,e=j.parse(a),f={host:e.hostname,port:e.port,path:e.path,method:"GET",withCredentials:!1};switch(e.protocol){case"https:":d=i.request(f,function(a){var c="";a.on("data",function(a){c+=a}),a.on("end",function(){b(c)})}),d.on("error",function(a){c(a)}),d.end();break;case"dat:":var g=new XMLHttpRequest;g.onreadystatechange=function(){4===g.readyState&&b(g.response)},g.open("GET",a,!0),g.send();break;default:d=h.request(f,function(a){var c="";a.on("data",function(a){c+=a}),a.on("end",function(){b(c)})}),d.on("error",function(a){c(a)}),d.end()}})},b.loadExternalResourcesAuth1=function(a,c,d,e,f,g,h,i){return new Promise(function(j,k){var l=a.map(function(a){return b.loadExternalResourceAuth1(a,c,d,e,f,g,h,i)});Promise.all(l).then(function(){j(a)}).catch(function(a){k(a)})})},b.loadExternalResourceAuth1=function(a,c,d,e,h,i,j,k){return f(this,void 0,void 0,function(){var f;return g(this,function(g){switch(g.label){case 0:return[4,e(a)];case 1:return f=g.sent(),f?[4,a.getData(f)]:[3,6];case 2:return g.sent(),a.status!==HTTPStatusCode.OK?[3,3]:[2,a];case 3:return[4,b.doAuthChain(a,c,d,h,i,j,k)];case 4:g.sent(),g.label=5;case 5:if(a.status===HTTPStatusCode.OK||a.status===HTTPStatusCode.MOVED_TEMPORARILY)return[2,a];throw b.createAuthorizationFailedError();case 6:return[4,a.getData()];case 7:return g.sent(),a.status!==HTTPStatusCode.MOVED_TEMPORARILY&&a.status!==HTTPStatusCode.UNAUTHORIZED?[3,9]:[4,b.doAuthChain(a,c,d,h,i,j,k)];case 8:g.sent(),g.label=9;case 9:if(a.status===HTTPStatusCode.OK||a.status===HTTPStatusCode.MOVED_TEMPORARILY)return[2,a];throw b.createAuthorizationFailedError()}})})},b.doAuthChain=function(a,c,d,e,h,i,j){return f(this,void 0,void 0,function(){var f,k,l,m,n,o,p,q,q;return g(this,function(g){switch(g.label){case 0:return a.isAccessControlled()?(f=a.externalService,f&&(f.options=a.options),k=a.kioskService,k&&(k.options=a.options),l=a.clickThroughService,l&&(l.options=a.options),m=a.loginService,m&&(m.options=a.options),a.isResponseHandled||a.status!==HTTPStatusCode.MOVED_TEMPORARILY?[3,2]:[4,i(a)]):[2,a];case 1:return g.sent(),[2,a];case 2:return n=null,(o=null,n=f)?(o=n,[4,b.attemptResourceWithToken(a,d,n)]):[3,4];case 3:return g.sent(),[2,a];case 4:return(n=k)?(o=n,p=c(n),p?[4,e(p)]:[3,7]):[3,7];case 5:return g.sent(),[4,b.attemptResourceWithToken(a,d,n)];case 6:return g.sent(),[2,a];case 7:return(n=l)?(o=n,[4,h(a,n)]):[3,11];case 8:return q=g.sent(),q?[4,e(q)]:[3,11];case 9:return g.sent(),[4,b.attemptResourceWithToken(a,d,n)];case 10:return g.sent(),[2,a];case 11:return(n=m)?(o=n,[4,h(a,n)]):[3,15];case 12:return q=g.sent(),q?[4,e(q)]:[3,15];case 13:return g.sent(),[4,b.attemptResourceWithToken(a,d,n)];case 14:return g.sent(),[2,a];case 15:return o&&j(a,o),[2]}})})},b.attemptResourceWithToken=function(b,c,d){return f(this,void 0,void 0,function(){var e,f;return g(this,function(g){switch(g.label){case 0:return e=d.getService(a.ServiceProfile.AUTH1TOKEN.toString()),e?[4,c(b,e)]:[3,3];case 1:return f=g.sent(),f&&f.accessToken?[4,b.getData(f)]:[3,3];case 2:return g.sent(),[2,b];case 3:return[2]}})})},b.loadExternalResourcesAuth09=function(a,c,d,e,f,g,h,i,j,k){return new Promise(function(l,m){var n=a.map(function(a){return b.loadExternalResourceAuth09(a,c,d,e,f,g,h,i,j,k)});Promise.all(n).then(function(){l(a)}).catch(function(a){m(a)})})},b.loadExternalResourceAuth09=function(a,c,d,e,f,g,h,i,j,k){return new Promise(function(l,m){k&&k.pessimisticAccessControl?a.getData().then(function(){a.isAccessControlled()?a.clickThroughService?(l(d(a)),l(e(a))):f(a).then(function(){g(a,!0).then(function(c){a.getData(c).then(function(){l(j(a))}).catch(function(a){m(b.createInternalServerError(a))})}).catch(function(a){m(b.createInternalServerError(a))})}).catch(function(a){m(b.createInternalServerError(a))}):l(a)}).catch(function(a){m(b.createInternalServerError(a))}):i(a,c).then(function(k){k?a.getData(k).then(function(){a.status===HTTPStatusCode.OK?l(j(a)):b.authorize(a,c,d,e,f,g,h,i).then(function(){l(j(a))}).catch(function(a){m(b.createAuthorizationFailedError())})}).catch(function(a){m(b.createAuthorizationFailedError())}):b.authorize(a,c,d,e,f,g,h,i).then(function(){l(j(a))}).catch(function(a){m(b.createAuthorizationFailedError())})}).catch(function(a){m(b.createAuthorizationFailedError())})})},b.createError=function(a,b){var c=new Error;return c.message=b,c.name=a,c},b.createAuthorizationFailedError=function(){return b.createError(manifesto.StatusCodes.AUTHORIZATION_FAILED.toString(),"Authorization failed")},b.createRestrictedError=function(){return b.createError(manifesto.StatusCodes.RESTRICTED.toString(),"Restricted")},b.createInternalServerError=function(a){return b.createError(manifesto.StatusCodes.INTERNAL_SERVER_ERROR.toString(),a)},b.authorize=function(a,c,d,e,f,g,h,i){return new Promise(function(j,k){a.getData().then(function(){a.isAccessControlled()?i(a,c).then(function(i){i?a.getData(i).then(function(){a.status===HTTPStatusCode.OK?j(a):b.showAuthInteraction(a,c,d,e,f,g,h,j,k)}).catch(function(a){k(b.createInternalServerError(a))}):g(a,!1).then(function(i){i?h(a,i,c).then(function(){a.getData(i).then(function(){a.status===HTTPStatusCode.OK?j(a):b.showAuthInteraction(a,c,d,e,f,g,h,j,k)}).catch(function(a){k(b.createInternalServerError(a))})}).catch(function(a){k(b.createInternalServerError(a))}):b.showAuthInteraction(a,c,d,e,f,g,h,j,k)})}).catch(function(a){k(b.createInternalServerError(a))}):j(a)})})},b.showAuthInteraction=function(a,c,d,e,f,g,h,i,j){a.status!==HTTPStatusCode.MOVED_TEMPORARILY||a.isResponseHandled?a.clickThroughService&&!a.isResponseHandled?d(a).then(function(){g(a,!0).then(function(d){h(a,d,c).then(function(){a.getData(d).then(function(){i(a)}).catch(function(a){j(b.createInternalServerError(a))})}).catch(function(a){j(b.createInternalServerError(a))})}).catch(function(a){j(b.createInternalServerError(a))})}):f(a).then(function(){g(a,!0).then(function(d){h(a,d,c).then(function(){a.getData(d).then(function(){i(a)}).catch(function(a){j(b.createInternalServerError(a))})}).catch(function(a){j(b.createInternalServerError(a))})}).catch(function(a){j(b.createInternalServerError(a))})}):i(a)},b.getService=function(a,b){var c=this.getServices(a);"string"!=typeof b&&(b=b.toString());for(var d=0;d<c.length;d++){var e=c[d];if(e.getProfile().toString()===b)return e}return null},b.getResourceById=function(a,c){return b.traverseAndFind(a.__jsonld,"@id",c)},b.traverseAndFind=function(a,c,d){if(a.hasOwnProperty(c)&&a[c]===d)return a;for(var e=0;e<Object.keys(a).length;e++)if("object"==typeof a[Object.keys(a)[e]]){var f=b.traverseAndFind(a[Object.keys(a)[e]],c,d);if(null!=f)return f}},b.getServices=function(b){var c;c=b.__jsonld?b.__jsonld.service:b.service;var d=[];if(!c)return d;Array.isArray(c)||(c=[c]);for(var e=0;e<c.length;e++){var f=c[e];if("string"==typeof f){var g=this.getResourceById(b.options.resource,f);g&&d.push(new a.Service(g.__jsonld||g,b.options))}else d.push(new a.Service(f,b.options))}return d},b.getTemporalComponent=function(a){var b=/t=([^&]+)/g.exec(a),c=null;return b&&b[1]&&(c=b[1].split(",")),c},b}();a.Utils=b}(d||(d={}));var d;!function(a){var b=function(){function a(a,b){Array.isArray(a)?1===a.length?this.value=a[0]:this.value=a.join("<br/>"):this.value=a,this.locale=b}return a}();a.Language=b}(d||(d={}));var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}return e(c,b),c.parse=function(b,c){var d,e=[];if(!b)return e;if(Array.isArray(b))for(var f=0;f<b.length;f++){var g=b[f];d="string"==typeof g?new a.Language(g,c):new a.Language(g["@value"],g["@language"]||c),e.push(d)}else{if("string"==typeof b)return d=new a.Language(b,c),e.push(d),e;b["@value"]?(d=new a.Language(b["@value"],b["@language"]||c),e.push(d)):Object.keys(b).forEach(function(c){if(!b[c].length)throw new Error("language must have a value");d=new a.Language(b[c],c),e.push(d)})}return e},c.getValue=function(b,c){if(b.length){if(c){var d=b.filter(function(b){return b.locale===c||a.Utils.getInexactLocale(b.locale)===a.Utils.getInexactLocale(c)})[0];if(d)return d.value}return b[0].value}return null},c}(Array);a.LanguageMap=b}(d||(d={}));var d;!function(a){var b=function(){function b(a){this.defaultLocale=a}return b.prototype.parse=function(b){this.resource=b,this.label=a.LanguageMap.parse(this.resource.label,this.defaultLocale),this.value=a.LanguageMap.parse(this.resource.value,this.defaultLocale)},b.prototype.getLabel=function(){return this.label?a.LanguageMap.getValue(this.label,this.defaultLocale):null},b.prototype.setLabel=function(b){var c=this;if(this.label&&this.label.length){var d=this.label.filter(function(b){return b.locale===c.defaultLocale||b.locale===a.Utils.getInexactLocale(c.defaultLocale)})[0];d&&(d.value=b)}},b.prototype.getValue=function(){if(this.value){var b=this.defaultLocale;return this.label&&this.label.length&&this.label[0].locale&&(b=this.label[0].locale),a.LanguageMap.getValue(this.value,b)}return null},b.prototype.setValue=function(b){var c=this;if(this.value&&this.value.length){var d=this.value.filter(function(b){return b.locale===c.defaultLocale||b.locale===a.Utils.getInexactLocale(c.defaultLocale)})[0];d&&(d.value=b)}},b}();a.LabelValuePair=b}(d||(d={}));var d;!function(a){var b=function(){function a(a,b){this.width=a,this.height=b}return a}();a.Size=b}(d||(d={})),c.manifesto=c.Manifesto=b.exports={AnnotationMotivation:new d.AnnotationMotivation,Behavior:new d.Behavior,IIIFResourceType:new d.IIIFResourceType,LabelValuePair:d.LabelValuePair,Language:d.Language,LanguageMap:d.LanguageMap,ManifestType:new d.ManifestType,MediaType:new d.MediaType,RenderingFormat:new d.RenderingFormat,ResourceType:new d.ResourceType,ServiceProfile:new d.ServiceProfile,Size:d.Size,TreeNode:d.TreeNode,TreeNodeType:new d.TreeNodeType,Utils:d.Utils,ViewingDirection:new d.ViewingDirection,ViewingHint:new d.ViewingHint,Annotation:d.Annotation,AnnotationBody:d.AnnotationBody,AnnotationList:d.AnnotationList,AnnotationPage:d.AnnotationPage,Canvas:d.Canvas,Collection:d.Collection,Duration:d.Duration,Manifest:d.Manifest,Range:d.Range,Sequence:d.Sequence,Service:d.Service,Thumbnail:d.Thumbnail,Thumb:d.Thumb,StatusCodes:{AUTHORIZATION_FAILED:1,FORBIDDEN:2,INTERNAL_SERVER_ERROR:3,RESTRICTED:4},create:function(a,b){return d.Deserialiser.parse(a,b)},loadManifest:function(a){return d.Utils.loadResource(a)}};var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b=function(b){function c(a,c){return b.call(this,a,c)||this}return e(c,b),c.prototype.getBody=function(){var b=[],c=this.getProperty("body");if(c)if(Array.isArray(c))for(var d=0;d<c.length;d++){var e=c[d];if(e.items)for(var f=0;f<e.items.length;f++){var g=e.items[f];b.push(new a.AnnotationBody(g,this.options))}else b.push(new a.AnnotationBody(e,this.options))}else if(c.items)for(var d=0;d<c.items.length;d++){var e=c.items[d];b.push(new a.AnnotationBody(e,this.options))}else b.push(new a.AnnotationBody(c,this.options));return b},c.prototype.getMotivation=function(){var b=this.getProperty("motivation");return b?new a.AnnotationMotivation(b.toLowerCase()):null},c.prototype.getOn=function(){return this.getProperty("on")},c.prototype.getTarget=function(){return this.getProperty("target")},c.prototype.getResource=function(){return new a.Resource(this.getProperty("resource"),this.options)},c}(a.ManifestResource);a.Annotation=b}(d||(d={}));var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b=function(b){function c(a,c){return b.call(this,a,c)||this}return e(c,b),c.prototype.getFormat=function(){var b=this.getProperty("format");return b?new a.MediaType(a.Utils.getMediaType(b)):null},c.prototype.getType=function(){return this.getProperty("type")?new a.ResourceType(a.Utils.normaliseType(this.getProperty("type"))):null},c.prototype.getWidth=function(){return this.getProperty("width")},c.prototype.getHeight=function(){return this.getProperty("height")},c}(a.ManifestResource);a.AnnotationBody=b}(d||(d={}));var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b=function(b){function c(a,c,d){var e=b.call(this,c)||this;return e.label=a,e.options=d,e}return e(c,b),c.prototype.getIIIFResourceType=function(){return new a.IIIFResourceType(a.Utils.normaliseType(this.getProperty("type")))},c.prototype.getLabel=function(){return this.label},c.prototype.getResources=function(){var b=this;return this.getProperty("resources").map(function(c){return new a.Annotation(c,b.options)})},c.prototype.load=function(){var b=this;return new Promise(function(c,d){if(b.isLoaded)c(b);else{var e=b.__jsonld.id;e||(e=b.__jsonld["@id"]),a.Utils.loadResource(e).then(function(a){b.__jsonld=JSON.parse(a),b.context=b.getProperty("context"),b.id=b.getProperty("id"),b.isLoaded=!0,c(b)}).catch(d)}})},c}(a.JSONLDResource);a.AnnotationList=b}(d||(d={}));var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b=function(a){function b(b,c){return a.call(this,b,c)||this}return e(b,a),b.prototype.getItems=function(){return this.getProperty("items")},b}(a.ManifestResource);a.AnnotationPage=b}(d||(d={}));var d,e=this&&this.__extends||function(){var a=function(b,c){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(b,c)};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}()
;!function(a){var b=function(a){function b(b,c){return a.call(this,b,c)||this}return e(b,a),b}(a.Resource);a.Thumbnail=b}(d||(d={}))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{http:30,https:9,url:36}],2:[function(a,b,c){"use strict";function d(a){var b=a.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=a.indexOf("=");return-1===c&&(c=b),[c,c===b?0:4-c%4]}function e(a){var b=d(a),c=b[0],e=b[1];return 3*(c+e)/4-e}function f(a,b,c){return 3*(b+c)/4-c}function g(a){for(var b,c=d(a),e=c[0],g=c[1],h=new m(f(a,e,g)),i=0,j=g>0?e-4:e,k=0;k<j;k+=4)b=l[a.charCodeAt(k)]<<18|l[a.charCodeAt(k+1)]<<12|l[a.charCodeAt(k+2)]<<6|l[a.charCodeAt(k+3)],h[i++]=b>>16&255,h[i++]=b>>8&255,h[i++]=255&b;return 2===g&&(b=l[a.charCodeAt(k)]<<2|l[a.charCodeAt(k+1)]>>4,h[i++]=255&b),1===g&&(b=l[a.charCodeAt(k)]<<10|l[a.charCodeAt(k+1)]<<4|l[a.charCodeAt(k+2)]>>2,h[i++]=b>>8&255,h[i++]=255&b),h}function h(a){return k[a>>18&63]+k[a>>12&63]+k[a>>6&63]+k[63&a]}function i(a,b,c){for(var d,e=[],f=b;f<c;f+=3)d=(a[f]<<16&16711680)+(a[f+1]<<8&65280)+(255&a[f+2]),e.push(h(d));return e.join("")}function j(a){for(var b,c=a.length,d=c%3,e=[],f=16383,g=0,h=c-d;g<h;g+=f)e.push(i(a,g,g+f>h?h:g+f));return 1===d?(b=a[c-1],e.push(k[b>>2]+k[b<<4&63]+"==")):2===d&&(b=(a[c-2]<<8)+a[c-1],e.push(k[b>>10]+k[b>>4&63]+k[b<<2&63]+"=")),e.join("")}c.byteLength=e,c.toByteArray=g,c.fromByteArray=j;for(var k=[],l=[],m="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,p=n.length;o<p;++o)k[o]=n[o],l[n.charCodeAt(o)]=o;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},{}],3:[function(a,b,c){},{}],4:[function(b,c,d){(function(b){!function(e){function f(a){throw new RangeError(I[a])}function g(a,b){for(var c=a.length,d=[];c--;)d[c]=b(a[c]);return d}function h(a,b){var c=a.split("@"),d="";return c.length>1&&(d=c[0]+"@",a=c[1]),a=a.replace(H,"."),d+g(a.split("."),b).join(".")}function i(a){for(var b,c,d=[],e=0,f=a.length;e<f;)b=a.charCodeAt(e++),b>=55296&&b<=56319&&e<f?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function j(a){return g(a,function(a){var b="";return a>65535&&(a-=65536,b+=L(a>>>10&1023|55296),a=56320|1023&a),b+=L(a)}).join("")}function k(a){return a-48<10?a-22:a-65<26?a-65:a-97<26?a-97:x}function l(a,b){return a+22+75*(a<26)-((0!=b)<<5)}function m(a,b,c){var d=0;for(a=c?K(a/B):a>>1,a+=K(a/b);a>J*z>>1;d+=x)a=K(a/J);return K(d+(J+1)*a/(a+A))}function n(a){var b,c,d,e,g,h,i,l,n,o,p=[],q=a.length,r=0,s=D,t=C;for(c=a.lastIndexOf(E),c<0&&(c=0),d=0;d<c;++d)a.charCodeAt(d)>=128&&f("not-basic"),p.push(a.charCodeAt(d));for(e=c>0?c+1:0;e<q;){for(g=r,h=1,i=x;e>=q&&f("invalid-input"),l=k(a.charCodeAt(e++)),(l>=x||l>K((w-r)/h))&&f("overflow"),r+=l*h,n=i<=t?y:i>=t+z?z:i-t,!(l<n);i+=x)o=x-n,h>K(w/o)&&f("overflow"),h*=o;b=p.length+1,t=m(r-g,b,0==g),K(r/b)>w-s&&f("overflow"),s+=K(r/b),r%=b,p.splice(r++,0,s)}return j(p)}function o(a){var b,c,d,e,g,h,j,k,n,o,p,q,r,s,t,u=[];for(a=i(a),q=a.length,b=D,c=0,g=C,h=0;h<q;++h)(p=a[h])<128&&u.push(L(p));for(d=e=u.length,e&&u.push(E);d<q;){for(j=w,h=0;h<q;++h)(p=a[h])>=b&&p<j&&(j=p);for(r=d+1,j-b>K((w-c)/r)&&f("overflow"),c+=(j-b)*r,b=j,h=0;h<q;++h)if(p=a[h],p<b&&++c>w&&f("overflow"),p==b){for(k=c,n=x;o=n<=g?y:n>=g+z?z:n-g,!(k<o);n+=x)t=k-o,s=x-o,u.push(L(l(o+t%s,0))),k=K(t/s);u.push(L(l(k,0))),g=m(c,r,d==e),c=0,++d}++c,++b}return u.join("")}function p(a){return h(a,function(a){return F.test(a)?n(a.slice(4).toLowerCase()):a})}function q(a){return h(a,function(a){return G.test(a)?"xn--"+o(a):a})}var r="object"==typeof d&&d&&!d.nodeType&&d,s="object"==typeof c&&c&&!c.nodeType&&c,t="object"==typeof b&&b;t.global!==t&&t.window!==t&&t.self!==t||(e=t);var u,v,w=2147483647,x=36,y=1,z=26,A=38,B=700,C=72,D=128,E="-",F=/^xn--/,G=/[^\x20-\x7E]/,H=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},J=x-y,K=Math.floor,L=String.fromCharCode;if(u={version:"1.4.1",ucs2:{decode:i,encode:j},decode:n,encode:o,toASCII:q,toUnicode:p},"function"==typeof a&&"object"==typeof a.amd&&a.amd)a("punycode",function(){return u});else if(r&&s)if(c.exports==r)s.exports=u;else for(v in u)u.hasOwnProperty(v)&&(r[v]=u[v]);else e.punycode=u}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(a,b,c){(function(b){"use strict";function d(){try{var a=new Uint8Array(1);return a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===a.foo()&&"function"==typeof a.subarray&&0===a.subarray(1,1).byteLength}catch(b){return!1}}function e(){return g.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(a,b){if(e()<b)throw new RangeError("Invalid typed array length");return g.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(b),a.__proto__=g.prototype):(null===a&&(a=new g(b)),a.length=b),a}function g(a,b,c){if(!(g.TYPED_ARRAY_SUPPORT||this instanceof g))return new g(a,b,c);if("number"==typeof a){if("string"==typeof b)throw new Error("If encoding is specified then the first argument must be a string");return k(this,a)}return h(this,a,b,c)}function h(a,b,c,d){if("number"==typeof b)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&b instanceof ArrayBuffer?n(a,b,c,d):"string"==typeof b?l(a,b,c):o(a,b)}function i(a){if("number"!=typeof a)throw new TypeError('"size" argument must be a number');if(a<0)throw new RangeError('"size" argument must not be negative')}function j(a,b,c,d){return i(b),b<=0?f(a,b):void 0!==c?"string"==typeof d?f(a,b).fill(c,d):f(a,b).fill(c):f(a,b)}function k(a,b){if(i(b),a=f(a,b<0?0:0|p(b)),!g.TYPED_ARRAY_SUPPORT)for(var c=0;c<b;++c)a[c]=0;return a}function l(a,b,c){if("string"==typeof c&&""!==c||(c="utf8"),!g.isEncoding(c))throw new TypeError('"encoding" must be a valid string encoding');var d=0|r(b,c);a=f(a,d);var e=a.write(b,c);return e!==d&&(a=a.slice(0,e)),a}function m(a,b){var c=b.length<0?0:0|p(b.length);a=f(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function n(a,b,c,d){if(b.byteLength,c<0||b.byteLength<c)throw new RangeError("'offset' is out of bounds");if(b.byteLength<c+(d||0))throw new RangeError("'length' is out of bounds");return b=void 0===c&&void 0===d?new Uint8Array(b):void 0===d?new Uint8Array(b,c):new Uint8Array(b,c,d),g.TYPED_ARRAY_SUPPORT?(a=b,a.__proto__=g.prototype):a=m(a,b),a}function o(a,b){if(g.isBuffer(b)){var c=0|p(b.length);return a=f(a,c),0===a.length?a:(b.copy(a,0,0,c),a)}if(b){if("undefined"!=typeof ArrayBuffer&&b.buffer instanceof ArrayBuffer||"length"in b)return"number"!=typeof b.length||Y(b.length)?f(a,0):m(a,b);if("Buffer"===b.type&&_(b.data))return m(a,b.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(a){if(a>=e())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e().toString(16)+" bytes");return 0|a}function q(a){return+a!=a&&(a=0),g.alloc(+a)}function r(a,b){if(g.isBuffer(a))return a.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":case void 0:return T(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return W(a).length;default:if(d)return T(a).length;b=(""+b).toLowerCase(),d=!0}}function s(a,b,c){var d=!1;if((void 0===b||b<0)&&(b=0),b>this.length)return"";if((void 0===c||c>this.length)&&(c=this.length),c<=0)return"";if(c>>>=0,b>>>=0,c<=b)return"";for(a||(a="utf8");;)switch(a){case"hex":return H(this,b,c);case"utf8":case"utf-8":return D(this,b,c);case"ascii":return F(this,b,c);case"latin1":case"binary":return G(this,b,c);case"base64":return C(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function t(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function u(a,b,c,d,e){if(0===a.length)return-1;if("string"==typeof c?(d=c,c=0):c>2147483647?c=2147483647:c<-2147483648&&(c=-2147483648),c=+c,isNaN(c)&&(c=e?0:a.length-1),c<0&&(c=a.length+c),c>=a.length){if(e)return-1;c=a.length-1}else if(c<0){if(!e)return-1;c=0}if("string"==typeof b&&(b=g.from(b,d)),g.isBuffer(b))return 0===b.length?-1:v(a,b,c,d,e);if("number"==typeof b)return b&=255,g.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?e?Uint8Array.prototype.indexOf.call(a,b,c):Uint8Array.prototype.lastIndexOf.call(a,b,c):v(a,[b],c,d,e);throw new TypeError("val must be string, number or Buffer")}function v(a,b,c,d,e){function f(a,b){return 1===g?a[b]:a.readUInt16BE(b*g)}var g=1,h=a.length,i=b.length;if(void 0!==d&&("ucs2"===(d=String(d).toLowerCase())||"ucs-2"===d||"utf16le"===d||"utf-16le"===d)){if(a.length<2||b.length<2)return-1;g=2,h/=2,i/=2,c/=2}var j;if(e){var k=-1;for(j=c;j<h;j++)if(f(a,j)===f(b,-1===k?0:j-k)){if(-1===k&&(k=j),j-k+1===i)return k*g}else-1!==k&&(j-=j-k),k=-1}else for(c+i>h&&(c=h-i),j=c;j>=0;j--){for(var l=!0,m=0;m<i;m++)if(f(a,j+m)!==f(b,m)){l=!1;break}if(l)return j}return-1}function w(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d))>e&&(d=e):d=e;var f=b.length;if(f%2!=0)throw new TypeError("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;g<d;++g){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))return g;a[c+g]=h}return g}function x(a,b,c,d){return X(T(b,a.length-c),a,c,d)}function y(a,b,c,d){return X(U(b),a,c,d)}function z(a,b,c,d){return y(a,b,c,d)}function A(a,b,c,d){return X(W(b),a,c,d)}function B(a,b,c,d){return X(V(b,a.length-c),a,c,d)}function C(a,b,c){return 0===b&&c===a.length?Z.fromByteArray(a):Z.fromByteArray(a.slice(b,c))}function D(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;e<c;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(e+h<=c){var i,j,k,l;switch(h){case 1:f<128&&(g=f);break;case 2:i=a[e+1],128==(192&i)&&(l=(31&f)<<6|63&i)>127&&(g=l);break;case 3:i=a[e+1],j=a[e+2],128==(192&i)&&128==(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j)>2047&&(l<55296||l>57343)&&(g=l);break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128==(192&i)&&128==(192&j)&&128==(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k)>65535&&l<1114112&&(g=l)}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return E(d)}function E(a){var b=a.length;if(b<=aa)return String.fromCharCode.apply(String,a);for(var c="",d=0;d<b;)c+=String.fromCharCode.apply(String,a.slice(d,d+=aa));return c}function F(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(127&a[e]);return d}function G(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(a[e]);return d}function H(a,b,c){var d=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>d)&&(c=d);for(var e="",f=b;f<c;++f)e+=S(a[f]);return e}function I(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function J(a,b,c){if(a%1!=0||a<0)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function K(a,b,c,d,e,f){if(!g.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>e||b<f)throw new RangeError('"value" argument is out of bounds');if(c+d>a.length)throw new RangeError("Index out of range")}function L(a,b,c,d){b<0&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);e<f;++e)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function M(a,b,c,d){b<0&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);e<f;++e)a[c+e]=b>>>8*(d?e:3-e)&255}function N(a,b,c,d,e,f){if(c+d>a.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("Index out of range")}function O(a,b,c,d,e){return e||N(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),$.write(a,b,c,d,23,4),c+4}function P(a,b,c,d,e){return e||N(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),$.write(a,b,c,d,52,8),c+8}function Q(a){if(a=R(a).replace(ba,""),a.length<2)return"";for(;a.length%4!=0;)a+="=";return a}function R(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function S(a){return a<16?"0"+a.toString(16):a.toString(16)}function T(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;g<d;++g){if((c=a.charCodeAt(g))>55295&&c<57344){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=65536+(e-55296<<10|c-56320)}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function U(a){for(var b=[],c=0;c<a.length;++c)b.push(255&a.charCodeAt(c));return b}function V(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);++g)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function W(a){return Z.toByteArray(Q(a))}function X(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);++e)b[e+c]=a[e];return e}function Y(a){return a!==a}var Z=a("base64-js"),$=a("ieee754"),_=a("isarray");c.Buffer=g,c.SlowBuffer=q,c.INSPECT_MAX_BYTES=50,g.TYPED_ARRAY_SUPPORT=void 0!==b.TYPED_ARRAY_SUPPORT?b.TYPED_ARRAY_SUPPORT:d(),c.kMaxLength=e(),g.poolSize=8192,g._augment=function(a){return a.__proto__=g.prototype,a},g.from=function(a,b,c){return h(null,a,b,c)},g.TYPED_ARRAY_SUPPORT&&(g.prototype.__proto__=Uint8Array.prototype,g.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&g[Symbol.species]===g&&Object.defineProperty(g,Symbol.species,{value:null,configurable:!0})),g.alloc=function(a,b,c){return j(null,a,b,c)},g.allocUnsafe=function(a){return k(null,a)},g.allocUnsafeSlow=function(a){return k(null,a)},g.isBuffer=function(a){return!(null==a||!a._isBuffer)},g.compare=function(a,b){if(!g.isBuffer(a)||!g.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,e=0,f=Math.min(c,d);e<f;++e)if(a[e]!==b[e]){c=a[e],d=b[e];break}return c<d?-1:d<c?1:0},g.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(a,b){if(!_(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return g.alloc(0);var c;if(void 0===b)for(b=0,c=0;c<a.length;++c)b+=a[c].length;var d=g.allocUnsafe(b),e=0;for(c=0;c<a.length;++c){var f=a[c];if(!g.isBuffer(f))throw new TypeError('"list" argument must be an Array of Buffers');f.copy(d,e),e+=f.length}return d},g.byteLength=r,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var a=this.length;if(a%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var b=0;b<a;b+=2)t(this,b,b+1);return this},g.prototype.swap32=function(){var a=this.length;if(a%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)t(this,b,b+3),t(this,b+1,b+2);return this},g.prototype.swap64=function(){var a=this.length;if(a%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)t(this,b,b+7),t(this,b+1,b+6),t(this,b+2,b+5),t(this,b+3,b+4);return this},g.prototype.toString=function(){var a=0|this.length;return 0===a?"":0===arguments.length?D(this,0,a):s.apply(this,arguments)},g.prototype.equals=function(a){if(!g.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||0===g.compare(this,a)},g.prototype.inspect=function(){var a="",b=c.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... ")),"<Buffer "+a+">"},g.prototype.compare=function(a,b,c,d,e){if(!g.isBuffer(a))throw new TypeError("Argument must be a Buffer");if(void 0===b&&(b=0),void 0===c&&(c=a?a.length:0),void 0===d&&(d=0),void 0===e&&(e=this.length),b<0||c>a.length||d<0||e>this.length)throw new RangeError("out of range index");if(d>=e&&b>=c)return 0;if(d>=e)return-1;if(b>=c)return 1;if(b>>>=0,c>>>=0,d>>>=0,e>>>=0,this===a)return 0;for(var f=e-d,h=c-b,i=Math.min(f,h),j=this.slice(d,e),k=a.slice(b,c),l=0;l<i;++l)if(j[l]!==k[l]){f=j[l],h=k[l];break}return f<h?-1:h<f?1:0},g.prototype.includes=function(a,b,c){return-1!==this.indexOf(a,b,c)},g.prototype.indexOf=function(a,b,c){return u(this,a,b,c,!0)},g.prototype.lastIndexOf=function(a,b,c){return u(this,a,b,c,!1)},g.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else{if(!isFinite(b))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");b|=0,isFinite(c)?(c|=0,void 0===d&&(d="utf8")):(d=c,c=void 0)}var e=this.length-b;if((void 0===c||c>e)&&(c=e),a.length>0&&(c<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");d||(d="utf8");for(var f=!1;;)switch(d){case"hex":return w(this,a,b,c);case"utf8":case"utf-8":return x(this,a,b,c);case"ascii":return y(this,a,b,c);case"latin1":case"binary":return z(this,a,b,c);case"base64":return A(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,a,b,c);default:if(f)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),f=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var aa=4096;g.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,a<0?(a+=c)<0&&(a=0):a>c&&(a=c),b<0?(b+=c)<0&&(b=0):b>c&&(b=c),b<a&&(b=a);var d;if(g.TYPED_ARRAY_SUPPORT)d=this.subarray(a,b),d.__proto__=g.prototype;else{var e=b-a;d=new g(e,void 0);for(var f=0;f<e;++f)d[f]=this[f+a]}return d},g.prototype.readUIntLE=function(a,b,c){a|=0,b|=0,c||J(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},g.prototype.readUIntBE=function(a,b,c){a|=0,b|=0,c||J(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},g.prototype.readUInt8=function(a,b){return b||J(a,1,this.length),this[a]},g.prototype.readUInt16LE=function(a,b){return b||J(a,2,this.length),this[a]|this[a+1]<<8},g.prototype.readUInt16BE=function(a,b){return b||J(a,2,this.length),this[a]<<8|this[a+1]},g.prototype.readUInt32LE=function(a,b){return b||J(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},g.prototype.readUInt32BE=function(a,b){return b||J(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},g.prototype.readIntLE=function(a,b,c){a|=0,b|=0,c||J(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},g.prototype.readIntBE=function(a,b,c){a|=0,b|=0,c||J(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},g.prototype.readInt8=function(a,b){return b||J(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},g.prototype.readInt16LE=function(a,b){b||J(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},g.prototype.readInt16BE=function(a,b){b||J(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},g.prototype.readInt32LE=function(a,b){return b||J(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},g.prototype.readInt32BE=function(a,b){return b||J(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},g.prototype.readFloatLE=function(a,b){return b||J(a,4,this.length),$.read(this,a,!0,23,4)},g.prototype.readFloatBE=function(a,b){return b||J(a,4,this.length),$.read(this,a,!1,23,4)},g.prototype.readDoubleLE=function(a,b){return b||J(a,8,this.length),$.read(this,a,!0,52,8)},g.prototype.readDoubleBE=function(a,b){return b||J(a,8,this.length),$.read(this,a,!1,52,8)},g.prototype.writeUIntLE=function(a,b,c,d){if(a=+a,b|=0,c|=0,!d){K(this,a,b,c,Math.pow(2,8*c)-1,0)}var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},g.prototype.writeUIntBE=function(a,b,c,d){if(a=+a,b|=0,c|=0,!d){K(this,a,b,c,Math.pow(2,8*c)-1,0)}var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},g.prototype.writeUInt8=function(a,b,c){return a=+a,b|=0,c||K(this,a,b,1,255,0),g.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1},g.prototype.writeUInt16LE=function(a,b,c){return a=+a,b|=0,c||K(this,a,b,2,65535,0),g.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):L(this,a,b,!0),b+2},g.prototype.writeUInt16BE=function(a,b,c){return a=+a,b|=0,c||K(this,a,b,2,65535,0),g.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):L(this,a,b,!1),b+2},g.prototype.writeUInt32LE=function(a,b,c){return a=+a,b|=0,c||K(this,a,b,4,4294967295,0),g.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):M(this,a,b,!0),b+4},g.prototype.writeUInt32BE=function(a,b,c){return a=+a,b|=0,c||K(this,a,b,4,4294967295,0),g.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):M(this,a,b,!1),b+4},g.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b|=0,!d){var e=Math.pow(2,8*c-1);K(this,a,b,c,e-1,-e)}var f=0,g=1,h=0;for(this[b]=255&a;++f<c&&(g*=256);)a<0&&0===h&&0!==this[b+f-1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},g.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b|=0,!d){var e=Math.pow(2,8*c-1);K(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=0;for(this[b+f]=255&a;--f>=0&&(g*=256);)a<0&&0===h&&0!==this[b+f+1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},g.prototype.writeInt8=function(a,b,c){return a=+a,b|=0,c||K(this,a,b,1,127,-128),g.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),a<0&&(a=255+a+1),this[b]=255&a,b+1},g.prototype.writeInt16LE=function(a,b,c){return a=+a,b|=0,c||K(this,a,b,2,32767,-32768),g.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):L(this,a,b,!0),b+2},g.prototype.writeInt16BE=function(a,b,c){return a=+a,b|=0,c||K(this,a,b,2,32767,-32768),g.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):L(this,a,b,!1),b+2},g.prototype.writeInt32LE=function(a,b,c){return a=+a,b|=0,c||K(this,a,b,4,2147483647,-2147483648),g.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):M(this,a,b,!0),b+4},g.prototype.writeInt32BE=function(a,b,c){return a=+a,b|=0,c||K(this,a,b,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),g.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):M(this,a,b,!1),b+4},g.prototype.writeFloatLE=function(a,b,c){return O(this,a,b,!0,c)},g.prototype.writeFloatBE=function(a,b,c){return O(this,a,b,!1,c)},g.prototype.writeDoubleLE=function(a,b,c){return P(this,a,b,!0,c)},g.prototype.writeDoubleBE=function(a,b,c){return P(this,a,b,!1,c)},g.prototype.copy=function(a,b,c,d){if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&d<c&&(d=c),d===c)return 0;if(0===a.length||0===this.length)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("sourceStart out of bounds");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var e,f=d-c;if(this===a&&c<b&&b<d)for(e=f-1;e>=0;--e)a[e+b]=this[e+c];else if(f<1e3||!g.TYPED_ARRAY_SUPPORT)for(e=0;e<f;++e)a[e+b]=this[e+c];else Uint8Array.prototype.set.call(a,this.subarray(c,c+f),b);return f},g.prototype.fill=function(a,b,c,d){if("string"==typeof a){if("string"==typeof b?(d=b,b=0,c=this.length):"string"==typeof c&&(d=c,c=this.length),1===a.length){var e=a.charCodeAt(0);e<256&&(a=e)}if(void 0!==d&&"string"!=typeof d)throw new TypeError("encoding must be a string");if("string"==typeof d&&!g.isEncoding(d))throw new TypeError("Unknown encoding: "+d)}else"number"==typeof a&&(a&=255);if(b<0||this.length<b||this.length<c)throw new RangeError("Out of range index");if(c<=b)return this;b>>>=0,c=void 0===c?this.length:c>>>0,a||(a=0);var f;if("number"==typeof a)for(f=b;f<c;++f)this[f]=a;else{var h=g.isBuffer(a)?a:T(new g(a,d).toString()),i=h.length;for(f=0;f<c-b;++f)this[f+b]=h[f%i]}return this};var ba=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":2,ieee754:10,isarray:13}],6:[function(a,b,c){b.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],7:[function(a,b,c){(function(a){function b(a){return Array.isArray?Array.isArray(a):"[object Array]"===q(a)}function d(a){return"boolean"==typeof a}function e(a){return null===a}function f(a){return null==a}function g(a){return"number"==typeof a}function h(a){return"string"==typeof a}function i(a){return"symbol"==typeof a}function j(a){return void 0===a}function k(a){return"[object RegExp]"===q(a)}function l(a){return"object"==typeof a&&null!==a}function m(a){return"[object Date]"===q(a)}function n(a){return"[object Error]"===q(a)||a instanceof Error}function o(a){return"function"==typeof a}function p(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||void 0===a}function q(a){return Object.prototype.toString.call(a)}c.isArray=b,c.isBoolean=d,c.isNull=e,c.isNullOrUndefined=f,c.isNumber=g,c.isString=h,c.isSymbol=i,c.isUndefined=j,c.isRegExp=k,c.isObject=l,c.isDate=m,c.isError=n,c.isFunction=o,c.isPrimitive=p,c.isBuffer=a.isBuffer}).call(this,{isBuffer:a("../../is-buffer/index.js")})},{"../../is-buffer/index.js":12}],8:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if((b=arguments[1])instanceof Error)throw b;var k=new Error('Uncaught, unspecified "error" event. ('+b+")");throw k.context=b,k}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:f=Array.prototype.slice.call(arguments,1),c.apply(this,f)}else if(g(c))for(f=Array.prototype.slice.call(arguments,1),j=c.slice(),d=j.length,i=0;i<d;i++)j[i].apply(this,f);return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned&&(c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners)&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace()),this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-- >0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(d<0)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else if(c)for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){return this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.prototype.listenerCount=function(a){if(this._events){var b=this._events[a];if(e(b))return 1;if(b)return b.length}return 0},d.listenerCount=function(a,b){return a.listenerCount(b)}},{}],9:[function(a,b,c){var d=a("http"),e=b.exports;for(var f in d)d.hasOwnProperty(f)&&(e[f]=d[f]);e.request=function(a,b){return a||(a={}),a.scheme="https",a.protocol="https:",d.request.call(this,a,b)}},{http:30}],10:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=b<0||0===b&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],11:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b
;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],12:[function(a,b,c){function d(a){return!!a.constructor&&"function"==typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)}function e(a){return"function"==typeof a.readFloatLE&&"function"==typeof a.slice&&d(a.slice(0,0))}b.exports=function(a){return null!=a&&(d(a)||e(a)||!!a._isBuffer)}},{}],13:[function(a,b,c){var d={}.toString;b.exports=Array.isArray||function(a){return"[object Array]"==d.call(a)}},{}],14:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.prependListener=k,n.prependOnceListener=k,n.listeners=function(a){return[]},n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],15:[function(a,b,c){"use strict";function d(a,b){return Object.prototype.hasOwnProperty.call(a,b)}b.exports=function(a,b,c,f){b=b||"&",c=c||"=";var g={};if("string"!=typeof a||0===a.length)return g;var h=/\+/g;a=a.split(b);var i=1e3;f&&"number"==typeof f.maxKeys&&(i=f.maxKeys);var j=a.length;i>0&&j>i&&(j=i);for(var k=0;k<j;++k){var l,m,n,o,p=a[k].replace(h,"%20"),q=p.indexOf(c);q>=0?(l=p.substr(0,q),m=p.substr(q+1)):(l=p,m=""),n=decodeURIComponent(l),o=decodeURIComponent(m),d(g,n)?e(g[n])?g[n].push(o):g[n]=[g[n],o]:g[n]=o}return g};var e=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{}],16:[function(a,b,c){"use strict";function d(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c}var e=function(a){switch(typeof a){case"string":return a;case"boolean":return a?"true":"false";case"number":return isFinite(a)?a:"";default:return""}};b.exports=function(a,b,c,h){return b=b||"&",c=c||"=",null===a&&(a=void 0),"object"==typeof a?d(g(a),function(g){var h=encodeURIComponent(e(g))+c;return f(a[g])?d(a[g],function(a){return h+encodeURIComponent(e(a))}).join(b):h+encodeURIComponent(e(a[g]))}).join(b):h?encodeURIComponent(e(h))+c+encodeURIComponent(e(a)):""};var f=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},g=Object.keys||function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}},{}],17:[function(a,b,c){"use strict";c.decode=c.parse=a("./decode"),c.encode=c.stringify=a("./encode")},{"./decode":15,"./encode":16}],18:[function(a,b,c){"use strict";function d(a){if(!(this instanceof d))return new d(a);j.call(this,a),k.call(this,a),a&&!1===a.readable&&(this.readable=!1),a&&!1===a.writable&&(this.writable=!1),this.allowHalfOpen=!0,a&&!1===a.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",e)}function e(){this.allowHalfOpen||this._writableState.ended||g.nextTick(f,this)}function f(a){a.end()}var g=a("process-nextick-args"),h=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b};b.exports=d;var i=a("core-util-is");i.inherits=a("inherits");var j=a("./_stream_readable"),k=a("./_stream_writable");i.inherits(d,j);for(var l=h(k.prototype),m=0;m<l.length;m++){var n=l[m];d.prototype[n]||(d.prototype[n]=k.prototype[n])}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(a){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=a,this._writableState.destroyed=a)}}),d.prototype._destroy=function(a,b){this.push(null),this.end(),g.nextTick(b,a)}},{"./_stream_readable":20,"./_stream_writable":22,"core-util-is":7,inherits:11,"process-nextick-args":26}],19:[function(a,b,c){"use strict";function d(a){if(!(this instanceof d))return new d(a);e.call(this,a)}b.exports=d;var e=a("./_stream_transform"),f=a("core-util-is");f.inherits=a("inherits"),f.inherits(d,e),d.prototype._transform=function(a,b,c){c(null,a)}},{"./_stream_transform":21,"core-util-is":7,inherits:11}],20:[function(a,b,c){(function(c,d){"use strict";function e(a){return L.from(a)}function f(a){return L.isBuffer(a)||a instanceof M}function g(a,b,c){if("function"==typeof a.prependListener)return a.prependListener(b,c);a._events&&a._events[b]?I(a._events[b])?a._events[b].unshift(c):a._events[b]=[c,a._events[b]]:a.on(b,c)}function h(b,c){H=H||a("./_stream_duplex"),b=b||{};var d=c instanceof H;this.objectMode=!!b.objectMode,d&&(this.objectMode=this.objectMode||!!b.readableObjectMode);var e=b.highWaterMark,f=b.readableHighWaterMark,g=this.objectMode?16:16384;this.highWaterMark=e||0===e?e:d&&(f||0===f)?f:g,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new R,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=b.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,b.encoding&&(Q||(Q=a("string_decoder/").StringDecoder),this.decoder=new Q(b.encoding),this.encoding=b.encoding)}function i(b){if(H=H||a("./_stream_duplex"),!(this instanceof i))return new i(b);this._readableState=new h(b,this),this.readable=!0,b&&("function"==typeof b.read&&(this._read=b.read),"function"==typeof b.destroy&&(this._destroy=b.destroy)),K.call(this)}function j(a,b,c,d,f){var g=a._readableState;if(null===b)g.reading=!1,p(a,g);else{var h;f||(h=l(g,b)),h?a.emit("error",h):g.objectMode||b&&b.length>0?("string"==typeof b||g.objectMode||Object.getPrototypeOf(b)===L.prototype||(b=e(b)),d?g.endEmitted?a.emit("error",new Error("stream.unshift() after end event")):k(a,g,b,!0):g.ended?a.emit("error",new Error("stream.push() after EOF")):(g.reading=!1,g.decoder&&!c?(b=g.decoder.write(b),g.objectMode||0!==b.length?k(a,g,b,!1):s(a,g)):k(a,g,b,!1))):d||(g.reading=!1)}return m(g)}function k(a,b,c,d){b.flowing&&0===b.length&&!b.sync?(a.emit("data",c),a.read(0)):(b.length+=b.objectMode?1:c.length,d?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&q(a)),s(a,b)}function l(a,b){var c;return f(b)||"string"==typeof b||void 0===b||a.objectMode||(c=new TypeError("Invalid non-string/buffer chunk")),c}function m(a){return!a.ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}function n(a){return a>=U?a=U:(a--,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a++),a}function o(a,b){return a<=0||0===b.length&&b.ended?0:b.objectMode?1:a!==a?b.flowing&&b.length?b.buffer.head.data.length:b.length:(a>b.highWaterMark&&(b.highWaterMark=n(a)),a<=b.length?a:b.ended?b.length:(b.needReadable=!0,0))}function p(a,b){if(!b.ended){if(b.decoder){var c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0,q(a)}}function q(a){var b=a._readableState;b.needReadable=!1,b.emittedReadable||(P("emitReadable",b.flowing),b.emittedReadable=!0,b.sync?G.nextTick(r,a):r(a))}function r(a){P("emit readable"),a.emit("readable"),y(a)}function s(a,b){b.readingMore||(b.readingMore=!0,G.nextTick(t,a,b))}function t(a,b){for(var c=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(P("maybeReadMore read 0"),a.read(0),c!==b.length);)c=b.length;b.readingMore=!1}function u(a){return function(){var b=a._readableState;P("pipeOnDrain",b.awaitDrain),b.awaitDrain&&b.awaitDrain--,0===b.awaitDrain&&J(a,"data")&&(b.flowing=!0,y(a))}}function v(a){P("readable nexttick read 0"),a.read(0)}function w(a,b){b.resumeScheduled||(b.resumeScheduled=!0,G.nextTick(x,a,b))}function x(a,b){b.reading||(P("resume read 0"),a.read(0)),b.resumeScheduled=!1,b.awaitDrain=0,a.emit("resume"),y(a),b.flowing&&!b.reading&&a.read(0)}function y(a){var b=a._readableState;for(P("flow",b.flowing);b.flowing&&null!==a.read(););}function z(a,b){if(0===b.length)return null;var c;return b.objectMode?c=b.buffer.shift():!a||a>=b.length?(c=b.decoder?b.buffer.join(""):1===b.buffer.length?b.buffer.head.data:b.buffer.concat(b.length),b.buffer.clear()):c=A(a,b.buffer,b.decoder),c}function A(a,b,c){var d;return a<b.head.data.length?(d=b.head.data.slice(0,a),b.head.data=b.head.data.slice(a)):d=a===b.head.data.length?b.shift():c?B(a,b):C(a,b),d}function B(a,b){var c=b.head,d=1,e=c.data;for(a-=e.length;c=c.next;){var f=c.data,g=a>f.length?f.length:a;if(g===f.length?e+=f:e+=f.slice(0,a),0===(a-=g)){g===f.length?(++d,c.next?b.head=c.next:b.head=b.tail=null):(b.head=c,c.data=f.slice(g));break}++d}return b.length-=d,e}function C(a,b){var c=L.allocUnsafe(a),d=b.head,e=1;for(d.data.copy(c),a-=d.data.length;d=d.next;){var f=d.data,g=a>f.length?f.length:a;if(f.copy(c,c.length-a,0,g),0===(a-=g)){g===f.length?(++e,d.next?b.head=d.next:b.head=b.tail=null):(b.head=d,d.data=f.slice(g));break}++e}return b.length-=e,c}function D(a){var b=a._readableState;if(b.length>0)throw new Error('"endReadable()" called on non-empty stream');b.endEmitted||(b.ended=!0,G.nextTick(E,b,a))}function E(a,b){a.endEmitted||0!==a.length||(a.endEmitted=!0,b.readable=!1,b.emit("end"))}function F(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}var G=a("process-nextick-args");b.exports=i;var H,I=a("isarray");i.ReadableState=h;var J=(a("events").EventEmitter,function(a,b){return a.listeners(b).length}),K=a("./internal/streams/stream"),L=a("safe-buffer").Buffer,M=d.Uint8Array||function(){},N=a("core-util-is");N.inherits=a("inherits");var O=a("util"),P=void 0;P=O&&O.debuglog?O.debuglog("stream"):function(){};var Q,R=a("./internal/streams/BufferList"),S=a("./internal/streams/destroy");N.inherits(i,K);var T=["error","close","destroy","pause","resume"];Object.defineProperty(i.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(a){this._readableState&&(this._readableState.destroyed=a)}}),i.prototype.destroy=S.destroy,i.prototype._undestroy=S.undestroy,i.prototype._destroy=function(a,b){this.push(null),b(a)},i.prototype.push=function(a,b){var c,d=this._readableState;return d.objectMode?c=!0:"string"==typeof a&&(b=b||d.defaultEncoding,b!==d.encoding&&(a=L.from(a,b),b=""),c=!0),j(this,a,b,!1,c)},i.prototype.unshift=function(a){return j(this,a,null,!0,!1)},i.prototype.isPaused=function(){return!1===this._readableState.flowing},i.prototype.setEncoding=function(b){return Q||(Q=a("string_decoder/").StringDecoder),this._readableState.decoder=new Q(b),this._readableState.encoding=b,this};var U=8388608;i.prototype.read=function(a){P("read",a),a=parseInt(a,10);var b=this._readableState,c=a;if(0!==a&&(b.emittedReadable=!1),0===a&&b.needReadable&&(b.length>=b.highWaterMark||b.ended))return P("read: emitReadable",b.length,b.ended),0===b.length&&b.ended?D(this):q(this),null;if(0===(a=o(a,b))&&b.ended)return 0===b.length&&D(this),null;var d=b.needReadable;P("need readable",d),(0===b.length||b.length-a<b.highWaterMark)&&(d=!0,P("length less than watermark",d)),b.ended||b.reading?(d=!1,P("reading or ended",d)):d&&(P("do read"),b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(a=o(c,b)));var e;return e=a>0?z(a,b):null,null===e?(b.needReadable=!0,a=0):b.length-=a,0===b.length&&(b.ended||(b.needReadable=!0),c!==a&&b.ended&&D(this)),null!==e&&this.emit("data",e),e},i.prototype._read=function(a){this.emit("error",new Error("_read() is not implemented"))},i.prototype.pipe=function(a,b){function d(a,b){P("onunpipe"),a===m&&b&&!1===b.hasUnpiped&&(b.hasUnpiped=!0,f())}function e(){P("onend"),a.end()}function f(){P("cleanup"),a.removeListener("close",j),a.removeListener("finish",k),a.removeListener("drain",q),a.removeListener("error",i),a.removeListener("unpipe",d),m.removeListener("end",e),m.removeListener("end",l),m.removeListener("data",h),r=!0,!n.awaitDrain||a._writableState&&!a._writableState.needDrain||q()}function h(b){P("ondata"),s=!1,!1!==a.write(b)||s||((1===n.pipesCount&&n.pipes===a||n.pipesCount>1&&-1!==F(n.pipes,a))&&!r&&(P("false write response, pause",m._readableState.awaitDrain),m._readableState.awaitDrain++,s=!0),m.pause())}function i(b){P("onerror",b),l(),a.removeListener("error",i),0===J(a,"error")&&a.emit("error",b)}function j(){a.removeListener("finish",k),l()}function k(){P("onfinish"),a.removeListener("close",j),l()}function l(){P("unpipe"),m.unpipe(a)}var m=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=a;break;case 1:n.pipes=[n.pipes,a];break;default:n.pipes.push(a)}n.pipesCount+=1,P("pipe count=%d opts=%j",n.pipesCount,b);var o=(!b||!1!==b.end)&&a!==c.stdout&&a!==c.stderr,p=o?e:l;n.endEmitted?G.nextTick(p):m.once("end",p),a.on("unpipe",d);var q=u(m);a.on("drain",q);var r=!1,s=!1;return m.on("data",h),g(a,"error",i),a.once("close",j),a.once("finish",k),a.emit("pipe",m),n.flowing||(P("pipe resume"),m.resume()),a},i.prototype.unpipe=function(a){var b=this._readableState,c={hasUnpiped:!1};if(0===b.pipesCount)return this;if(1===b.pipesCount)return a&&a!==b.pipes?this:(a||(a=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,a&&a.emit("unpipe",this,c),this);if(!a){var d=b.pipes,e=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var f=0;f<e;f++)d[f].emit("unpipe",this,c);return this}var g=F(b.pipes,a);return-1===g?this:(b.pipes.splice(g,1),b.pipesCount-=1,1===b.pipesCount&&(b.pipes=b.pipes[0]),a.emit("unpipe",this,c),this)},i.prototype.on=function(a,b){var c=K.prototype.on.call(this,a,b);if("data"===a)!1!==this._readableState.flowing&&this.resume();else if("readable"===a){var d=this._readableState;d.endEmitted||d.readableListening||(d.readableListening=d.needReadable=!0,d.emittedReadable=!1,d.reading?d.length&&q(this):G.nextTick(v,this))}return c},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var a=this._readableState;return a.flowing||(P("resume"),a.flowing=!0,w(this,a)),this},i.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(a){var b=this,c=this._readableState,d=!1;a.on("end",function(){if(P("wrapped end"),c.decoder&&!c.ended){var a=c.decoder.end();a&&a.length&&b.push(a)}b.push(null)}),a.on("data",function(e){if(P("wrapped data"),c.decoder&&(e=c.decoder.write(e)),(!c.objectMode||null!==e&&void 0!==e)&&(c.objectMode||e&&e.length)){b.push(e)||(d=!0,a.pause())}});for(var e in a)void 0===this[e]&&"function"==typeof a[e]&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));for(var f=0;f<T.length;f++)a.on(T[f],this.emit.bind(this,T[f]));return this._read=function(b){P("wrapped _read",b),d&&(d=!1,a.resume())},this},Object.defineProperty(i.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),i._fromList=z}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":18,"./internal/streams/BufferList":23,"./internal/streams/destroy":24,"./internal/streams/stream":25,_process:14,"core-util-is":7,events:8,inherits:11,isarray:13,"process-nextick-args":26,"safe-buffer":29,"string_decoder/":27,util:3}],21:[function(a,b,c){"use strict";function d(a,b){var c=this._transformState;c.transforming=!1;var d=c.writecb;if(!d)return this.emit("error",new Error("write callback called multiple times"));c.writechunk=null,c.writecb=null,null!=b&&this.push(b),d(a);var e=this._readableState;e.reading=!1,(e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}function e(a){if(!(this instanceof e))return new e(a);h.call(this,a),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&("function"==typeof a.transform&&(this._transform=a.transform),"function"==typeof a.flush&&(this._flush=a.flush)),this.on("prefinish",f)}function f(){var a=this;"function"==typeof this._flush?this._flush(function(b,c){g(a,b,c)}):g(this,null,null)}function g(a,b,c){if(b)return a.emit("error",b);if(null!=c&&a.push(c),a._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(a._transformState.transforming)throw new Error("Calling transform done when still transforming");return a.push(null)}b.exports=e;var h=a("./_stream_duplex"),i=a("core-util-is");i.inherits=a("inherits"),i.inherits(e,h),e.prototype.push=function(a,b){return this._transformState.needTransform=!1,h.prototype.push.call(this,a,b)},e.prototype._transform=function(a,b,c){throw new Error("_transform() is not implemented")},e.prototype._write=function(a,b,c){var d=this._transformState;if(d.writecb=c,d.writechunk=a,d.writeencoding=b,!d.transforming){var e=this._readableState;(d.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}},e.prototype._read=function(a){var b=this._transformState;null!==b.writechunk&&b.writecb&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0},e.prototype._destroy=function(a,b){var c=this;h.prototype._destroy.call(this,a,function(a){b(a),c.emit("close")})}},{"./_stream_duplex":18,"core-util-is":7,inherits:11}],22:[function(a,b,c){(function(c,d,e){"use strict";function f(a){var b=this;this.next=null,this.entry=null,this.finish=function(){B(b,a)}}function g(a){return I.from(a)}function h(a){return I.isBuffer(a)||a instanceof J}function i(){}function j(b,c){D=D||a("./_stream_duplex"),b=b||{};var d=c instanceof D;this.objectMode=!!b.objectMode,d&&(this.objectMode=this.objectMode||!!b.writableObjectMode);var e=b.highWaterMark,g=b.writableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=e||0===e?e:d&&(g||0===g)?g:h,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=!1===b.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=b.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){s(c,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new f(this)}function k(b){if(D=D||a("./_stream_duplex"),!(L.call(k,this)||this instanceof D))return new k(b);this._writableState=new j(b,this),this.writable=!0,b&&("function"==typeof b.write&&(this._write=b.write),"function"==typeof b.writev&&(this._writev=b.writev),"function"==typeof b.destroy&&(this._destroy=b.destroy),"function"==typeof b.final&&(this._final=b.final)),H.call(this)}function l(a,b){var c=new Error("write after end");a.emit("error",c),C.nextTick(b,c)}function m(a,b,c,d){var e=!0,f=!1;return null===c?f=new TypeError("May not write null values to stream"):"string"==typeof c||void 0===c||b.objectMode||(f=new TypeError("Invalid non-string/buffer chunk")),f&&(a.emit("error",f),C.nextTick(d,f),e=!1),e}function n(a,b,c){return a.objectMode||!1===a.decodeStrings||"string"!=typeof b||(b=I.from(b,c)),b}function o(a,b,c,d,e,f){if(!c){var g=n(b,d,e);d!==g&&(c=!0,e="buffer",d=g)}var h=b.objectMode?1:d.length;b.length+=h;var i=b.length<b.highWaterMark;if(i||(b.needDrain=!0),b.writing||b.corked){var j=b.lastBufferedRequest;b.lastBufferedRequest={chunk:d,encoding:e,isBuf:c,callback:f,next:null},j?j.next=b.lastBufferedRequest:b.bufferedRequest=b.lastBufferedRequest,b.bufferedRequestCount+=1}else p(a,b,!1,h,d,e,f);return i}function p(a,b,c,d,e,f,g){b.writelen=d,b.writecb=g,b.writing=!0,b.sync=!0,c?a._writev(e,b.onwrite):a._write(e,f,b.onwrite),b.sync=!1}function q(a,b,c,d,e){--b.pendingcb,c?(C.nextTick(e,d),C.nextTick(z,a,b),a._writableState.errorEmitted=!0,a.emit("error",d)):(e(d),a._writableState.errorEmitted=!0,a.emit("error",d),z(a,b))}function r(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}function s(a,b){var c=a._writableState,d=c.sync,e=c.writecb;if(r(c),b)q(a,c,d,b,e);else{var f=w(c);f||c.corked||c.bufferProcessing||!c.bufferedRequest||v(a,c),d?E(t,a,c,f,e):t(a,c,f,e)}}function t(a,b,c,d){c||u(a,b),b.pendingcb--,d(),z(a,b)}function u(a,b){0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"))}function v(a,b){b.bufferProcessing=!0;var c=b.bufferedRequest;if(a._writev&&c&&c.next){var d=b.bufferedRequestCount,e=new Array(d),g=b.corkedRequestsFree;g.entry=c;for(var h=0,i=!0;c;)e[h]=c,c.isBuf||(i=!1),c=c.next,h+=1;e.allBuffers=i,p(a,b,!0,b.length,e,"",g.finish),b.pendingcb++,b.lastBufferedRequest=null,g.next?(b.corkedRequestsFree=g.next,g.next=null):b.corkedRequestsFree=new f(b),b.bufferedRequestCount=0}else{for(;c;){var j=c.chunk,k=c.encoding,l=c.callback;if(p(a,b,!1,b.objectMode?1:j.length,j,k,l),c=c.next,b.bufferedRequestCount--,b.writing)break}null===c&&(b.lastBufferedRequest=null)}b.bufferedRequest=c,b.bufferProcessing=!1}function w(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function x(a,b){a._final(function(c){b.pendingcb--,c&&a.emit("error",c),b.prefinished=!0,a.emit("prefinish"),z(a,b)})}function y(a,b){b.prefinished||b.finalCalled||("function"==typeof a._final?(b.pendingcb++,b.finalCalled=!0,C.nextTick(x,a,b)):(b.prefinished=!0,a.emit("prefinish")))}function z(a,b){var c=w(b);return c&&(y(a,b),0===b.pendingcb&&(b.finished=!0,a.emit("finish"))),c}function A(a,b,c){b.ending=!0,z(a,b),c&&(b.finished?C.nextTick(c):a.once("finish",c)),b.ended=!0,a.writable=!1}function B(a,b,c){var d=a.entry;for(a.entry=null;d;){var e=d.callback;b.pendingcb--,e(c),d=d.next}b.corkedRequestsFree?b.corkedRequestsFree.next=a:b.corkedRequestsFree=a}var C=a("process-nextick-args");b.exports=k;var D,E=!c.browser&&["v0.10","v0.9."].indexOf(c.version.slice(0,5))>-1?e:C.nextTick;k.WritableState=j;var F=a("core-util-is");F.inherits=a("inherits");var G={deprecate:a("util-deprecate")},H=a("./internal/streams/stream"),I=a("safe-buffer").Buffer,J=d.Uint8Array||function(){},K=a("./internal/streams/destroy");F.inherits(k,H),j.prototype.getBuffer=function(){for(var a=this.bufferedRequest,b=[];a;)b.push(a),a=a.next;return b},function(){try{Object.defineProperty(j.prototype,"buffer",{get:G.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(a){}}();var L;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(L=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(a){return!!L.call(this,a)||this===k&&(a&&a._writableState instanceof j)}})):L=function(a){return a instanceof this},k.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},k.prototype.write=function(a,b,c){var d=this._writableState,e=!1,f=!d.objectMode&&h(a);return f&&!I.isBuffer(a)&&(a=g(a)),"function"==typeof b&&(c=b,b=null),f?b="buffer":b||(b=d.defaultEncoding),"function"!=typeof c&&(c=i),d.ended?l(this,c):(f||m(this,d,a,c))&&(d.pendingcb++,e=o(this,d,f,a,b,c)),e},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,a.writing||a.corked||a.finished||a.bufferProcessing||!a.bufferedRequest||v(this,a))},k.prototype.setDefaultEncoding=function(a){if("string"==typeof a&&(a=a.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((a+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+a);return this._writableState.defaultEncoding=a,this},Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(a,b,c){c(new Error("_write() is not implemented"))},k.prototype._writev=null,k.prototype.end=function(a,b,c){var d=this._writableState;"function"==typeof a?(c=a,a=null,b=null):"function"==typeof b&&(c=b,b=null),null!==a&&void 0!==a&&this.write(a,b),d.corked&&(d.corked=1,this.uncork()),d.ending||d.finished||A(this,d,c)},Object.defineProperty(k.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(a){this._writableState&&(this._writableState.destroyed=a)}}),k.prototype.destroy=K.destroy,k.prototype._undestroy=K.undestroy,k.prototype._destroy=function(a,b){this.end(),b(a)}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},a("timers").setImmediate)},{"./_stream_duplex":18,"./internal/streams/destroy":24,"./internal/streams/stream":25,_process:14,"core-util-is":7,inherits:11,"process-nextick-args":26,"safe-buffer":29,timers:34,"util-deprecate":38}],23:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b,c){a.copy(b,c)}var f=a("safe-buffer").Buffer,g=a("util");b.exports=function(){function a(){d(this,a),this.head=null,this.tail=null,this.length=0}return a.prototype.push=function(a){var b={data:a,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length},a.prototype.unshift=function(a){var b={data:a,next:this.head};0===this.length&&(this.tail=b),this.head=b,++this.length},a.prototype.shift=function(){if(0!==this.length){var a=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},a.prototype.clear=function(){this.head=this.tail=null,this.length=0},a.prototype.join=function(a){if(0===this.length)return"";for(var b=this.head,c=""+b.data;b=b.next;)c+=a+b.data;return c},a.prototype.concat=function(a){if(0===this.length)return f.alloc(0);if(1===this.length)return this.head.data;for(var b=f.allocUnsafe(a>>>0),c=this.head,d=0;c;)e(c.data,b,d),d+=c.data.length,c=c.next;return b},a}(),g&&g.inspect&&g.inspect.custom&&(b.exports.prototype[g.inspect.custom]=function(){var a=g.inspect({length:this.length});return this.constructor.name+" "+a})},{"safe-buffer":29,util:3}],24:[function(a,b,c){"use strict";function d(a,b){var c=this,d=this._readableState&&this._readableState.destroyed,e=this._writableState&&this._writableState.destroyed;return d||e?(b?b(a):!a||this._writableState&&this._writableState.errorEmitted||g.nextTick(f,this,a),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(a){!b&&a?(g.nextTick(f,c,a),c._writableState&&(c._writableState.errorEmitted=!0)):b&&b(a)}),this)}function e(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function f(a,b){a.emit("error",b)}var g=a("process-nextick-args");b.exports={destroy:d,undestroy:e}},{"process-nextick-args":26}],25:[function(a,b,c){b.exports=a("events").EventEmitter},{events:8}],26:[function(a,b,c){(function(a){"use strict";function c(b,c,d,e){if("function"!=typeof b)throw new TypeError('"callback" argument must be a function');var f,g,h=arguments.length;switch(h){case 0:case 1:return a.nextTick(b);case 2:return a.nextTick(function(){b.call(null,c)});case 3:return a.nextTick(function(){b.call(null,c,d)});case 4:return a.nextTick(function(){b.call(null,c,d,e)});default:for(f=new Array(h-1),g=0;g<f.length;)f[g++]=arguments[g];return a.nextTick(function(){b.apply(null,f)})}}!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?b.exports={nextTick:c}:b.exports=a}).call(this,a("_process"))},{_process:14}],27:[function(a,b,c){"use strict";function d(a){if(!a)return"utf8";for(var b;;)switch(a){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return a;default:if(b)return;a=(""+a).toLowerCase(),b=!0}}function e(a){var b=d(a);if("string"!=typeof b&&(s.isEncoding===t||!t(a)))throw new Error("Unknown encoding: "+a);return b||a}function f(a){this.encoding=e(a);var b;switch(this.encoding){case"utf16le":this.text=m,this.end=n,b=4;break;case"utf8":this.fillLast=j,b=4;break;case"base64":this.text=o,this.end=p,b=3;break;default:return this.write=q,void(this.end=r)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(b)}function g(a){return a<=127?0:a>>5==6?2:a>>4==14?3:a>>3==30?4:a>>6==2?-1:-2}function h(a,b,c){var d=b.length-1;if(d<c)return 0;var e=g(b[d]);return e>=0?(e>0&&(a.lastNeed=e-1),e):--d<c||-2===e?0:(e=g(b[d]))>=0?(e>0&&(a.lastNeed=e-2),e):--d<c||-2===e?0:(e=g(b[d]),e>=0?(e>0&&(2===e?e=0:a.lastNeed=e-3),e):0)}function i(a,b,c){if(128!=(192&b[0]))return a.lastNeed=0,"�";if(a.lastNeed>1&&b.length>1){if(128!=(192&b[1]))return a.lastNeed=1,"�";if(a.lastNeed>2&&b.length>2&&128!=(192&b[2]))return a.lastNeed=2,"�"}}function j(a){var b=this.lastTotal-this.lastNeed,c=i(this,a,b);return void 0!==c?c:this.lastNeed<=a.length?(a.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(a.copy(this.lastChar,b,0,a.length),void(this.lastNeed-=a.length))}function k(a,b){var c=h(this,a,b);if(!this.lastNeed)return a.toString("utf8",b);this.lastTotal=c;var d=a.length-(c-this.lastNeed);return a.copy(this.lastChar,0,d),a.toString("utf8",b,d)}function l(a){var b=a&&a.length?this.write(a):"";return this.lastNeed?b+"�":b}function m(a,b){if((a.length-b)%2==0){var c=a.toString("utf16le",b);if(c){var d=c.charCodeAt(c.length-1);if(d>=55296&&d<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1],c.slice(0,-1)}return c}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=a[a.length-1],a.toString("utf16le",b,a.length-1)}function n(a){var b=a&&a.length?this.write(a):"";if(this.lastNeed){var c=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,c)}return b}function o(a,b){var c=(a.length-b)%3;return 0===c?a.toString("base64",b):(this.lastNeed=3-c,this.lastTotal=3,1===c?this.lastChar[0]=a[a.length-1]:(this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1]),a.toString("base64",b,a.length-c))}function p(a){var b=a&&a.length?this.write(a):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function q(a){return a.toString(this.encoding)}
function r(a){return a&&a.length?this.write(a):""}var s=a("safe-buffer").Buffer,t=s.isEncoding||function(a){switch((a=""+a)&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};c.StringDecoder=f,f.prototype.write=function(a){if(0===a.length)return"";var b,c;if(this.lastNeed){if(void 0===(b=this.fillLast(a)))return"";c=this.lastNeed,this.lastNeed=0}else c=0;return c<a.length?b?b+this.text(a,c):this.text(a,c):b||""},f.prototype.end=l,f.prototype.text=k,f.prototype.fillLast=function(a){if(this.lastNeed<=a.length)return a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,a.length),this.lastNeed-=a.length}},{"safe-buffer":29}],28:[function(a,b,c){c=b.exports=a("./lib/_stream_readable.js"),c.Stream=c,c.Readable=c,c.Writable=a("./lib/_stream_writable.js"),c.Duplex=a("./lib/_stream_duplex.js"),c.Transform=a("./lib/_stream_transform.js"),c.PassThrough=a("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":18,"./lib/_stream_passthrough.js":19,"./lib/_stream_readable.js":20,"./lib/_stream_transform.js":21,"./lib/_stream_writable.js":22}],29:[function(a,b,c){function d(a,b){for(var c in a)b[c]=a[c]}function e(a,b,c){return g(a,b,c)}var f=a("buffer"),g=f.Buffer;g.from&&g.alloc&&g.allocUnsafe&&g.allocUnsafeSlow?b.exports=f:(d(f,c),c.Buffer=e),d(g,e),e.from=function(a,b,c){if("number"==typeof a)throw new TypeError("Argument must not be a number");return g(a,b,c)},e.alloc=function(a,b,c){if("number"!=typeof a)throw new TypeError("Argument must be a number");var d=g(a);return void 0!==b?"string"==typeof c?d.fill(b,c):d.fill(b):d.fill(0),d},e.allocUnsafe=function(a){if("number"!=typeof a)throw new TypeError("Argument must be a number");return g(a)},e.allocUnsafeSlow=function(a){if("number"!=typeof a)throw new TypeError("Argument must be a number");return f.SlowBuffer(a)}},{buffer:5}],30:[function(a,b,c){(function(b){var d=a("./lib/request"),e=a("./lib/response"),f=a("xtend"),g=a("builtin-status-codes"),h=a("url"),i=c;i.request=function(a,c){a="string"==typeof a?h.parse(a):f(a);var e=-1===b.location.protocol.search(/^https?:$/)?"http:":"",g=a.protocol||e,i=a.hostname||a.host,j=a.port,k=a.path||"/";i&&-1!==i.indexOf(":")&&(i="["+i+"]"),a.url=(i?g+"//"+i:"")+(j?":"+j:"")+k,a.method=(a.method||"GET").toUpperCase(),a.headers=a.headers||{};var l=new d(a);return c&&l.on("response",c),l},i.get=function(a,b){var c=i.request(a,b);return c.end(),c},i.ClientRequest=d,i.IncomingMessage=e.IncomingMessage,i.Agent=function(){},i.Agent.defaultMaxSockets=4,i.globalAgent=new i.Agent,i.STATUS_CODES=g,i.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/request":32,"./lib/response":33,"builtin-status-codes":6,url:36,xtend:39}],31:[function(a,b,c){(function(a){function b(){if(void 0!==f)return f;if(a.XMLHttpRequest){f=new a.XMLHttpRequest;try{f.open("GET",a.XDomainRequest?"/":"https://example.com")}catch(b){f=null}}else f=null;return f}function d(a){var c=b();if(!c)return!1;try{return c.responseType=a,c.responseType===a}catch(d){}return!1}function e(a){return"function"==typeof a}c.fetch=e(a.fetch)&&e(a.ReadableStream),c.writableStream=e(a.WritableStream),c.abortController=e(a.AbortController),c.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),c.blobConstructor=!0}catch(i){}var f,g=void 0!==a.ArrayBuffer,h=g&&e(a.ArrayBuffer.prototype.slice);c.arraybuffer=c.fetch||g&&d("arraybuffer"),c.msstream=!c.fetch&&h&&d("ms-stream"),c.mozchunkedarraybuffer=!c.fetch&&g&&d("moz-chunked-arraybuffer"),c.overrideMimeType=c.fetch||!!b()&&e(b().overrideMimeType),c.vbArray=e(a.VBArray),f=null}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],32:[function(a,b,c){(function(c,d,e){function f(a,b){return h.fetch&&b?"fetch":h.mozchunkedarraybuffer?"moz-chunked-arraybuffer":h.msstream?"ms-stream":h.arraybuffer&&a?"arraybuffer":h.vbArray&&a?"text:vbarray":"text"}function g(a){try{var b=a.status;return null!==b&&0!==b}catch(c){return!1}}var h=a("./capability"),i=a("inherits"),j=a("./response"),k=a("readable-stream"),l=a("to-arraybuffer"),m=j.IncomingMessage,n=j.readyStates,o=b.exports=function(a){var b=this;k.Writable.call(b),b._opts=a,b._body=[],b._headers={},a.auth&&b.setHeader("Authorization","Basic "+new e(a.auth).toString("base64")),Object.keys(a.headers).forEach(function(c){b.setHeader(c,a.headers[c])});var c,d=!0;if("disable-fetch"===a.mode||"requestTimeout"in a&&!h.abortController)d=!1,c=!0;else if("prefer-streaming"===a.mode)c=!1;else if("allow-wrong-content-type"===a.mode)c=!h.overrideMimeType;else{if(a.mode&&"default"!==a.mode&&"prefer-fast"!==a.mode)throw new Error("Invalid value for opts.mode");c=!0}b._mode=f(c,d),b._fetchTimer=null,b.on("finish",function(){b._onFinish()})};i(o,k.Writable),o.prototype.setHeader=function(a,b){var c=this,d=a.toLowerCase();-1===p.indexOf(d)&&(c._headers[d]={name:a,value:b})},o.prototype.getHeader=function(a){var b=this._headers[a.toLowerCase()];return b?b.value:null},o.prototype.removeHeader=function(a){delete this._headers[a.toLowerCase()]},o.prototype._onFinish=function(){var a=this;if(!a._destroyed){var b=a._opts,f=a._headers,g=null;"GET"!==b.method&&"HEAD"!==b.method&&(g=h.arraybuffer?l(e.concat(a._body)):h.blobConstructor?new d.Blob(a._body.map(function(a){return l(a)}),{type:(f["content-type"]||{}).value||""}):e.concat(a._body).toString());var i=[];if(Object.keys(f).forEach(function(a){var b=f[a].name,c=f[a].value;Array.isArray(c)?c.forEach(function(a){i.push([b,a])}):i.push([b,c])}),"fetch"===a._mode){var j=null;if(h.abortController){var k=new AbortController;j=k.signal,a._fetchAbortController=k,"requestTimeout"in b&&0!==b.requestTimeout&&(a._fetchTimer=d.setTimeout(function(){a.emit("requestTimeout"),a._fetchAbortController&&a._fetchAbortController.abort()},b.requestTimeout))}d.fetch(a._opts.url,{method:a._opts.method,headers:i,body:g||void 0,mode:"cors",credentials:b.withCredentials?"include":"same-origin",signal:j}).then(function(b){a._fetchResponse=b,a._connect()},function(b){d.clearTimeout(a._fetchTimer),a._destroyed||a.emit("error",b)})}else{var m=a._xhr=new d.XMLHttpRequest;try{m.open(a._opts.method,a._opts.url,!0)}catch(o){return void c.nextTick(function(){a.emit("error",o)})}"responseType"in m&&(m.responseType=a._mode.split(":")[0]),"withCredentials"in m&&(m.withCredentials=!!b.withCredentials),"text"===a._mode&&"overrideMimeType"in m&&m.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in b&&(m.timeout=b.requestTimeout,m.ontimeout=function(){a.emit("requestTimeout")}),i.forEach(function(a){m.setRequestHeader(a[0],a[1])}),a._response=null,m.onreadystatechange=function(){switch(m.readyState){case n.LOADING:case n.DONE:a._onXHRProgress()}},"moz-chunked-arraybuffer"===a._mode&&(m.onprogress=function(){a._onXHRProgress()}),m.onerror=function(){a._destroyed||a.emit("error",new Error("XHR error"))};try{m.send(g)}catch(o){return void c.nextTick(function(){a.emit("error",o)})}}}},o.prototype._onXHRProgress=function(){var a=this;g(a._xhr)&&!a._destroyed&&(a._response||a._connect(),a._response._onXHRProgress())},o.prototype._connect=function(){var a=this;a._destroyed||(a._response=new m(a._xhr,a._fetchResponse,a._mode,a._fetchTimer),a._response.on("error",function(b){a.emit("error",b)}),a.emit("response",a._response))},o.prototype._write=function(a,b,c){this._body.push(a),c()},o.prototype.abort=o.prototype.destroy=function(){var a=this;a._destroyed=!0,d.clearTimeout(a._fetchTimer),a._response&&(a._response._destroyed=!0),a._xhr?a._xhr.abort():a._fetchAbortController&&a._fetchAbortController.abort()},o.prototype.end=function(a,b,c){var d=this;"function"==typeof a&&(c=a,a=void 0),k.Writable.prototype.end.call(d,a,b,c)},o.prototype.flushHeaders=function(){},o.prototype.setTimeout=function(){},o.prototype.setNoDelay=function(){},o.prototype.setSocketKeepAlive=function(){};var p=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},a("buffer").Buffer)},{"./capability":31,"./response":33,_process:14,buffer:5,inherits:11,"readable-stream":28,"to-arraybuffer":35}],33:[function(a,b,c){(function(b,d,e){var f=a("./capability"),g=a("inherits"),h=a("readable-stream"),i=c.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},j=c.IncomingMessage=function(a,c,g,i){function j(){m.read().then(function(a){if(!k._destroyed){if(a.done)return d.clearTimeout(i),void k.push(null);k.push(new e(a.value)),j()}}).catch(function(a){d.clearTimeout(i),k._destroyed||k.emit("error",a)})}var k=this;if(h.Readable.call(k),k._mode=g,k.headers={},k.rawHeaders=[],k.trailers={},k.rawTrailers=[],k.on("end",function(){b.nextTick(function(){k.emit("close")})}),"fetch"===g){if(k._fetchResponse=c,k.url=c.url,k.statusCode=c.status,k.statusMessage=c.statusText,c.headers.forEach(function(a,b){k.headers[b.toLowerCase()]=a,k.rawHeaders.push(b,a)}),f.writableStream){var l=new WritableStream({write:function(a){return new Promise(function(b,c){k._destroyed?c():k.push(new e(a))?b():k._resumeFetch=b})},close:function(){d.clearTimeout(i),k._destroyed||k.push(null)},abort:function(a){k._destroyed||k.emit("error",a)}});try{return void c.body.pipeTo(l).catch(function(a){d.clearTimeout(i),k._destroyed||k.emit("error",a)})}catch(p){}}var m=c.body.getReader();j()}else{k._xhr=a,k._pos=0,k.url=a.responseURL,k.statusCode=a.status,k.statusMessage=a.statusText;if(a.getAllResponseHeaders().split(/\r?\n/).forEach(function(a){var b=a.match(/^([^:]+):\s*(.*)/);if(b){var c=b[1].toLowerCase();"set-cookie"===c?(void 0===k.headers[c]&&(k.headers[c]=[]),k.headers[c].push(b[2])):void 0!==k.headers[c]?k.headers[c]+=", "+b[2]:k.headers[c]=b[2],k.rawHeaders.push(b[1],b[2])}}),k._charset="x-user-defined",!f.overrideMimeType){var n=k.rawHeaders["mime-type"];if(n){var o=n.match(/;\s*charset=([^;])(;|$)/);o&&(k._charset=o[1].toLowerCase())}k._charset||(k._charset="utf-8")}}};g(j,h.Readable),j.prototype._read=function(){var a=this,b=a._resumeFetch;b&&(a._resumeFetch=null,b())},j.prototype._onXHRProgress=function(){var a=this,b=a._xhr,c=null;switch(a._mode){case"text:vbarray":if(b.readyState!==i.DONE)break;try{c=new d.VBArray(b.responseBody).toArray()}catch(k){}if(null!==c){a.push(new e(c));break}case"text":try{c=b.responseText}catch(k){a._mode="text:vbarray";break}if(c.length>a._pos){var f=c.substr(a._pos);if("x-user-defined"===a._charset){for(var g=new e(f.length),h=0;h<f.length;h++)g[h]=255&f.charCodeAt(h);a.push(g)}else a.push(f,a._charset);a._pos=c.length}break;case"arraybuffer":if(b.readyState!==i.DONE||!b.response)break;c=b.response,a.push(new e(new Uint8Array(c)));break;case"moz-chunked-arraybuffer":if(c=b.response,b.readyState!==i.LOADING||!c)break;a.push(new e(new Uint8Array(c)));break;case"ms-stream":if(c=b.response,b.readyState!==i.LOADING)break;var j=new d.MSStreamReader;j.onprogress=function(){j.result.byteLength>a._pos&&(a.push(new e(new Uint8Array(j.result.slice(a._pos)))),a._pos=j.result.byteLength)},j.onload=function(){a.push(null)},j.readAsArrayBuffer(c)}a._xhr.readyState===i.DONE&&"ms-stream"!==a._mode&&a.push(null)}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},a("buffer").Buffer)},{"./capability":31,_process:14,buffer:5,inherits:11,"readable-stream":28}],34:[function(a,b,c){(function(b,d){function e(a,b){this._id=a,this._clearFn=b}var f=a("process/browser.js").nextTick,g=Function.prototype.apply,h=Array.prototype.slice,i={},j=0;c.setTimeout=function(){return new e(g.call(setTimeout,window,arguments),clearTimeout)},c.setInterval=function(){return new e(g.call(setInterval,window,arguments),clearInterval)},c.clearTimeout=c.clearInterval=function(a){a.close()},e.prototype.unref=e.prototype.ref=function(){},e.prototype.close=function(){this._clearFn.call(window,this._id)},c.enroll=function(a,b){clearTimeout(a._idleTimeoutId),a._idleTimeout=b},c.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},c._unrefActive=c.active=function(a){clearTimeout(a._idleTimeoutId);var b=a._idleTimeout;b>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},b))},c.setImmediate="function"==typeof b?b:function(a){var b=j++,d=!(arguments.length<2)&&h.call(arguments,1);return i[b]=!0,f(function(){i[b]&&(d?a.apply(null,d):a.call(null),c.clearImmediate(b))}),b},c.clearImmediate="function"==typeof d?d:function(a){delete i[a]}}).call(this,a("timers").setImmediate,a("timers").clearImmediate)},{"process/browser.js":14,timers:34}],35:[function(a,b,c){var d=a("buffer").Buffer;b.exports=function(a){if(a instanceof Uint8Array){if(0===a.byteOffset&&a.byteLength===a.buffer.byteLength)return a.buffer;if("function"==typeof a.buffer.slice)return a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)}if(d.isBuffer(a)){for(var b=new Uint8Array(a.length),c=a.length,e=0;e<c;e++)b[e]=a[e];return b.buffer}throw new Error("Argument must be a Buffer")}},{buffer:5}],36:[function(a,b,c){"use strict";function d(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function e(a,b,c){if(a&&j.isObject(a)&&a instanceof d)return a;var e=new d;return e.parse(a,b,c),e}function f(a){return j.isString(a)&&(a=e(a)),a instanceof d?a.format():d.prototype.format.call(a)}function g(a,b){return e(a,!1,!0).resolve(b)}function h(a,b){return a?e(a,!1,!0).resolveObject(b):b}var i=a("punycode"),j=a("./util");c.parse=e,c.resolve=g,c.resolveObject=h,c.format=f,c.Url=d;var k=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,m=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,n=["<",">",'"',"`"," ","\r","\n","\t"],o=["{","}","|","\\","^","`"].concat(n),p=["'"].concat(o),q=["%","/","?",";","#"].concat(p),r=["/","?","#"],s=/^[+a-z0-9A-Z_-]{0,63}$/,t=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,u={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=a("querystring");d.prototype.parse=function(a,b,c){if(!j.isString(a))throw new TypeError("Parameter 'url' must be a string, not "+typeof a);var d=a.indexOf("?"),e=-1!==d&&d<a.indexOf("#")?"?":"#",f=a.split(e),g=/\\/g;f[0]=f[0].replace(g,"/"),a=f.join(e);var h=a;if(h=h.trim(),!c&&1===a.split("#").length){var l=m.exec(h);if(l)return this.path=h,this.href=h,this.pathname=l[1],l[2]?(this.search=l[2],this.query=b?x.parse(this.search.substr(1)):this.search.substr(1)):b&&(this.search="",this.query={}),this}var n=k.exec(h);if(n){n=n[0];var o=n.toLowerCase();this.protocol=o,h=h.substr(n.length)}if(c||n||h.match(/^\/\/[^@\/]+@[^@\/]+/)){var y="//"===h.substr(0,2);!y||n&&v[n]||(h=h.substr(2),this.slashes=!0)}if(!v[n]&&(y||n&&!w[n])){for(var z=-1,A=0;A<r.length;A++){var B=h.indexOf(r[A]);-1!==B&&(-1===z||B<z)&&(z=B)}var C,D;D=-1===z?h.lastIndexOf("@"):h.lastIndexOf("@",z),-1!==D&&(C=h.slice(0,D),h=h.slice(D+1),this.auth=decodeURIComponent(C)),z=-1;for(var A=0;A<q.length;A++){var B=h.indexOf(q[A]);-1!==B&&(-1===z||B<z)&&(z=B)}-1===z&&(z=h.length),this.host=h.slice(0,z),h=h.slice(z),this.parseHost(),this.hostname=this.hostname||"";var E="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!E)for(var F=this.hostname.split(/\./),A=0,G=F.length;A<G;A++){var H=F[A];if(H&&!H.match(s)){for(var I="",J=0,K=H.length;J<K;J++)H.charCodeAt(J)>127?I+="x":I+=H[J];if(!I.match(s)){var L=F.slice(0,A),M=F.slice(A+1),N=H.match(t);N&&(L.push(N[1]),M.unshift(N[2])),M.length&&(h="/"+M.join(".")+h),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=i.toASCII(this.hostname));var O=this.port?":"+this.port:"",P=this.hostname||"";this.host=P+O,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==h[0]&&(h="/"+h))}if(!u[o])for(var A=0,G=p.length;A<G;A++){var Q=p[A];if(-1!==h.indexOf(Q)){var R=encodeURIComponent(Q);R===Q&&(R=escape(Q)),h=h.split(Q).join(R)}}var S=h.indexOf("#");-1!==S&&(this.hash=h.substr(S),h=h.slice(0,S));var T=h.indexOf("?");if(-1!==T?(this.search=h.substr(T),this.query=h.substr(T+1),b&&(this.query=x.parse(this.query)),h=h.slice(0,T)):b&&(this.search="",this.query={}),h&&(this.pathname=h),w[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var O=this.pathname||"",U=this.search||"";this.path=O+U}return this.href=this.format(),this},d.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var b=this.protocol||"",c=this.pathname||"",d=this.hash||"",e=!1,f="";this.host?e=a+this.host:this.hostname&&(e=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(e+=":"+this.port)),this.query&&j.isObject(this.query)&&Object.keys(this.query).length&&(f=x.stringify(this.query));var g=this.search||f&&"?"+f||"";return b&&":"!==b.substr(-1)&&(b+=":"),this.slashes||(!b||w[b])&&!1!==e?(e="//"+(e||""),c&&"/"!==c.charAt(0)&&(c="/"+c)):e||(e=""),d&&"#"!==d.charAt(0)&&(d="#"+d),g&&"?"!==g.charAt(0)&&(g="?"+g),c=c.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),g=g.replace("#","%23"),b+e+c+g+d},d.prototype.resolve=function(a){return this.resolveObject(e(a,!1,!0)).format()},d.prototype.resolveObject=function(a){if(j.isString(a)){var b=new d;b.parse(a,!1,!0),a=b}for(var c=new d,e=Object.keys(this),f=0;f<e.length;f++){var g=e[f];c[g]=this[g]}if(c.hash=a.hash,""===a.href)return c.href=c.format(),c;if(a.slashes&&!a.protocol){for(var h=Object.keys(a),i=0;i<h.length;i++){var k=h[i];"protocol"!==k&&(c[k]=a[k])}return w[c.protocol]&&c.hostname&&!c.pathname&&(c.path=c.pathname="/"),c.href=c.format(),c}if(a.protocol&&a.protocol!==c.protocol){if(!w[a.protocol]){for(var l=Object.keys(a),m=0;m<l.length;m++){var n=l[m];c[n]=a[n]}return c.href=c.format(),c}if(c.protocol=a.protocol,a.host||v[a.protocol])c.pathname=a.pathname;else{for(var o=(a.pathname||"").split("/");o.length&&!(a.host=o.shift()););a.host||(a.host=""),a.hostname||(a.hostname=""),""!==o[0]&&o.unshift(""),o.length<2&&o.unshift(""),c.pathname=o.join("/")}if(c.search=a.search,c.query=a.query,c.host=a.host||"",c.auth=a.auth,c.hostname=a.hostname||a.host,c.port=a.port,c.pathname||c.search){var p=c.pathname||"",q=c.search||"";c.path=p+q}return c.slashes=c.slashes||a.slashes,c.href=c.format(),c}var r=c.pathname&&"/"===c.pathname.charAt(0),s=a.host||a.pathname&&"/"===a.pathname.charAt(0),t=s||r||c.host&&a.pathname,u=t,x=c.pathname&&c.pathname.split("/")||[],o=a.pathname&&a.pathname.split("/")||[],y=c.protocol&&!w[c.protocol];if(y&&(c.hostname="",c.port=null,c.host&&(""===x[0]?x[0]=c.host:x.unshift(c.host)),c.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===o[0]?o[0]=a.host:o.unshift(a.host)),a.host=null),t=t&&(""===o[0]||""===x[0])),s)c.host=a.host||""===a.host?a.host:c.host,c.hostname=a.hostname||""===a.hostname?a.hostname:c.hostname,c.search=a.search,c.query=a.query,x=o;else if(o.length)x||(x=[]),x.pop(),x=x.concat(o),c.search=a.search,c.query=a.query;else if(!j.isNullOrUndefined(a.search)){if(y){c.hostname=c.host=x.shift();var z=!!(c.host&&c.host.indexOf("@")>0)&&c.host.split("@");z&&(c.auth=z.shift(),c.host=c.hostname=z.shift())}return c.search=a.search,c.query=a.query,j.isNull(c.pathname)&&j.isNull(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.href=c.format(),c}if(!x.length)return c.pathname=null,c.search?c.path="/"+c.search:c.path=null,c.href=c.format(),c;for(var A=x.slice(-1)[0],B=(c.host||a.host||x.length>1)&&("."===A||".."===A)||""===A,C=0,D=x.length;D>=0;D--)A=x[D],"."===A?x.splice(D,1):".."===A?(x.splice(D,1),C++):C&&(x.splice(D,1),C--);if(!t&&!u)for(;C--;C)x.unshift("..");!t||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),B&&"/"!==x.join("/").substr(-1)&&x.push("");var E=""===x[0]||x[0]&&"/"===x[0].charAt(0);if(y){c.hostname=c.host=E?"":x.length?x.shift():"";var z=!!(c.host&&c.host.indexOf("@")>0)&&c.host.split("@");z&&(c.auth=z.shift(),c.host=c.hostname=z.shift())}return t=t||c.host&&x.length,t&&!E&&x.unshift(""),x.length?c.pathname=x.join("/"):(c.pathname=null,c.path=null),j.isNull(c.pathname)&&j.isNull(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.auth=a.auth||c.auth,c.slashes=c.slashes||a.slashes,c.href=c.format(),c},d.prototype.parseHost=function(){var a=this.host,b=l.exec(a);b&&(b=b[0],":"!==b&&(this.port=b.substr(1)),a=a.substr(0,a.length-b.length)),a&&(this.hostname=a)}},{"./util":37,punycode:4,querystring:17}],37:[function(a,b,c){"use strict";b.exports={isString:function(a){return"string"==typeof a},isObject:function(a){return"object"==typeof a&&null!==a},isNull:function(a){return null===a},isNullOrUndefined:function(a){return null==a}}},{}],38:[function(a,b,c){(function(a){function c(a,b){function c(){if(!e){if(d("throwDeprecation"))throw new Error(b);d("traceDeprecation")?console.trace(b):console.warn(b),e=!0}return a.apply(this,arguments)}if(d("noDeprecation"))return a;var e=!1;return c}function d(b){try{if(!a.localStorage)return!1}catch(d){return!1}var c=a.localStorage[b];return null!=c&&"true"===String(c).toLowerCase()}b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],39:[function(a,b,c){function d(){for(var a={},b=0;b<arguments.length;b++){var c=arguments[b];for(var d in c)e.call(c,d)&&(a[d]=c[d])}return a}b.exports=d;var e=Object.prototype.hasOwnProperty},{}]},{},[1])(1)}),function(a){"function"==typeof define&&define.amd?define([],a):"object"==typeof exports?module.exports=a():window.noUiSlider=a()}(function(){"use strict";function a(a){a.parentElement.removeChild(a)}function b(a){return null!=a}function c(a){a.preventDefault()}function d(a){return"number"==typeof a&&!isNaN(a)&&isFinite(a)}function e(a,b,c){0<c&&(i(a,b),setTimeout(function(){j(a,b)},c))}function f(a){return Math.max(Math.min(a,100),0)}function g(a){return Array.isArray(a)?a:[a]}function h(a){var b=(a=String(a)).split(".");return 1<b.length?b[1].length:0}function i(a,b){a.classList?a.classList.add(b):a.className+=" "+b}function j(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(new RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi")," ")}function k(a){var b=void 0!==window.pageXOffset,c="CSS1Compat"===(a.compatMode||"");return{x:b?window.pageXOffset:c?a.documentElement.scrollLeft:a.body.scrollLeft,y:b?window.pageYOffset:c?a.documentElement.scrollTop:a.body.scrollTop}}function l(a,b){return 100/(b-a)}function m(a,b){return 100*b/(a[1]-a[0])}function n(a,b){for(var c=1;a>=b[c];)c+=1;return c}function o(a,b,c){if(c>=a.slice(-1)[0])return 100;var d,e,f=n(c,a),g=a[f-1],h=a[f],i=b[f-1],j=b[f];return i+(e=c,m(d=[g,h],d[0]<0?e+Math.abs(d[0]):e-d[0])/l(i,j))}function p(a,b,c,d){if(100===d)return d;var e,f,g=n(d,a),h=a[g-1],i=a[g];return c?(i-h)/2<d-h?i:h:b[g-1]?a[g-1]+(e=d-a[g-1],f=b[g-1],Math.round(e/f)*f):d}function q(a,b,c){var e;if("number"==typeof b&&(b=[b]),!Array.isArray(b))throw new Error("noUiSlider ("+Q+"): 'range' contains invalid value.");if(!d(e="min"===a?0:"max"===a?100:parseFloat(a))||!d(b[0]))throw new Error("noUiSlider ("+Q+"): 'range' value isn't numeric.");c.xPct.push(e),c.xVal.push(b[0]),e?c.xSteps.push(!isNaN(b[1])&&b[1]):isNaN(b[1])||(c.xSteps[0]=b[1]),c.xHighestCompleteStep.push(0)}function r(a,b,c){if(b)if(c.xVal[a]!==c.xVal[a+1]){c.xSteps[a]=m([c.xVal[a],c.xVal[a+1]],b)/l(c.xPct[a],c.xPct[a+1]);var d=(c.xVal[a+1]-c.xVal[a])/c.xNumSteps[a],e=Math.ceil(Number(d.toFixed(3))-1),f=c.xVal[a]+c.xNumSteps[a]*e;c.xHighestCompleteStep[a]=f}else c.xSteps[a]=c.xHighestCompleteStep[a]=c.xVal[a]}function s(a,b,c){var d;this.xPct=[],this.xVal=[],this.xSteps=[c||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=b;var e=[];for(d in a)a.hasOwnProperty(d)&&e.push([a[d],d]);for(e.length&&"object"==typeof e[0][0]?e.sort(function(a,b){return a[0][0]-b[0][0]}):e.sort(function(a,b){return a[0]-b[0]}),d=0;d<e.length;d++)q(e[d][1],e[d][0],this);for(this.xNumSteps=this.xSteps.slice(0),d=0;d<this.xNumSteps.length;d++)r(d,this.xNumSteps[d],this)}function t(a){if("object"==typeof(b=a)&&"function"==typeof b.to&&"function"==typeof b.from)return!0;var b;throw new Error("noUiSlider ("+Q+"): 'format' requires 'to' and 'from' methods.")}function u(a,b){if(!d(b))throw new Error("noUiSlider ("+Q+"): 'step' is not numeric.");a.singleStep=b}function v(a,b){if("object"!=typeof b||Array.isArray(b))throw new Error("noUiSlider ("+Q+"): 'range' is not an object.");if(void 0===b.min||void 0===b.max)throw new Error("noUiSlider ("+Q+"): Missing 'min' or 'max' in 'range'.");if(b.min===b.max)throw new Error("noUiSlider ("+Q+"): 'range' 'min' and 'max' cannot be equal.");a.spectrum=new s(b,a.snap,a.singleStep)}function w(a,b){if(b=g(b),!Array.isArray(b)||!b.length)throw new Error("noUiSlider ("+Q+"): 'start' option is incorrect.");a.handles=b.length,a.start=b}function x(a,b){if("boolean"!=typeof(a.snap=b))throw new Error("noUiSlider ("+Q+"): 'snap' option must be a boolean.")}function y(a,b){if("boolean"!=typeof(a.animate=b))throw new Error("noUiSlider ("+Q+"): 'animate' option must be a boolean.")}function z(a,b){if("number"!=typeof(a.animationDuration=b))throw new Error("noUiSlider ("+Q+"): 'animationDuration' option must be a number.")}function A(a,b){var c,d=[!1];if("lower"===b?b=[!0,!1]:"upper"===b&&(b=[!1,!0]),!0===b||!1===b){for(c=1;c<a.handles;c++)d.push(b);d.push(!1)}else{if(!Array.isArray(b)||!b.length||b.length!==a.handles+1)throw new Error("noUiSlider ("+Q+"): 'connect' option doesn't match handle count.");d=b}a.connect=d}function B(a,b){switch(b){case"horizontal":a.ort=0;break;case"vertical":a.ort=1;break;default:throw new Error("noUiSlider ("+Q+"): 'orientation' option is invalid.")}}function C(a,b){if(!d(b))throw new Error("noUiSlider ("+Q+"): 'margin' option must be numeric.");if(0!==b&&(a.margin=a.spectrum.getMargin(b),!a.margin))throw new Error("noUiSlider ("+Q+"): 'margin' option is only supported on linear sliders.")}function D(a,b){if(!d(b))throw new Error("noUiSlider ("+Q+"): 'limit' option must be numeric.");if(a.limit=a.spectrum.getMargin(b),!a.limit||a.handles<2)throw new Error("noUiSlider ("+Q+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function E(a,b){if(!d(b)&&!Array.isArray(b))throw new Error("noUiSlider ("+Q+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(b)&&2!==b.length&&!d(b[0])&&!d(b[1]))throw new Error("noUiSlider ("+Q+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==b){if(Array.isArray(b)||(b=[b,b]),!(a.padding=[a.spectrum.getMargin(b[0]),a.spectrum.getMargin(b[1])])===a.padding[0]||!1===a.padding[1])throw new Error("noUiSlider ("+Q+"): 'padding' option is only supported on linear sliders.");if(a.padding[0]<0||a.padding[1]<0)throw new Error("noUiSlider ("+Q+"): 'padding' option must be a positive number(s).");if(100<a.padding[0]+a.padding[1])throw new Error("noUiSlider ("+Q+"): 'padding' option must not exceed 100% of the range.")}}function F(a,b){switch(b){case"ltr":a.dir=0;break;case"rtl":a.dir=1;break;default:throw new Error("noUiSlider ("+Q+"): 'direction' option was not recognized.")}}function G(a,b){if("string"!=typeof b)throw new Error("noUiSlider ("+Q+"): 'behaviour' must be a string containing options.");var c=0<=b.indexOf("tap"),d=0<=b.indexOf("drag"),e=0<=b.indexOf("fixed"),f=0<=b.indexOf("snap"),g=0<=b.indexOf("hover"),h=0<=b.indexOf("unconstrained");if(e){if(2!==a.handles)throw new Error("noUiSlider ("+Q+"): 'fixed' behaviour must be used with 2 handles");C(a,a.start[1]-a.start[0])}if(h&&(a.margin||a.limit))throw new Error("noUiSlider ("+Q+"): 'unconstrained' behaviour cannot be used with margin or limit");a.events={tap:c||f,drag:d,fixed:e,snap:f,hover:g,unconstrained:h}}function H(a,b){if(!1!==b)if(!0===b){a.tooltips=[];for(var c=0;c<a.handles;c++)a.tooltips.push(!0)}else{if(a.tooltips=g(b),a.tooltips.length!==a.handles)throw new Error("noUiSlider ("+Q+"): must pass a formatter for all handles.");a.tooltips.forEach(function(a){if("boolean"!=typeof a&&("object"!=typeof a||"function"!=typeof a.to))throw new Error("noUiSlider ("+Q+"): 'tooltips' must be passed a formatter or 'false'.")})}}function I(a,b){t(a.ariaFormat=b)}function J(a,b){t(a.format=b)}function K(a,b){if("boolean"!=typeof(a.keyboardSupport=b))throw new Error("noUiSlider ("+Q+"): 'keyboardSupport' option must be a boolean.")}function L(a,b){a.documentElement=b}function M(a,b){if("string"!=typeof b&&!1!==b)throw new Error("noUiSlider ("+Q+"): 'cssPrefix' must be a string or `false`.");a.cssPrefix=b}function N(a,b){if("object"!=typeof b)throw new Error("noUiSlider ("+Q+"): 'cssClasses' must be an object.");if("string"==typeof a.cssPrefix)for(var c in a.cssClasses={},b)b.hasOwnProperty(c)&&(a.cssClasses[c]=a.cssPrefix+b[c]);else a.cssClasses=b}function O(a){var c={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:R,format:R},d={step:{r:!1,t:u},start:{r:!0,t:w},connect:{r:!0,t:A},direction:{r:!0,t:F},snap:{r:!1,t:x},animate:{r:!1,t:y},animationDuration:{r:!1,t:z},range:{r:!0,t:v},orientation:{r:!1,t:B},margin:{r:!1,t:C},limit:{r:!1,t:D},padding:{r:!1,t:E},behaviour:{r:!0,t:G},ariaFormat:{r:!1,t:I},format:{r:!1,t:J},tooltips:{r:!1,t:H},keyboardSupport:{r:!0,t:K},documentElement:{r:!1,t:L},cssPrefix:{r:!0,t:M},cssClasses:{r:!0,t:N}},e={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};a.format&&!a.ariaFormat&&(a.ariaFormat=a.format),Object.keys(d).forEach(function(f){if(!b(a[f])&&void 0===e[f]){if(d[f].r)throw new Error("noUiSlider ("+Q+"): '"+f+"' is required.");return!0}d[f].t(c,b(a[f])?a[f]:e[f])}),c.pips=a.pips;var f=document.createElement("div"),g=void 0!==f.style.msTransform,h=void 0!==f.style.transform;return c.transformRule=h?"transform":g?"msTransform":"webkitTransform",c.style=[["left","top"],["right","bottom"]][c.dir][c.ort],c}function P(b,d,h){function l(a,b){var c=ka.createElement("div");return b&&i(c,b),a.appendChild(c),c}function m(a,b){var c=l(a,d.cssClasses.origin),e=l(c,d.cssClasses.handle);return l(e,d.cssClasses.touchArea),e.setAttribute("data-handle",b),d.keyboardSupport&&(e.setAttribute("tabindex","0"),e.addEventListener("keydown",function(a){return function(a,b){if(p()||q(b))return!1;var c=["Left","Right"],e=["Down","Up"];d.dir&&!d.ort?c.reverse():d.ort&&!d.dir&&e.reverse()
;var f=a.key.replace("Arrow",""),g=f===e[0]||f===c[0],h=f===e[1]||f===c[1];if(!g&&!h)return!0;a.preventDefault();var i=g?0:1,j=U(b)[i];return null!==j&&(!1===j&&(j=ea.getDefaultStep(ga[b],g,10)),j=Math.max(j,1e-7),j*=g?-1:1,N(b,ea.toStepping(fa[b]+j),!0,!0),H("slide",b),H("update",b),H("change",b),H("set",b),!1)}(a,b)})),e.setAttribute("role","slider"),e.setAttribute("aria-orientation",d.ort?"vertical":"horizontal"),0===b?i(e,d.cssClasses.handleLower):b===d.handles-1&&i(e,d.cssClasses.handleUpper),c}function n(a,b){return!!b&&l(a,d.cssClasses.connect)}function o(a,b){return!!d.tooltips[b]&&l(a.firstChild,d.cssClasses.tooltip)}function p(){return da.hasAttribute("disabled")}function q(a){return W[a].hasAttribute("disabled")}function r(){Z&&(G("update.tooltips"),Z.forEach(function(b){b&&a(b)}),Z=null)}function s(){r(),Z=W.map(o),F("update.tooltips",function(a,b,c){if(Z[b]){var e=a[b];!0!==d.tooltips[b]&&(e=d.tooltips[b].to(c[b])),Z[b].innerHTML=e}})}function t(a,b,c){function e(a,b){var c=b===d.cssClasses.value,e=c?g:h;return b+" "+(c?j:k)[d.ort]+" "+e[a]}var f=ka.createElement("div"),g=[];g[oa]=d.cssClasses.valueNormal,g[pa]=d.cssClasses.valueLarge,g[qa]=d.cssClasses.valueSub;var h=[];h[oa]=d.cssClasses.markerNormal,h[pa]=d.cssClasses.markerLarge,h[qa]=d.cssClasses.markerSub;var j=[d.cssClasses.valueHorizontal,d.cssClasses.valueVertical],k=[d.cssClasses.markerHorizontal,d.cssClasses.markerVertical];return i(f,d.cssClasses.pips),i(f,0===d.ort?d.cssClasses.pipsHorizontal:d.cssClasses.pipsVertical),Object.keys(a).forEach(function(g){!function(a,g,h){if((h=b?b(g,h):h)!==na){var i=l(f,!1);i.className=e(h,d.cssClasses.marker),i.style[d.style]=a+"%",oa<h&&((i=l(f,!1)).className=e(h,d.cssClasses.value),i.setAttribute("data-value",g),i.style[d.style]=a+"%",i.innerHTML=c.to(g))}}(g,a[g][0],a[g][1])}),f}function u(){Y&&(a(Y),Y=null)}function v(a){u();var b,c,d,e,f,g,h,i,j,k=a.mode,l=a.density||1,m=a.filter||!1,n=function(a,b,c){if("range"===a||"steps"===a)return ea.xVal;if("count"===a){if(b<2)throw new Error("noUiSlider ("+Q+"): 'values' (>= 2) required for mode 'count'.");var d=b-1,e=100/d;for(b=[];d--;)b[d]=d*e;b.push(100),a="positions"}return"positions"===a?b.map(function(a){return ea.fromStepping(c?ea.getStep(a):a)}):"values"===a?c?b.map(function(a){return ea.fromStepping(ea.getStep(ea.toStepping(a)))}):b:void 0}(k,a.values||!1,a.stepped||!1),o=(b=l,c=k,d=n,e={},f=ea.xVal[0],g=ea.xVal[ea.xVal.length-1],i=h=!1,j=0,(d=d.slice().sort(function(a,b){return a-b}).filter(function(a){return!this[a]&&(this[a]=!0)},{}))[0]!==f&&(d.unshift(f),h=!0),d[d.length-1]!==g&&(d.push(g),i=!0),d.forEach(function(a,f){var g,k,l,m,n,o,p,q,r,s,t=a,u=d[f+1],v="steps"===c;if(v&&(g=ea.xNumSteps[f]),g||(g=u-t),!1!==t&&void 0!==u)for(g=Math.max(g,1e-7),k=t;k<=u;k=(k+g).toFixed(7)/1){for(q=(n=(m=ea.toStepping(k))-j)/b,s=n/(r=Math.round(q)),l=1;l<=r;l+=1)e[(o=j+l*s).toFixed(5)]=[ea.fromStepping(o),0];p=-1<d.indexOf(k)?pa:v?qa:oa,!f&&h&&(p=0),k===u&&i||(e[m.toFixed(5)]=[k,p]),j=m}}),e),p=a.format||{to:Math.round};return Y=da.appendChild(t(o,m,p))}function w(){var a=V.getBoundingClientRect(),b="offset"+["Width","Height"][d.ort];return 0===d.ort?a.width||V[b]:a.height||V[b]}function x(a,b,c,e){var f=function(f){return!!(f=function(a,b,c){var d,e,f=0===a.type.indexOf("touch"),g=0===a.type.indexOf("mouse"),h=0===a.type.indexOf("pointer");if(0===a.type.indexOf("MSPointer")&&(h=!0),f){var i=function(a){return a.target===c||c.contains(a.target)};if("touchstart"===a.type){var j=Array.prototype.filter.call(a.touches,i);if(1<j.length)return!1;d=j[0].pageX,e=j[0].pageY}else{var l=Array.prototype.find.call(a.changedTouches,i);if(!l)return!1;d=l.pageX,e=l.pageY}}return b=b||k(ka),(g||h)&&(d=a.clientX+b.x,e=a.clientY+b.y),a.pageOffset=b,a.points=[d,e],a.cursor=g||h,a}(f,e.pageOffset,e.target||b))&&!(p()&&!e.doNotReject)&&(g=da,h=d.cssClasses.tap,!((g.classList?g.classList.contains(h):new RegExp("\\b"+h+"\\b").test(g.className))&&!e.doNotReject)&&!(a===ba.start&&void 0!==f.buttons&&1<f.buttons)&&(!e.hover||!f.buttons)&&(ca||f.preventDefault(),f.calcPoint=f.points[d.ort],void c(f,e)));var g,h},g=[];return a.split(" ").forEach(function(a){b.addEventListener(a,f,!!ca&&{passive:!0}),g.push([a,f])}),g}function y(a){var b,c,e,g,h,i,j=100*(a-(b=V,c=d.ort,e=b.getBoundingClientRect(),g=b.ownerDocument,h=g.documentElement,i=k(g),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(i.x=0),c?e.top+i.y-h.clientTop:e.left+i.x-h.clientLeft))/w();return j=f(j),d.dir?100-j:j}function z(a,b){"mouseout"===a.type&&"HTML"===a.target.nodeName&&null===a.relatedTarget&&B(a,b)}function A(a,b){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===a.buttons&&0!==b.buttonsProperty)return B(a,b);var c=(d.dir?-1:1)*(a.calcPoint-b.startCalcPoint);K(0<c,100*c/b.baseSize,b.locations,b.handleNumbers)}function B(a,b){b.handle&&(j(b.handle,d.cssClasses.active),ia-=1),b.listeners.forEach(function(a){la.removeEventListener(a[0],a[1])}),0===ia&&(j(da,d.cssClasses.drag),M(),a.cursor&&(ma.style.cursor="",ma.removeEventListener("selectstart",c))),b.handleNumbers.forEach(function(a){H("change",a),H("set",a),H("end",a)})}function C(a,b){if(b.handleNumbers.some(q))return!1;var e;1===b.handleNumbers.length&&(e=W[b.handleNumbers[0]].children[0],ia+=1,i(e,d.cssClasses.active)),a.stopPropagation();var f=[],g=x(ba.move,la,A,{target:a.target,handle:e,listeners:f,startCalcPoint:a.calcPoint,baseSize:w(),pageOffset:a.pageOffset,handleNumbers:b.handleNumbers,buttonsProperty:a.buttons,locations:ga.slice()}),h=x(ba.end,la,B,{target:a.target,handle:e,listeners:f,doNotReject:!0,handleNumbers:b.handleNumbers}),j=x("mouseout",la,z,{target:a.target,handle:e,listeners:f,doNotReject:!0,handleNumbers:b.handleNumbers});f.push.apply(f,g.concat(h,j)),a.cursor&&(ma.style.cursor=getComputedStyle(a.target).cursor,1<W.length&&i(da,d.cssClasses.drag),ma.addEventListener("selectstart",c,!1)),b.handleNumbers.forEach(function(a){H("start",a)})}function D(a){a.stopPropagation();var b,c,f,g=y(a.calcPoint),h=(b=g,f=!(c=100),W.forEach(function(a,d){if(!q(d)){var e=ga[d],g=Math.abs(e-b);(g<c||g<=c&&e<b||100===g&&100===c)&&(f=d,c=g)}}),f);if(!1===h)return!1;d.events.snap||e(da,d.cssClasses.tap,d.animationDuration),N(h,g,!0,!0),M(),H("slide",h,!0),H("update",h,!0),H("change",h,!0),H("set",h,!0),d.events.snap&&C(a,{handleNumbers:[h]})}function E(a){var b=y(a.calcPoint),c=ea.getStep(b),d=ea.fromStepping(c);Object.keys(ja).forEach(function(a){"hover"===a.split(".")[0]&&ja[a].forEach(function(a){a.call($,d)})})}function F(a,b){ja[a]=ja[a]||[],ja[a].push(b),"update"===a.split(".")[0]&&W.forEach(function(a,b){H("update",b)})}function G(a){var b=a&&a.split(".")[0],c=b&&a.substring(b.length);Object.keys(ja).forEach(function(a){var d=a.split(".")[0],e=a.substring(d.length);b&&b!==d||c&&c!==e||delete ja[a]})}function H(a,b,c){Object.keys(ja).forEach(function(e){var f=e.split(".")[0];a===f&&ja[e].forEach(function(a){a.call($,fa.map(d.format.to),b,fa.slice(),c||!1,ga.slice())})})}function I(a,b,c,e,g,h){return 1<W.length&&!d.events.unconstrained&&(e&&0<b&&(c=Math.max(c,a[b-1]+d.margin)),g&&b<W.length-1&&(c=Math.min(c,a[b+1]-d.margin))),1<W.length&&d.limit&&(e&&0<b&&(c=Math.min(c,a[b-1]+d.limit)),g&&b<W.length-1&&(c=Math.max(c,a[b+1]-d.limit))),d.padding&&(0===b&&(c=Math.max(c,d.padding[0])),b===W.length-1&&(c=Math.min(c,100-d.padding[1]))),!((c=f(c=ea.getStep(c)))===a[b]&&!h)&&c}function J(a,b){var c=d.ort;return(c?b:a)+", "+(c?a:b)}function K(a,b,c,d){var e=c.slice(),f=[!a,a],g=[a,!a];d=d.slice(),a&&d.reverse(),1<d.length?d.forEach(function(a,c){var d=I(e,a,e[a]+b,f[c],g[c],!1);!1===d?b=0:(b=d-e[a],e[a]=d)}):f=g=[!0];var h=!1;d.forEach(function(a,d){h=N(a,c[a]+b,f[d],g[d])||h}),h&&d.forEach(function(a){H("update",a),H("slide",a)})}function L(a,b){return d.dir?100-a-b:a}function M(){ha.forEach(function(a){var b=50<ga[a]?-1:1,c=3+(W.length+b*a);W[a].style.zIndex=c})}function N(a,b,c,e){return!1!==(b=I(ga,a,b,c,e,!1))&&(function(a,b){ga[a]=b,fa[a]=ea.fromStepping(b);var c="translate("+J(10*(L(b,0)-ra)+"%","0")+")";W[a].style[d.transformRule]=c,P(a),P(a+1)}(a,b),!0)}function P(a){if(X[a]){var b=0,c=100;0!==a&&(b=ga[a-1]),a!==X.length-1&&(c=ga[a]);var e=c-b,f="translate("+J(L(b,e)+"%","0")+")",g="scale("+J(e/100,"1")+")";X[a].style[d.transformRule]=f+" "+g}}function R(a,b){return null===a||!1===a||void 0===a?ga[b]:("number"==typeof a&&(a=String(a)),a=d.format.from(a),!1===(a=ea.toStepping(a))||isNaN(a)?ga[b]:a)}function S(a,b){var c=g(a),f=void 0===ga[0];b=void 0===b||!!b,d.animate&&!f&&e(da,d.cssClasses.tap,d.animationDuration),ha.forEach(function(a){N(a,R(c[a],a),!0,!1)}),ha.forEach(function(a){N(a,ga[a],!0,!0)}),M(),ha.forEach(function(a){H("update",a),null!==c[a]&&b&&H("set",a)})}function T(){var a=fa.map(d.format.to);return 1===a.length?a[0]:a}function U(a){var b=ga[a],c=ea.getNearbySteps(b),e=fa[a],f=c.thisStep.step,g=null;if(d.snap)return[e-c.stepBefore.startValue||null,c.stepAfter.startValue-e||null];!1!==f&&e+f>c.stepAfter.startValue&&(f=c.stepAfter.startValue-e),g=e>c.thisStep.startValue?c.thisStep.step:!1!==c.stepBefore.step&&e-c.stepBefore.highestStep,100===b?f=null:0===b&&(g=null);var h=ea.countStepDecimals();return null!==f&&!1!==f&&(f=Number(f.toFixed(h))),null!==g&&!1!==g&&(g=Number(g.toFixed(h))),[g,f]}var V,W,X,Y,Z,$,_,aa,ba=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},ca=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var a=!1;try{var b=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,b)}catch(a){}return a}(),da=b,ea=d.spectrum,fa=[],ga=[],ha=[],ia=0,ja={},ka=b.ownerDocument,la=d.documentElement||ka.documentElement,ma=ka.body,na=-1,oa=0,pa=1,qa=2,ra="rtl"===ka.dir||1===d.ort?0:100;return i(_=da,d.cssClasses.target),0===d.dir?i(_,d.cssClasses.ltr):i(_,d.cssClasses.rtl),0===d.ort?i(_,d.cssClasses.horizontal):i(_,d.cssClasses.vertical),V=l(_,d.cssClasses.base),function(a,b){var c=l(b,d.cssClasses.connects);W=[],(X=[]).push(n(c,a[0]));for(var e=0;e<d.handles;e++)W.push(m(b,e)),ha[e]=e,X.push(n(c,a[e+1]))}(d.connect,V),(aa=d.events).fixed||W.forEach(function(a,b){x(ba.start,a.children[0],C,{handleNumbers:[b]})}),aa.tap&&x(ba.start,V,D,{}),aa.hover&&x(ba.move,V,E,{hover:!0}),aa.drag&&X.forEach(function(a,b){if(!1!==a&&0!==b&&b!==X.length-1){var c=W[b-1],e=W[b],f=[a];i(a,d.cssClasses.draggable),aa.fixed&&(f.push(c.children[0]),f.push(e.children[0])),f.forEach(function(a){x(ba.start,a,C,{handles:[c,e],handleNumbers:[b-1,b]})})}}),S(d.start),d.pips&&v(d.pips),d.tooltips&&s(),F("update",function(a,b,c,e,f){ha.forEach(function(a){var b=W[a],e=I(ga,a,0,!0,!0,!0),g=I(ga,a,100,!0,!0,!0),h=f[a],i=d.ariaFormat.to(c[a]);e=ea.fromStepping(e).toFixed(1),g=ea.fromStepping(g).toFixed(1),h=ea.fromStepping(h).toFixed(1),b.children[0].setAttribute("aria-valuemin",e),b.children[0].setAttribute("aria-valuemax",g),b.children[0].setAttribute("aria-valuenow",h),b.children[0].setAttribute("aria-valuetext",i)})}),$={destroy:function(){for(var a in d.cssClasses)d.cssClasses.hasOwnProperty(a)&&j(da,d.cssClasses[a]);for(;da.firstChild;)da.removeChild(da.firstChild);delete da.noUiSlider},steps:function(){return ha.map(U)},on:F,off:G,get:T,set:S,setHandle:function(a,b,c){if(!(0<=(a=Number(a))&&a<ha.length))throw new Error("noUiSlider ("+Q+"): invalid handle number, got: "+a);N(a,R(b,a),!0,!0),H("update",a),c&&H("set",a)},reset:function(a){S(d.start,a)},__moveHandles:function(a,b,c){K(a,b,ga,c)},options:h,updateOptions:function(a,b){var c=T(),e=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];e.forEach(function(b){void 0!==a[b]&&(h[b]=a[b])});var f=O(h);e.forEach(function(b){void 0!==a[b]&&(d[b]=f[b])}),ea=f.spectrum,d.margin=f.margin,d.limit=f.limit,d.padding=f.padding,d.pips?v(d.pips):u(),d.tooltips?s():r(),ga=[],S(a.start||c,b)},target:da,removePips:u,removeTooltips:r,pips:v}}var Q="14.0.2";s.prototype.getMargin=function(a){var b=this.xNumSteps[0];if(b&&a/b%1!=0)throw new Error("noUiSlider ("+Q+"): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&m(this.xVal,a)},s.prototype.toStepping=function(a){return a=o(this.xVal,this.xPct,a)},s.prototype.fromStepping=function(a){return function(a,b,c){if(100<=c)return a.slice(-1)[0];var d,e=n(c,b),f=a[e-1],g=a[e],h=b[e-1],i=b[e];return d=[f,g],(c-h)*l(h,i)*(d[1]-d[0])/100+d[0]}(this.xVal,this.xPct,a)},s.prototype.getStep=function(a){return a=p(this.xPct,this.xSteps,this.snap,a)},s.prototype.getDefaultStep=function(a,b,c){var d=n(a,this.xPct);return(100===a||b&&a===this.xPct[d-1])&&(d=Math.max(d-1,1)),(this.xVal[d]-this.xVal[d-1])/c},s.prototype.getNearbySteps=function(a){var b=n(a,this.xPct);return{stepBefore:{startValue:this.xVal[b-2],step:this.xNumSteps[b-2],highestStep:this.xHighestCompleteStep[b-2]},thisStep:{startValue:this.xVal[b-1],step:this.xNumSteps[b-1],highestStep:this.xHighestCompleteStep[b-1]},stepAfter:{startValue:this.xVal[b],step:this.xNumSteps[b],highestStep:this.xHighestCompleteStep[b]}}},s.prototype.countStepDecimals=function(){var a=this.xNumSteps.map(h);return Math.max.apply(null,a)},s.prototype.convert=function(a){return this.getStep(this.toStepping(a))};var R={to:function(a){return void 0!==a&&a.toFixed(2)},from:Number};return{__spectrum:s,version:Q,create:function(a,b){if(!a||!a.nodeName)throw new Error("noUiSlider ("+Q+"): create requires a single element, got: "+a);if(a.noUiSlider)throw new Error("noUiSlider ("+Q+"): Slider was already initialized.");var c=P(a,O(b),b);return a.noUiSlider=c}}}),function(a){a.version={versionStr:"2.4.1",major:parseInt("2",10),minor:parseInt("4",10),revision:parseInt("1",10)};var b={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},c=Object.prototype.toString,d=Object.prototype.hasOwnProperty;a.isFunction=function(b){return"function"===a.type(b)},a.isArray=Array.isArray||function(b){return"array"===a.type(b)},a.isWindow=function(a){return a&&"object"==typeof a&&"setInterval"in a},a.type=function(a){return null===a||void 0===a?String(a):b[c.call(a)]||"object"},a.isPlainObject=function(b){if(!b||"object"!==OpenSeadragon.type(b)||b.nodeType||a.isWindow(b))return!1;if(b.constructor&&!d.call(b,"constructor")&&!d.call(b.constructor.prototype,"isPrototypeOf"))return!1;var c;for(var e in b)c=e;return void 0===c||d.call(b,c)},a.isEmptyObject=function(a){for(var b in a)return!1;return!0},a.freezeObject=function(b){return Object.freeze?a.freezeObject=Object.freeze:a.freezeObject=function(a){return a},a.freezeObject(b)},a.supportsCanvas=function(){var b=document.createElement("canvas");return!(!a.isFunction(b.getContext)||!b.getContext("2d"))}(),a.isCanvasTainted=function(a){var b=!1;try{a.getContext("2d").getImageData(0,0,1,1)}catch(c){b=!0}return b},a.pixelDensityRatio=function(){if(a.supportsCanvas){var b=document.createElement("canvas").getContext("2d"),c=window.devicePixelRatio||1,d=b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1;return Math.max(c,1)/d}return 1}()}(OpenSeadragon),function($){function getOffsetParent(a,b){return b&&a!=document.body?document.body:a.offsetParent}$.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=arguments.length,i=!1,j=1;for("boolean"==typeof g&&(i=g,g=arguments[1]||{},j=2),"object"==typeof g||OpenSeadragon.isFunction(g)||(g={}),h===j&&(g=this,--j);j<h;j++)if(null!==(a=arguments[j])||void 0!==a)for(b in a)c=g[b],d=a[b],g!==d&&(i&&d&&(OpenSeadragon.isPlainObject(d)||(e=OpenSeadragon.isArray(d)))?(e?(e=!1,f=c&&OpenSeadragon.isArray(c)?c:[]):f=c&&OpenSeadragon.isPlainObject(c)?c:{},g[b]=OpenSeadragon.extend(i,f,d)):void 0!==d&&(g[b]=d));return g};var isIOSDevice=function(){if("object"!=typeof navigator)return!1;var a=navigator.userAgent;return"string"==typeof a&&(-1!==a.indexOf("iPhone")||-1!==a.indexOf("iPad")||-1!==a.indexOf("iPod"))};$.extend($,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:isIOSDevice(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(a,b){return function(){var c=arguments;return void 0===c&&(c=[]),b.apply(a,c)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5},getElement:function(a){return"string"==typeof a&&(a=document.getElementById(a)),a},getElementPosition:function(a){var b,c,d=new $.Point;for(a=$.getElement(a),b="fixed"==$.getElementStyle(a).position,c=getOffsetParent(a,b);c;)d.x+=a.offsetLeft,d.y+=a.offsetTop,b&&(d=d.plus($.getPageScroll())),a=c,b="fixed"==$.getElementStyle(a).position,c=getOffsetParent(a,b);return d},getElementOffset:function(a){a=$.getElement(a);var b,c,d=a&&a.ownerDocument,e={top:0,left:0};return d?(b=d.documentElement,void 0!==a.getBoundingClientRect&&(e=a.getBoundingClientRect()),c=d==d.window?d:9===d.nodeType&&(d.defaultView||d.parentWindow),new $.Point(e.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0),e.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0))):new $.Point},getElementSize:function(a){return a=$.getElement(a),new $.Point(a.clientWidth,a.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(a){return a=$.getElement(a),a.currentStyle}:function(a){return a=$.getElement(a),window.getComputedStyle(a,"")},getCssPropertyWithVendorPrefix:function(a){var b={};return $.getCssPropertyWithVendorPrefix=function(a){if(void 0!==b[a])return b[a];var c=document.createElement("div").style,d=null;if(void 0!==c[a])d=a;else for(var e=["Webkit","Moz","MS","O","webkit","moz","ms","o"],f=$.capitalizeFirstLetter(a),g=0;g<e.length;g++){var h=e[g]+f;if(void 0!==c[h]){d=h;break}}return b[a]=d,d},$.getCssPropertyWithVendorPrefix(a)},capitalizeFirstLetter:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},positiveModulo:function(a,b){var c=a%b;return c<0&&(c+=b),c},pointInElement:function(a,b){a=$.getElement(a);var c=$.getElementOffset(a),d=$.getElementSize(a);return b.x>=c.x&&b.x<c.x+d.x&&b.y<c.y+d.y&&b.y>=c.y},getEvent:function(a){return $.getEvent=a?function(a){return a}:function(){return window.event},$.getEvent(a)},getMousePosition:function(a){if("number"==typeof a.pageX)$.getMousePosition=function(a){var b=new $.Point;return a=$.getEvent(a),b.x=a.pageX,b.y=a.pageY,b};else{if("number"!=typeof a.clientX)throw new Error("Unknown event mouse position, no known technique.");$.getMousePosition=function(a){var b=new $.Point;return a=$.getEvent(a),b.x=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,b.y=a.clientY+document.body.scrollTop+document.documentElement.scrollTop,b}}return $.getMousePosition(a)},getPageScroll:function(){var a=document.documentElement||{},b=document.body||{};if("number"==typeof window.pageXOffset)$.getPageScroll=function(){return new $.Point(window.pageXOffset,window.pageYOffset)};else if(b.scrollLeft||b.scrollTop)$.getPageScroll=function(){return new $.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!a.scrollLeft&&!a.scrollTop)return new $.Point(0,0);$.getPageScroll=function(){return new $.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return $.getPageScroll()},setPageScroll:function(a){if(void 0!==window.scrollTo)$.setPageScroll=function(a){window.scrollTo(a.x,a.y)};else{var b=$.getPageScroll();if(b.x===a.x&&b.y===a.y)return;document.body.scrollLeft=a.x,document.body.scrollTop=a.y;var c=$.getPageScroll();if(c.x!==b.x&&c.y!==b.y)return void($.setPageScroll=function(a){document.body.scrollLeft=a.x,document.body.scrollTop=a.y});if(document.documentElement.scrollLeft=a.x,document.documentElement.scrollTop=a.y,c=$.getPageScroll(),c.x!==b.x&&c.y!==b.y)return void($.setPageScroll=function(a){document.documentElement.scrollLeft=a.x,document.documentElement.scrollTop=a.y});$.setPageScroll=function(a){}}return $.setPageScroll(a)},getWindowSize:function(){var a=document.documentElement||{},b=document.body||{};if("number"==typeof window.innerWidth)$.getWindowSize=function(){return new $.Point(window.innerWidth,window.innerHeight)};else if(a.clientWidth||a.clientHeight)$.getWindowSize=function(){return new $.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!b.clientWidth&&!b.clientHeight)throw new Error("Unknown window size, no known technique.");$.getWindowSize=function(){return new $.Point(document.body.clientWidth,document.body.clientHeight)}}return $.getWindowSize()},makeCenteredNode:function(a){a=$.getElement(a);var b=[$.makeNeutralElement("div"),$.makeNeutralElement("div"),$.makeNeutralElement("div")];return $.extend(b[0].style,{display:"table",height:"100%",width:"100%"}),$.extend(b[1].style,{display:"table-row"}),$.extend(b[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),b[0].appendChild(b[1]),b[1].appendChild(b[2]),b[2].appendChild(a),b[0]},makeNeutralElement:function(a){var b=document.createElement(a),c=b.style;return c.background="transparent none",c.border="none",c.margin="0px",c.padding="0px",c.position="static",b},now:function(){return Date.now?$.now=Date.now:$.now=function(){return(new Date).getTime()},$.now()},makeTransparentImage:function(a){return $.makeTransparentImage=function(a){var b=$.makeNeutralElement("img");return b.src=a,b},$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<7&&($.makeTransparentImage=function(a){var b=$.makeNeutralElement("img"),c=null;return c=$.makeNeutralElement("span"),c.style.display="inline-block",b.onload=function(){c.style.width=c.style.width||b.width+"px",c.style.height=c.style.height||b.height+"px",b.onload=null,b=null},b.src=a,c.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+a+"', sizingMethod='scale')",c}),$.makeTransparentImage(a)},setElementOpacity:function(a,b,c){var d,e;a=$.getElement(a),c&&!$.Browser.alpha&&(b=Math.round(b)),$.Browser.opacity?a.style.opacity=b<1?b:"":b<1?(d=Math.round(100*b),e="alpha(opacity="+d+")",a.style.filter=e):a.style.filter=""},setElementTouchActionNone:function(a){a=$.getElement(a),void 0!==a.style.touchAction?a.style.touchAction="none":void 0!==a.style.msTouchAction&&(a.style.msTouchAction="none")},addClass:function(a,b){a=$.getElement(a),a.className?-1===(" "+a.className+" ").indexOf(" "+b+" ")&&(a.className+=" "+b):a.className=b},indexOf:function(a,b,c){return Array.prototype.indexOf?this.indexOf=function(a,b,c){return a.indexOf(b,c)}:this.indexOf=function(a,b,c){var d,e,f=c||0;if(!a)throw new TypeError;if(0===(e=a.length)||f>=e)return-1;for(f<0&&(f=e-Math.abs(f)),d=f;d<e;d++)if(a[d]===b)return d;return-1},this.indexOf(a,b,c)},removeClass:function(a,b){var c,d,e=[];for(a=$.getElement(a),c=a.className.split(/\s+/),d=0;d<c.length;d++)c[d]&&c[d]!==b&&e.push(c[d]);a.className=e.join(" ")},addEvent:function(){if(window.addEventListener)return function(a,b,c,d){a=$.getElement(a),a.addEventListener(b,c,d)};if(window.attachEvent)return function(a,b,c,d){a=$.getElement(a),a.attachEvent("on"+b,c)};throw new Error("No known event model.")}(),removeEvent:function(){if(window.removeEventListener)return function(a,b,c,d){a=$.getElement(a),a.removeEventListener(b,c,d)};if(window.detachEvent)return function(a,b,c,d){a=$.getElement(a),a.detachEvent("on"+b,c)};throw new Error("No known event model.")}(),cancelEvent:function(a){a=$.getEvent(a),a.preventDefault?$.cancelEvent=function(a){a.preventDefault()}:$.cancelEvent=function(a){a=$.getEvent(a),a.cancel=!0,a.returnValue=!1},$.cancelEvent(a)},stopEvent:function(a){a=$.getEvent(a),a.stopPropagation?$.stopEvent=function(a){a.stopPropagation()}:$.stopEvent=function(a){a=$.getEvent(a),a.cancelBubble=!0},$.stopEvent(a)},createCallback:function(a,b){var c,d=[];for(c=2;c<arguments.length;c++)d.push(arguments[c]);return function(){var c,e=d.concat([]);for(c=0;c<arguments.length;c++)e.push(arguments[c]);return b.apply(a,e)}},getUrlParameter:function(a){var b=URLPARAMS[a];return b||null},getUrlProtocol:function(a){var b=a.match(/^([a-z]+:)\/\//i);return null===b?window.location.protocol:b[1].toLowerCase()},createAjaxRequest:function(a){var b;try{b=!!new ActiveXObject("Microsoft.XMLHTTP")}catch(c){b=!1}if(b)window.XMLHttpRequest?$.createAjaxRequest=function(a){return a?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:$.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else{if(!window.XMLHttpRequest)throw new Error("Browser doesn't support XMLHttpRequest.");$.createAjaxRequest=function(){return new XMLHttpRequest}}return $.createAjaxRequest(a)},makeAjaxRequest:function(a,b,c){var d,e,f;$.isPlainObject(a)&&(b=a.success,c=a.error,d=a.withCredentials,e=a.headers,f=a.responseType||null,a=a.url);var g=$.getUrlProtocol(a),h=$.createAjaxRequest("file:"===g);if(!$.isFunction(b))throw new Error("makeAjaxRequest requires a success callback");h.onreadystatechange=function(){4==h.readyState&&(h.onreadystatechange=function(){},h.status>=200&&h.status<300||0===h.status&&"http:"!==g&&"https:"!==g?b(h):($.console.log("AJAX request returned %d: %s",h.status,a),$.isFunction(c)&&c(h)))};try{if(h.open("GET",a,!0),f&&(h.responseType=f),e)for(var i in e)e.hasOwnProperty(i)&&e[i]&&h.setRequestHeader(i,e[i]);d&&(h.withCredentials=!0),h.send(null)}catch(m){var j=m.message,k=$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<10;if(k&&void 0!==m.number&&-2147024891==m.number&&(j+="\nSee http://msdn.microsoft.com/en-us/library/ms537505(v=vs.85).aspx#xdomain"),$.console.log("%s while making AJAX request: %s",m.name,j),h.onreadystatechange=function(){},window.XDomainRequest){var l=new XDomainRequest;if(l){l.onload=function(a){$.isFunction(b)&&b({responseText:l.responseText,status:200,statusText:"OK"})},l.onerror=function(a){$.isFunction(c)&&c({responseText:l.responseText,status:444,statusText:"An error happened. Due to an XDomainRequest deficiency we can not extract any information about this error. Upgrade your browser."})};try{l.open("GET",a),l.send()}catch(n){$.isFunction(c)&&c(h,m)}}}else $.isFunction(c)&&c(h,m)}return h},jsonp:function(a){var b,c=a.url,d=document.head||document.getElementsByTagName("head")[0]||document.documentElement,e=a.callbackName||"openseadragon"+$.now(),f=window[e],g="$1"+e+"$2",h=a.param||"callback",i=a.callback;c=c.replace(/(\=)\?(&|$)|\?\?/i,g),c+=(/\?/.test(c)?"&":"?")+h+"="+e,window[e]=function(a){if(f)window[e]=f;else try{delete window[e]}catch(b){}i&&$.isFunction(i)&&i(a)},b=document.createElement("script"),void 0===a.async&&!1===a.async||(b.async="async"),a.scriptCharset&&(b.charset=a.scriptCharset),b.src=c,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,d&&b.parentNode&&d.removeChild(b),b=void 0)},d.insertBefore(b,d.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(a){if(window.DOMParser)$.parseXml=function(a){var b;return b=new DOMParser,b.parseFromString(a,"text/xml")};else{if(!window.ActiveXObject)throw new Error("Browser doesn't support XML DOM.");$.parseXml=function(a){var b=null;return b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a),b}}return $.parseXml(a)},parseJSON:function(string){return window.JSON&&window.JSON.parse?$.parseJSON=window.JSON.parse:$.parseJSON=function(string){return eval("("+string+")")},$.parseJSON(string)},imageFormatSupported:function(a){return a=a||"",!!FILEFORMATS[a.toLowerCase()]}}),$.Browser={vendor:$.BROWSERS.UNKNOWN,version:0,alpha:!0};var FILEFORMATS={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},URLPARAMS={};!function(){var a,b=navigator.appVersion,c=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(c.substring(c.indexOf("MSIE")+5,c.indexOf(";",c.indexOf("MSIE")))));break;case"Netscape":
window.addEventListener&&(c.indexOf("Firefox")>=0?($.Browser.vendor=$.BROWSERS.FIREFOX,$.Browser.version=parseFloat(c.substring(c.indexOf("Firefox")+8))):c.indexOf("Safari")>=0?($.Browser.vendor=c.indexOf("Chrome")>=0?$.BROWSERS.CHROME:$.BROWSERS.SAFARI,$.Browser.version=parseFloat(c.substring(c.substring(0,c.indexOf("Safari")).lastIndexOf("/")+1,c.indexOf("Safari")))):(a=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),null!==a.exec(c)&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":$.Browser.vendor=$.BROWSERS.OPERA,$.Browser.version=parseFloat(b)}var d,e,f,g=window.location.search.substring(1),h=g.split("&");for(f=0;f<h.length;f++)d=h[f],(e=d.indexOf("="))>0&&(URLPARAMS[d.substring(0,e)]=decodeURIComponent(d.substring(e+1)));$.Browser.alpha=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9||$.Browser.vendor==$.BROWSERS.CHROME&&$.Browser.version<2),$.Browser.opacity=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9)}();var nullfunction=function(a){};$.console=window.console||{log:nullfunction,debug:nullfunction,info:nullfunction,warn:nullfunction,error:nullfunction,assert:nullfunction},function(a){var b=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame,c=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.msCancelAnimationFrame;if(b&&c)$.requestAnimationFrame=function(){return b.apply(a,arguments)},$.cancelAnimationFrame=function(){return c.apply(a,arguments)};else{var d,e=[],f=[],g=0;$.requestAnimationFrame=function(a){return e.push([++g,a]),d||(d=setInterval(function(){if(e.length){var a=$.now(),b=f;for(f=e,e=b;f.length;)f.shift()[1](a)}else clearInterval(d),d=void 0},20)),g},$.cancelAnimationFrame=function(a){var b,c;for(b=0,c=e.length;b<c;b+=1)if(e[b][0]===a)return void e.splice(b,1);for(b=0,c=f.length;b<c;b+=1)if(f[b][0]===a)return void f.splice(b,1)}}}(window)}(OpenSeadragon),function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof module&&module.exports?module.exports=b():a.OpenSeadragon=b()}(this,function(){return OpenSeadragon}),function(a){var b={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(b.supportsFullScreen=!0,b.getFullScreenElement=function(){return document.fullscreenElement},b.requestFullScreen=function(a){return a.requestFullscreen()},b.exitFullScreen=function(){document.exitFullscreen()},b.fullScreenEventName="fullscreenchange",b.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(b.supportsFullScreen=!0,b.getFullScreenElement=function(){return document.msFullscreenElement},b.requestFullScreen=function(a){return a.msRequestFullscreen()},b.exitFullScreen=function(){document.msExitFullscreen()},b.fullScreenEventName="MSFullscreenChange",b.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(b.supportsFullScreen=!0,b.getFullScreenElement=function(){return document.webkitFullscreenElement},b.requestFullScreen=function(a){return a.webkitRequestFullscreen()},b.exitFullScreen=function(){document.webkitExitFullscreen()},b.fullScreenEventName="webkitfullscreenchange",b.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(b.supportsFullScreen=!0,b.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},b.requestFullScreen=function(a){return a.webkitRequestFullScreen()},b.exitFullScreen=function(){document.webkitCancelFullScreen()},b.fullScreenEventName="webkitfullscreenchange",b.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(b.supportsFullScreen=!0,b.getFullScreenElement=function(){return document.mozFullScreenElement},b.requestFullScreen=function(a){return a.mozRequestFullScreen()},b.exitFullScreen=function(){document.mozCancelFullScreen()},b.fullScreenEventName="mozfullscreenchange",b.fullScreenErrorEventName="mozfullscreenerror"),b.isFullScreen=function(){return null!==b.getFullScreenElement()},b.cancelFullScreen=function(){a.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),b.exitFullScreen()},a.extend(a,b)}(OpenSeadragon),function(a){a.EventSource=function(){this.events={}},a.EventSource.prototype={addOnceHandler:function(a,b,c,d){var e=this;d=d||1;var f=0,g=function(c){f++,f===d&&e.removeHandler(a,g),b(c)};this.addHandler(a,g,c)},addHandler:function(b,c,d){var e=this.events[b];e||(this.events[b]=e=[]),c&&a.isFunction(c)&&(e[e.length]={handler:c,userData:d||null})},removeHandler:function(b,c){var d,e=this.events[b],f=[];if(e&&a.isArray(e)){for(d=0;d<e.length;d++)e[d].handler!==c&&f.push(e[d]);this.events[b]=f}},removeAllHandlers:function(a){if(a)this.events[a]=[];else for(var b in this.events)this.events[b]=[]},getHandler:function(a){var b=this.events[a];return b&&b.length?(b=1===b.length?[b[0]]:Array.apply(null,b),function(a,c){var d,e=b.length;for(d=0;d<e;d++)b[d]&&(c.eventSource=a,c.userData=b[d].userData,b[d].handler(c))}):null},raiseEvent:function(a,b){var c=this.getHandler(a);c&&(b||(b={}),c(this,b))}}}(OpenSeadragon),function(a){function b(b){var c,d=pa[b.hash],e=d.activePointersLists.length;for(c=0;c<e;c++)d.activePointersLists[c].captureCount>0&&(a.removeEvent(a.MouseTracker.captureElement,"mousemove",d.mousemovecaptured,!0),a.removeEvent(a.MouseTracker.captureElement,"mouseup",d.mouseupcaptured,!0),a.removeEvent(a.MouseTracker.captureElement,a.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",d.pointermovecaptured,!0),a.removeEvent(a.MouseTracker.captureElement,a.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",d.pointerupcaptured,!0),a.removeEvent(a.MouseTracker.captureElement,"touchmove",d.touchmovecaptured,!0),a.removeEvent(a.MouseTracker.captureElement,"touchend",d.touchendcaptured,!0),d.activePointersLists[c].captureCount=0);for(c=0;c<e;c++)d.activePointersLists.pop()}function c(c){var d,e,f=pa[c.hash];if(!f.tracking){for(e=0;e<a.MouseTracker.subscribeEvents.length;e++)d=a.MouseTracker.subscribeEvents[e],a.addEvent(c.element,d,f[d],!1);b(c),f.tracking=!0}}function d(c){var d,e,f=pa[c.hash];if(f.tracking){for(e=0;e<a.MouseTracker.subscribeEvents.length;e++)d=a.MouseTracker.subscribeEvents[e],a.removeEvent(c.element,d,f[d],!1);b(c),f.tracking=!1}}function e(b,c){var d=pa[b.hash];if("pointerevent"===c)return{upName:a.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",upHandler:d.pointerupcaptured,moveName:a.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",moveHandler:d.pointermovecaptured};if("mouse"===c)return{upName:"mouseup",upHandler:d.mouseupcaptured,moveName:"mousemove",moveHandler:d.mousemovecaptured};if("touch"===c)return{upName:"touchend",upHandler:d.touchendcaptured,moveName:"touchmove",moveHandler:d.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function f(b,c,d){var f,g=b.getActivePointersListByType(c);g.captureCount+=d||1,1===g.captureCount&&(a.Browser.vendor===a.BROWSERS.IE&&a.Browser.version<9?b.element.setCapture(!0):(f=e(b,a.MouseTracker.havePointerEvents?"pointerevent":c),qa&&na(window.top)&&a.addEvent(window.top,f.upName,f.upHandler,!0),a.addEvent(a.MouseTracker.captureElement,f.upName,f.upHandler,!0),a.addEvent(a.MouseTracker.captureElement,f.moveName,f.moveHandler,!0)))}function g(b,c,d){var f,g=b.getActivePointersListByType(c);g.captureCount-=d||1,0===g.captureCount&&(a.Browser.vendor===a.BROWSERS.IE&&a.Browser.version<9?b.element.releaseCapture():(f=e(b,a.MouseTracker.havePointerEvents?"pointerevent":c),qa&&na(window.top)&&a.removeEvent(window.top,f.upName,f.upHandler,!0),a.removeEvent(a.MouseTracker.captureElement,f.moveName,f.moveHandler,!0),a.removeEvent(a.MouseTracker.captureElement,f.upName,f.upHandler,!0)))}function h(b){var c;if(a.MouseTracker.unprefixedPointerEvents)c=b.pointerType;else switch(b.pointerType){case 2:c="touch";break;case 3:c="pen";break;case 4:c="mouse";break;default:c=""}return c}function i(b){return a.getMousePosition(b)}function j(a,b){return k(i(a),b)}function k(b,c){var d=a.getElementOffset(c);return b.minus(d)}function l(b,c){return new a.Point((b.x+c.x)/2,(b.y+c.y)/2)}function m(b,c){b.clickHandler&&a.cancelEvent(c)}function n(b,c){b.dblClickHandler&&a.cancelEvent(c)}function o(b,c){b.keyDownHandler&&(c=a.getEvent(c),b.keyDownHandler({eventSource:b,keyCode:c.keyCode?c.keyCode:c.charCode,ctrl:c.ctrlKey,shift:c.shiftKey,alt:c.altKey,meta:c.metaKey,originalEvent:c,preventDefaultAction:!1,userData:b.userData})||a.cancelEvent(c))}function p(b,c){b.keyUpHandler&&(c=a.getEvent(c),b.keyUpHandler({eventSource:b,keyCode:c.keyCode?c.keyCode:c.charCode,ctrl:c.ctrlKey,shift:c.shiftKey,alt:c.altKey,meta:c.metaKey,originalEvent:c,preventDefaultAction:!1,userData:b.userData})||a.cancelEvent(c))}function q(b,c){b.keyHandler&&(c=a.getEvent(c),b.keyHandler({eventSource:b,keyCode:c.keyCode?c.keyCode:c.charCode,ctrl:c.ctrlKey,shift:c.shiftKey,alt:c.altKey,meta:c.metaKey,originalEvent:c,preventDefaultAction:!1,userData:b.userData})||a.cancelEvent(c))}function r(b,c){b.focusHandler&&(c=a.getEvent(c),!1===b.focusHandler({eventSource:b,originalEvent:c,preventDefaultAction:!1,userData:b.userData})&&a.cancelEvent(c))}function s(b,c){b.blurHandler&&(c=a.getEvent(c),!1===b.blurHandler({eventSource:b,originalEvent:c,preventDefaultAction:!1,userData:b.userData})&&a.cancelEvent(c))}function t(a,b){v(a,b,b)}function u(b,c){c=a.getEvent(c);var d={target:c.target||c.srcElement,type:"wheel",shiftKey:c.shiftKey||!1,clientX:c.clientX,clientY:c.clientY,pageX:c.pageX?c.pageX:c.clientX,pageY:c.pageY?c.pageY:c.clientY,deltaMode:"MozMousePixelScroll"==c.type?0:1,deltaX:0,deltaZ:0};"mousewheel"==a.MouseTracker.wheelEventName?d.deltaY=-c.wheelDelta/a.DEFAULT_SETTINGS.pixelsPerWheelLine:d.deltaY=c.detail,v(b,d,c)}function v(b,c,d){var e=0;e=c.deltaY<0?1:-1,b.scrollHandler&&!1===b.scrollHandler({eventSource:b,pointerType:"mouse",position:j(c,b.element),scroll:e,shift:c.shiftKey,isTouchEvent:!1,originalEvent:d,preventDefaultAction:!1,userData:b.userData})&&a.cancelEvent(d)}function w(a,b){if(a===b)return!1;for(;b&&b!==a;)b=b.parentNode;return b===a}function x(b,c){c=a.getEvent(c),z(b,c)}function y(b,c){c=a.getEvent(c),c.currentTarget===c.relatedTarget||w(c.currentTarget,c.relatedTarget)||z(b,c)}function z(b,c){ga(b,c,[{id:a.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:i(c),currentTime:a.now()}])}function A(b,c){c=a.getEvent(c),C(b,c)}function B(b,c){c=a.getEvent(c),c.currentTarget===c.relatedTarget||w(c.currentTarget,c.relatedTarget)||C(b,c)}function C(b,c){ha(b,c,[{id:a.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:i(c),currentTime:a.now()}])}function D(b){return a.Browser.vendor===a.BROWSERS.IE&&a.Browser.version<9?1===b?0:2===b?2:4===b?1:-1:b}function E(b,c){var d;c=a.getEvent(c),d={id:a.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:i(c),currentTime:a.now()},ia(b,c,[d],D(c.button))&&(a.stopEvent(c),f(b,"mouse")),(b.clickHandler||b.dblClickHandler||b.pressHandler||b.dragHandler||b.dragEndHandler)&&a.cancelEvent(c)}function F(a,b){H(a,b)}function G(b,c){H(b,c),a.stopEvent(c)}function H(b,c){var d;c=a.getEvent(c),d={id:a.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:i(c),currentTime:a.now()},ja(b,c,[d],D(c.button))&&g(b,"mouse")}function I(a,b){K(a,b)}function J(b,c){K(b,c),a.stopEvent(c)}function K(b,c){var d;c=a.getEvent(c),d={id:a.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:i(c),currentTime:a.now()},ka(b,c,[d])}function L(a,b,c){var d,e=c.getLength(),f=[];if("touch"===c.type||c.contacts>0){for(d=0;d<e;d++)f.push(c.getByIndex(d));f.length>0&&(ja(a,b,f,0),c.captureCount=1,g(a,c.type),ha(a,b,f))}}function M(b,c){var d,e,g,h,j=c.changedTouches.length,k=[],l=b.getActivePointersListByType("touch");for(d=a.now(),l.getLength()>c.touches.length-j&&(a.console.warn("Tracked touch contact count doesn't match event.touches.length. Removing all tracked touch pointers."),L(b,c,l)),e=0;e<j;e++)k.push({id:c.changedTouches[e].identifier,type:"touch",currentPos:i(c.changedTouches[e]),currentTime:d});for(ga(b,c,k),e=0;e<oa.length;e++)if(oa[e]!==b&&oa[e].isTracking()&&w(oa[e].element,b.element)){for(h=[],g=0;g<j;g++)h.push({id:c.changedTouches[g].identifier,type:"touch",currentPos:i(c.changedTouches[g]),currentTime:d});ga(oa[e],c,h)}ia(b,c,k,0)&&(a.stopEvent(c),f(b,"touch",j)),a.cancelEvent(c)}function N(a,b){P(a,b)}function O(b,c){P(b,c),a.stopEvent(c)}function P(b,c){var d,e,f,h,j=c.changedTouches.length,k=[];for(d=a.now(),e=0;e<j;e++)k.push({id:c.changedTouches[e].identifier,type:"touch",currentPos:i(c.changedTouches[e]),currentTime:d});for(ja(b,c,k,0)&&g(b,"touch",j),ha(b,c,k),e=0;e<oa.length;e++)if(oa[e]!==b&&oa[e].isTracking()&&w(oa[e].element,b.element)){for(h=[],f=0;f<j;f++)h.push({id:c.changedTouches[f].identifier,type:"touch",currentPos:i(c.changedTouches[f]),currentTime:d});ha(oa[e],c,h)}a.cancelEvent(c)}function Q(a,b){S(a,b)}function R(b,c){S(b,c),a.stopEvent(c)}function S(b,c){var d,e=c.changedTouches.length,f=[];for(d=0;d<e;d++)f.push({id:c.changedTouches[d].identifier,type:"touch",currentPos:i(c.changedTouches[d]),currentTime:a.now()});ka(b,c,f),a.cancelEvent(c)}function T(a,b){L(a,b,a.getActivePointersListByType("touch"))}function U(a,b){return b.stopPropagation(),b.preventDefault(),!1}function V(a,b){return b.stopPropagation(),b.preventDefault(),!1}function W(b,c){var d;c.currentTarget===c.relatedTarget||w(c.currentTarget,c.relatedTarget)||(d={id:c.pointerId,type:h(c),isPrimary:c.isPrimary,currentPos:i(c),currentTime:a.now()},ga(b,c,[d]))}function X(b,c){var d;c.currentTarget===c.relatedTarget||w(c.currentTarget,c.relatedTarget)||(d={id:c.pointerId,type:h(c),isPrimary:c.isPrimary,currentPos:i(c),currentTime:a.now()},ha(b,c,[d]))}function Y(b,c){var d;d={id:c.pointerId,type:h(c),isPrimary:c.isPrimary,currentPos:i(c),currentTime:a.now()},ia(b,c,[d],c.button)&&(a.stopEvent(c),f(b,d.type)),(b.clickHandler||b.dblClickHandler||b.pressHandler||b.dragHandler||b.dragEndHandler||b.pinchHandler)&&a.cancelEvent(c)}function Z(a,b){_(a,b)}function $(b,c){b.getActivePointersListByType(h(c)).getById(c.pointerId)&&_(b,c),a.stopEvent(c)}function _(b,c){var d;d={id:c.pointerId,type:h(c),isPrimary:c.isPrimary,currentPos:i(c),currentTime:a.now()},ja(b,c,[d],c.button)&&g(b,d.type)}function aa(a,b){ca(a,b)}function ba(b,c){b.getActivePointersListByType(h(c)).getById(c.pointerId)&&ca(b,c),a.stopEvent(c)}function ca(b,c){var d;d={id:c.pointerId,type:h(c),isPrimary:c.isPrimary,currentPos:i(c),currentTime:a.now()},ka(b,c,[d])}function da(a,b){var c;c={id:b.pointerId,type:h(b)},la(a,b,[c])}function ea(a,b){return b.hasOwnProperty("isPrimary")||(0===a.getLength()?b.isPrimary=!0:b.isPrimary=!1),b.speed=0,b.direction=0,b.contactPos=b.currentPos,b.contactTime=b.currentTime,b.lastPos=b.currentPos,b.lastTime=b.currentTime,a.add(b)}function fa(a,b){var c,d;return a.getById(b.id)?(c=a.removeById(b.id),b.hasOwnProperty("isPrimary")||(d=a.getPrimary())||(d=a.getByIndex(0))&&(d.isPrimary=!0)):c=a.getLength(),c}function ga(b,c,d){var e,f,g,h=b.getActivePointersListByType(d[0].type),i=d.length;for(e=0;e<i;e++)f=d[e],g=h.getById(f.id),g?(g.insideElement=!0,g.lastPos=g.currentPos,g.lastTime=g.currentTime,g.currentPos=f.currentPos,g.currentTime=f.currentTime,f=g):(f.captured=!1,f.insideElementPressed=!1,f.insideElement=!0,ea(h,f)),b.enterHandler&&!1===b.enterHandler({eventSource:b,pointerType:f.type,position:k(f.currentPos,b.element),buttons:h.buttons,pointers:b.getActivePointerCount(),insideElementPressed:f.insideElementPressed,buttonDownAny:0!==h.buttons,isTouchEvent:"touch"===f.type,originalEvent:c,preventDefaultAction:!1,userData:b.userData})&&a.cancelEvent(c)}function ha(b,c,d){var e,f,g,h=b.getActivePointersListByType(d[0].type),i=d.length;for(e=0;e<i;e++)f=d[e],g=h.getById(f.id),g&&(g.captured?(g.insideElement=!1,g.lastPos=g.currentPos,g.lastTime=g.currentTime,g.currentPos=f.currentPos,g.currentTime=f.currentTime):fa(h,g),f=g),b.exitHandler&&!1===b.exitHandler({eventSource:b,pointerType:f.type,position:k(f.currentPos,b.element),buttons:h.buttons,pointers:b.getActivePointerCount(),insideElementPressed:!!g&&g.insideElementPressed,buttonDownAny:0!==h.buttons,isTouchEvent:"touch"===f.type,originalEvent:c,preventDefaultAction:!1,userData:b.userData})&&a.cancelEvent(c)}function ia(b,c,d,e){var f,g,h,i=pa[b.hash],j=b.getActivePointersListByType(d[0].type),m=d.length;void 0!==c.buttons?j.buttons=c.buttons:a.Browser.vendor===a.BROWSERS.IE&&a.Browser.version<9?0===e?j.buttons+=1:1===e?j.buttons+=4:2===e?j.buttons+=2:3===e?j.buttons+=8:4===e?j.buttons+=16:5===e&&(j.buttons+=32):0===e?j.buttons|=1:1===e?j.buttons|=4:2===e?j.buttons|=2:3===e?j.buttons|=8:4===e?j.buttons|=16:5===e&&(j.buttons|=32);var n=b.getActivePointersListsExceptType(d[0].type);for(f=0;f<n.length;f++)L(b,c,n[f]);if(0!==e)return b.nonPrimaryPressHandler&&!1===b.nonPrimaryPressHandler({eventSource:b,pointerType:d[0].type,position:k(d[0].currentPos,b.element),button:e,buttons:j.buttons,isTouchEvent:"touch"===d[0].type,originalEvent:c,preventDefaultAction:!1,userData:b.userData})&&a.cancelEvent(c),!1;for(f=0;f<m;f++)g=d[f],h=j.getById(g.id),h?(h.captured=!0,h.insideElementPressed=!0,h.insideElement=!0,h.contactPos=g.currentPos,h.contactTime=g.currentTime,h.lastPos=h.currentPos,h.lastTime=h.currentTime,h.currentPos=g.currentPos,h.currentTime=g.currentTime,g=h):(g.captured=!0,g.insideElementPressed=!0,g.insideElement=!0,ea(j,g)),j.addContact(),(b.dragHandler||b.dragEndHandler||b.pinchHandler)&&a.MouseTracker.gesturePointVelocityTracker.addPoint(b,g),1===j.contacts?b.pressHandler&&!1===b.pressHandler({eventSource:b,pointerType:g.type,position:k(g.contactPos,b.element),buttons:j.buttons,isTouchEvent:"touch"===g.type,originalEvent:c,preventDefaultAction:!1,userData:b.userData})&&a.cancelEvent(c):2===j.contacts&&b.pinchHandler&&"touch"===g.type&&(i.pinchGPoints=j.asArray(),i.lastPinchDist=i.currentPinchDist=i.pinchGPoints[0].currentPos.distanceTo(i.pinchGPoints[1].currentPos),i.lastPinchCenter=i.currentPinchCenter=l(i.pinchGPoints[0].currentPos,i.pinchGPoints[1].currentPos));return!0}function ja(b,c,d,e){var f,g,h,i,j,m,n=pa[b.hash],o=b.getActivePointersListByType(d[0].type),p=d.length,q=!1,r=!1;if(void 0!==c.buttons?o.buttons=c.buttons:a.Browser.vendor===a.BROWSERS.IE&&a.Browser.version<9?0===e?o.buttons-=1:1===e?o.buttons-=4:2===e?o.buttons-=2:3===e?o.buttons-=8:4===e?o.buttons-=16:5===e&&(o.buttons-=32):0===e?o.buttons^=-2:1===e?o.buttons^=-5:2===e?o.buttons^=-3:3===e?o.buttons^=-9:4===e?o.buttons^=-17:5===e&&(o.buttons^=-33),0!==e){b.nonPrimaryReleaseHandler&&!1===b.nonPrimaryReleaseHandler({eventSource:b,pointerType:d[0].type,position:k(d[0].currentPos,b.element),button:e,buttons:o.buttons,isTouchEvent:"touch"===d[0].type,originalEvent:c,preventDefaultAction:!1,userData:b.userData})&&a.cancelEvent(c);return L(b,c,b.getActivePointersListByType("mouse")),!1}for(h=0;h<p;h++)i=d[h],(j=o.getById(i.id))&&(j.captured&&(j.captured=!1,q=!0,r=!0),j.lastPos=j.currentPos,j.lastTime=j.currentTime,j.currentPos=i.currentPos,j.currentTime=i.currentTime,j.insideElement||fa(o,j),f=j.currentPos,g=j.currentTime,r?(o.removeContact(),(b.dragHandler||b.dragEndHandler||b.pinchHandler)&&a.MouseTracker.gesturePointVelocityTracker.removePoint(b,j),0===o.contacts?(b.releaseHandler&&!1===b.releaseHandler({eventSource:b,pointerType:j.type,position:k(f,b.element),buttons:o.buttons,insideElementPressed:j.insideElementPressed,insideElementReleased:j.insideElement,isTouchEvent:"touch"===j.type,originalEvent:c,preventDefaultAction:!1,userData:b.userData})&&a.cancelEvent(c),b.dragEndHandler&&!j.currentPos.equals(j.contactPos)&&!1===b.dragEndHandler({eventSource:b,pointerType:j.type,position:k(j.currentPos,b.element),speed:j.speed,direction:j.direction,shift:c.shiftKey,isTouchEvent:"touch"===j.type,originalEvent:c,preventDefaultAction:!1,userData:b.userData})&&a.cancelEvent(c),(b.clickHandler||b.dblClickHandler)&&j.insideElement&&(m=g-j.contactTime<=b.clickTimeThreshold&&j.contactPos.distanceTo(f)<=b.clickDistThreshold,b.clickHandler&&!1===b.clickHandler({eventSource:b,pointerType:j.type,position:k(j.currentPos,b.element),quick:m,shift:c.shiftKey,isTouchEvent:"touch"===j.type,originalEvent:c,preventDefaultAction:!1,userData:b.userData})&&a.cancelEvent(c),b.dblClickHandler&&m&&(o.clicks++,1===o.clicks?(n.lastClickPos=f,n.dblClickTimeOut=setTimeout(function(){o.clicks=0},b.dblClickTimeThreshold)):2===o.clicks&&(clearTimeout(n.dblClickTimeOut),o.clicks=0,n.lastClickPos.distanceTo(f)<=b.dblClickDistThreshold&&!1===b.dblClickHandler({eventSource:b,pointerType:j.type,position:k(j.currentPos,b.element),shift:c.shiftKey,isTouchEvent:"touch"===j.type,originalEvent:c,preventDefaultAction:!1,userData:b.userData})&&a.cancelEvent(c),n.lastClickPos=null)))):2===o.contacts&&b.pinchHandler&&"touch"===j.type&&(n.pinchGPoints=o.asArray(),n.lastPinchDist=n.currentPinchDist=n.pinchGPoints[0].currentPos.distanceTo(n.pinchGPoints[1].currentPos),n.lastPinchCenter=n.currentPinchCenter=l(n.pinchGPoints[0].currentPos,n.pinchGPoints[1].currentPos))):b.releaseHandler&&!1===b.releaseHandler({eventSource:b,pointerType:j.type,position:k(f,b.element),buttons:o.buttons,insideElementPressed:j.insideElementPressed,insideElementReleased:j.insideElement,isTouchEvent:"touch"===j.type,originalEvent:c,preventDefaultAction:!1,userData:b.userData})&&a.cancelEvent(c));return q}function ka(b,c,d){var e,f,g,h,i,j=pa[b.hash],m=b.getActivePointersListByType(d[0].type),n=d.length;for(void 0!==c.buttons&&(m.buttons=c.buttons),e=0;e<n;e++)f=d[e],g=m.getById(f.id),g?(f.hasOwnProperty("isPrimary")&&(g.isPrimary=f.isPrimary),g.lastPos=g.currentPos,g.lastTime=g.currentTime,g.currentPos=f.currentPos,g.currentTime=f.currentTime):(f.captured=!1,f.insideElementPressed=!1,f.insideElement=!0,ea(m,f));b.stopHandler&&"mouse"===d[0].type&&(clearTimeout(b.stopTimeOut),b.stopTimeOut=setTimeout(function(){ma(b,c,d[0].type)},b.stopDelay)),0===m.contacts?b.moveHandler&&!1===b.moveHandler({eventSource:b,pointerType:d[0].type,position:k(d[0].currentPos,b.element),buttons:m.buttons,isTouchEvent:"touch"===d[0].type,originalEvent:c,preventDefaultAction:!1,userData:b.userData})&&a.cancelEvent(c):1===m.contacts?(b.moveHandler&&(g=m.asArray()[0],!1===b.moveHandler({eventSource:b,pointerType:g.type,position:k(g.currentPos,b.element),buttons:m.buttons,isTouchEvent:"touch"===g.type,originalEvent:c,preventDefaultAction:!1,userData:b.userData})&&a.cancelEvent(c)),b.dragHandler&&(g=m.asArray()[0],i=g.currentPos.minus(g.lastPos),!1===b.dragHandler({eventSource:b,pointerType:g.type,position:k(g.currentPos,b.element),buttons:m.buttons,delta:i,speed:g.speed,direction:g.direction,shift:c.shiftKey,isTouchEvent:"touch"===g.type,originalEvent:c,preventDefaultAction:!1,userData:b.userData})&&a.cancelEvent(c))):2===m.contacts&&(b.moveHandler&&(h=m.asArray(),!1===b.moveHandler({eventSource:b,pointerType:h[0].type,position:k(l(h[0].currentPos,h[1].currentPos),b.element),buttons:m.buttons,isTouchEvent:"touch"===h[0].type,originalEvent:c,preventDefaultAction:!1,userData:b.userData})&&a.cancelEvent(c)),b.pinchHandler&&"touch"===d[0].type&&(i=j.pinchGPoints[0].currentPos.distanceTo(j.pinchGPoints[1].currentPos))!=j.currentPinchDist&&(j.lastPinchDist=j.currentPinchDist,j.currentPinchDist=i,j.lastPinchCenter=j.currentPinchCenter,j.currentPinchCenter=l(j.pinchGPoints[0].currentPos,j.pinchGPoints[1].currentPos),!1===b.pinchHandler({eventSource:b,pointerType:"touch",gesturePoints:j.pinchGPoints,lastCenter:k(j.lastPinchCenter,b.element),center:k(j.currentPinchCenter,b.element),lastDistance:j.lastPinchDist,distance:j.currentPinchDist,shift:c.shiftKey,originalEvent:c,preventDefaultAction:!1,userData:b.userData})&&a.cancelEvent(c)))}function la(a,b,c){ja(a,b,c,0),ha(a,b,c)}function ma(a,b,c){a.stopHandler&&a.stopHandler({eventSource:a,pointerType:c,position:j(b,a.element),buttons:a.getActivePointersListByType(c).buttons,isTouchEvent:"touch"===c,originalEvent:b,preventDefaultAction:!1,userData:a.userData})}function na(a){try{return a.addEventListener&&a.removeEventListener}catch(b){return!1}}var oa=[],pa={};a.MouseTracker=function(b){oa.push(this);var c=arguments;a.isPlainObject(b)||(b={element:c[0],clickTimeThreshold:c[1],clickDistThreshold:c[2]}),this.hash=Math.random(),this.element=a.getElement(b.element),this.clickTimeThreshold=b.clickTimeThreshold||a.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=b.clickDistThreshold||a.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=b.dblClickTimeThreshold||a.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=b.dblClickDistThreshold||a.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=b.userData||null,this.stopDelay=b.stopDelay||50,this.enterHandler=b.enterHandler||null,this.exitHandler=b.exitHandler||null,this.pressHandler=b.pressHandler||null,this.nonPrimaryPressHandler=b.nonPrimaryPressHandler||null,this.releaseHandler=b.releaseHandler||null,this.nonPrimaryReleaseHandler=b.nonPrimaryReleaseHandler||null,this.moveHandler=b.moveHandler||null,this.scrollHandler=b.scrollHandler||null,this.clickHandler=b.clickHandler||null,this.dblClickHandler=b.dblClickHandler||null,this.dragHandler=b.dragHandler||null,this.dragEndHandler=b.dragEndHandler||null,this.pinchHandler=b.pinchHandler||null,this.stopHandler=b.stopHandler||null,this.keyDownHandler=b.keyDownHandler||null,this.keyUpHandler=b.keyUpHandler||null,this.keyHandler=b.keyHandler||null,this.focusHandler=b.focusHandler||null,this.blurHandler=b.blurHandler||null;var d=this;pa[this.hash]={click:function(a){m(d,a)},dblclick:function(a){n(d,a)},keydown:function(a){o(d,a)},keyup:function(a){p(d,a)},keypress:function(a){q(d,a)},focus:function(a){r(d,a)},blur:function(a){s(d,a)},wheel:function(a){t(d,a)},mousewheel:function(a){u(d,a)},DOMMouseScroll:function(a){u(d,a)},MozMousePixelScroll:function(a){u(d,a)},mouseenter:function(a){x(d,a)},mouseleave:function(a){A(d,a)},mouseover:function(a){y(d,a)},mouseout:function(a){B(d,a)},mousedown:function(a){E(d,a)},mouseup:function(a){F(d,a)},mouseupcaptured:function(a){G(d,a)},mousemove:function(a){I(d,a)},mousemovecaptured:function(a){J(d,a)},touchstart:function(a){M(d,a)},touchend:function(a){N(d,a)},touchendcaptured:function(a){O(d,a)},touchmove:function(a){Q(d,a)},touchmovecaptured:function(a){R(d,a)},touchcancel:function(a){T(d,a)},gesturestart:function(a){U(d,a)},gesturechange:function(a){V(d,a)},pointerover:function(a){W(d,a)},MSPointerOver:function(a){W(d,a)},pointerout:function(a){X(d,a)},MSPointerOut:function(a){X(d,a)},pointerdown:function(a){Y(d,a)},MSPointerDown:function(a){Y(d,a)},pointerup:function(a){Z(d,a)},MSPointerUp:function(a){Z(d,a)},pointermove:function(a){aa(d,a)},MSPointerMove:function(a){aa(d,a)},pointercancel:function(a){da(d,a)},MSPointerCancel:function(a){da(d,a)},pointerupcaptured:function(a){$(d,a)},pointermovecaptured:function(a){ba(d,a)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null},b.startDisabled||this.setTracking(!0)},a.MouseTracker.prototype={destroy:function(){var a;for(d(this),this.element=null,a=0;a<oa.length;a++)if(oa[a]===this){oa.splice(a,1);break}pa[this.hash]=null,delete pa[this.hash]},isTracking:function(){return pa[this.hash].tracking},setTracking:function(a){return a?c(this):d(this),this},getActivePointersListsExceptType:function(a){for(var b=pa[this.hash],c=[],d=0;d<b.activePointersLists.length;++d)b.activePointersLists[d].type!==a&&c.push(b.activePointersLists[d]);return c},getActivePointersListByType:function(b){var c,d,e=pa[this.hash],f=e.activePointersLists.length;for(c=0;c<f;c++)if(e.activePointersLists[c].type===b)return e.activePointersLists[c];return d=new a.MouseTracker.GesturePointList(b),e.activePointersLists.push(d),d},getActivePointerCount:function(){var a,b=pa[this.hash],c=b.activePointersLists.length,d=0;for(a=0;a<c;a++)d+=b.activePointersLists[a].getLength();return d},enterHandler:function(){},exitHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}},a.MouseTracker.resetAllMouseTrackers=function(){for(var a=0;a<oa.length;a++)oa[a].isTracking()&&(oa[a].setTracking(!1),oa[a].setTracking(!0))},a.MouseTracker.gesturePointVelocityTracker=function(){var b=[],c=0,d=0,e=function(a,b){return a.hash.toString()+b.type+b.id.toString()},f=function(){var c,e,f,g,h,i,j=b.length,k=a.now();for(g=k-d,d=k,c=0;c<j;c++)e=b[c],f=e.gPoint,f.direction=Math.atan2(f.currentPos.y-e.lastPos.y,f.currentPos.x-e.lastPos.x),h=e.lastPos.distanceTo(f.currentPos),e.lastPos=f.currentPos,i=1e3*h/(g+1),f.speed=.75*i+.25*f.speed};return{addPoint:function(g,h){var i=e(g,h);b.push({guid:i,gPoint:h,lastPos:h.currentPos}),1===b.length&&(d=a.now(),c=window.setInterval(f,50))},removePoint:function(a,d){var f,g=e(a,d),h=b.length;for(f=0;f<h;f++)if(b[f].guid===g){b.splice(f,1),0===--h&&window.clearInterval(c);break}}}}(),a.MouseTracker.captureElement=document,a.MouseTracker.wheelEventName=a.Browser.vendor==a.BROWSERS.IE&&a.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",a.MouseTracker.supportsMouseCapture=function(){var b=document.createElement("div");return a.isFunction(b.setCapture)&&a.isFunction(b.releaseCapture)}(),a.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur",a.MouseTracker.wheelEventName],"DOMMouseScroll"==a.MouseTracker.wheelEventName&&a.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent&&(window.navigator.pointerEnabled||a.Browser.vendor!==a.BROWSERS.IE)?(a.MouseTracker.havePointerEvents=!0,a.MouseTracker.subscribeEvents.push("pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),a.MouseTracker.unprefixedPointerEvents=!0,navigator.maxTouchPoints?a.MouseTracker.maxTouchPoints=navigator.maxTouchPoints:a.MouseTracker.maxTouchPoints=0,a.MouseTracker.haveMouseEnter=!1):window.MSPointerEvent&&window.navigator.msPointerEnabled?(a.MouseTracker.havePointerEvents=!0,a.MouseTracker.subscribeEvents.push("MSPointerOver","MSPointerOut","MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"),a.MouseTracker.unprefixedPointerEvents=!1,navigator.msMaxTouchPoints?a.MouseTracker.maxTouchPoints=navigator.msMaxTouchPoints:a.MouseTracker.maxTouchPoints=0,a.MouseTracker.haveMouseEnter=!1):(a.MouseTracker.havePointerEvents=!1,a.Browser.vendor===a.BROWSERS.IE&&a.Browser.version<9?(a.MouseTracker.subscribeEvents.push("mouseenter","mouseleave"),a.MouseTracker.haveMouseEnter=!0):(a.MouseTracker.subscribeEvents.push("mouseover","mouseout"),a.MouseTracker.haveMouseEnter=!1),a.MouseTracker.subscribeEvents.push("mousedown","mouseup","mousemove"),"ontouchstart"in window&&a.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&a.MouseTracker.subscribeEvents.push("gesturestart","gesturechange"),a.MouseTracker.mousePointerId="legacy-mouse",a.MouseTracker.maxTouchPoints=10),a.MouseTracker.GesturePointList=function(a){this._gPoints=[],this.type=a,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},a.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(a){
return this._gPoints.push(a)},removeById:function(a){var b,c=this._gPoints.length;for(b=0;b<c;b++)if(this._gPoints[b].id===a){this._gPoints.splice(b,1);break}return this._gPoints.length},getByIndex:function(a){return a<this._gPoints.length?this._gPoints[a]:null},getById:function(a){var b,c=this._gPoints.length;for(b=0;b<c;b++)if(this._gPoints[b].id===a)return this._gPoints[b];return null},getPrimary:function(a){var b,c=this._gPoints.length;for(b=0;b<c;b++)if(this._gPoints[b].isPrimary)return this._gPoints[b];return null},addContact:function(){++this.contacts>1&&("mouse"===this.type||"pen"===this.type)&&(this.contacts=1)},removeContact:function(){--this.contacts<0&&(this.contacts=0)}};var qa=function(){try{return window.self!==window.top}catch(a){return!0}}()}(OpenSeadragon),function(a){a.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},a.Control=function(b,c,d){var e=b.parentNode;"number"==typeof c&&(a.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),c={anchor:c}),c.attachToViewer=void 0===c.attachToViewer||c.attachToViewer,this.autoFade=void 0===c.autoFade||c.autoFade,this.element=b,this.anchor=c.anchor,this.container=d,this.anchor==a.ControlAnchor.ABSOLUTE?(this.wrapper=a.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top="number"==typeof c.top?c.top+"px":c.top,this.wrapper.style.left="number"==typeof c.left?c.left+"px":c.left,this.wrapper.style.height="number"==typeof c.height?c.height+"px":c.height,this.wrapper.style.width="number"==typeof c.width?c.width+"px":c.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=a.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor==a.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),c.attachToViewer?this.anchor==a.ControlAnchor.TOP_RIGHT||this.anchor==a.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):e.appendChild(this.wrapper)},a.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.container.removeChild(this.wrapper)},isVisible:function(){return"none"!=this.wrapper.style.display},setVisible:function(b){this.wrapper.style.display=b?this.anchor==a.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(b){this.element[a.SIGNAL]&&a.Browser.vendor==a.BROWSERS.IE?a.setElementOpacity(this.element,b,!0):a.setElementOpacity(this.wrapper,b,!0)}}}(OpenSeadragon),function(a){function b(a,b){var c,d=a.controls;for(c=d.length-1;c>=0;c--)if(d[c].element==b)return c;return-1}a.ControlDock=function(b){var c,d,e=["topleft","topright","bottomright","bottomleft"];for(a.extend(!0,this,{id:"controldock-"+a.now()+"-"+Math.floor(1e6*Math.random()),container:a.makeNeutralElement("div"),controls:[]},b),this.container.onsubmit=function(){return!1},this.element&&(this.element=a.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),d=0;d<e.length;d++)c=e[d],this.controls[c]=a.makeNeutralElement("div"),this.controls[c].style.position="absolute",c.match("left")&&(this.controls[c].style.left="0px"),c.match("right")&&(this.controls[c].style.right="0px"),c.match("top")&&(this.controls[c].style.top="0px"),c.match("bottom")&&(this.controls[c].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},a.ControlDock.prototype={addControl:function(c,d){c=a.getElement(c);var e=null;if(!(b(this,c)>=0)){switch(d.anchor){case a.ControlAnchor.TOP_RIGHT:e=this.controls.topright,c.style.position="relative",c.style.paddingRight="0px",c.style.paddingTop="0px";break;case a.ControlAnchor.BOTTOM_RIGHT:e=this.controls.bottomright,c.style.position="relative",c.style.paddingRight="0px",c.style.paddingBottom="0px";break;case a.ControlAnchor.BOTTOM_LEFT:e=this.controls.bottomleft,c.style.position="relative",c.style.paddingLeft="0px",c.style.paddingBottom="0px";break;case a.ControlAnchor.TOP_LEFT:e=this.controls.topleft,c.style.position="relative",c.style.paddingLeft="0px",c.style.paddingTop="0px";break;case a.ControlAnchor.ABSOLUTE:e=this.container,c.style.margin="0px",c.style.padding="0px";break;default:case a.ControlAnchor.NONE:e=this.container,c.style.margin="0px",c.style.padding="0px"}this.controls.push(new a.Control(c,d,e)),c.style.display="inline-block"}},removeControl:function(c){c=a.getElement(c);var d=b(this,c);return d>=0&&(this.controls[d].destroy(),this.controls.splice(d,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var a;for(a=this.controls.length-1;a>=0;a--)if(this.controls[a].isVisible())return!0;return!1},setControlsEnabled:function(a){var b;for(b=this.controls.length-1;b>=0;b--)this.controls[b].setVisible(a);return this}}}(OpenSeadragon),function(a){a.Placement=a.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(OpenSeadragon),function(a){function b(b){return b=a.getElement(b),new a.Point(0===b.clientWidth?1:b.clientWidth,0===b.clientHeight?1:b.clientHeight)}function c(b,c,d,e,f){function g(a,b){a.ready?e(a):(a.addHandler("ready",function(){e(a)}),a.addHandler("open-failed",function(a){f({message:a.message,source:b})}))}var h=b;if("string"==a.type(c))if(c.match(/^\s*<.*>\s*$/))c=a.parseXml(c);else if(c.match(/^\s*[\{\[].*[\}\]]\s*$/))try{var i=a.parseJSON(c);c=i}catch(j){}setTimeout(function(){if("string"==a.type(c))c=new a.TileSource({url:c,crossOriginPolicy:void 0!==d.crossOriginPolicy?d.crossOriginPolicy:b.crossOriginPolicy,ajaxWithCredentials:b.ajaxWithCredentials,ajaxHeaders:b.ajaxHeaders,useCanvas:b.useCanvas,success:function(a){e(a.tileSource)}}),c.addHandler("open-failed",function(a){f(a)});else if(a.isPlainObject(c)||c.nodeType)if(void 0!==c.crossOriginPolicy||void 0===d.crossOriginPolicy&&void 0===b.crossOriginPolicy||(c.crossOriginPolicy=void 0!==d.crossOriginPolicy?d.crossOriginPolicy:b.crossOriginPolicy),void 0===c.ajaxWithCredentials&&(c.ajaxWithCredentials=b.ajaxWithCredentials),void 0===c.useCanvas&&(c.useCanvas=b.useCanvas),a.isFunction(c.getTileUrl)){var i=new a.TileSource(c);i.getTileUrl=c.getTileUrl,e(i)}else{var j=a.TileSource.determineType(h,c);if(!j)return void f({message:"Unable to load TileSource",source:c});var k=j.prototype.configure.apply(h,[c]);g(new j(k),c)}else g(c,c)})}function d(b,c){if(c instanceof a.Overlay)return c;var d=null;if(c.element)d=a.getElement(c.element);else{var e=c.id?c.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());d=a.getElement(c.id),d||(d=document.createElement("a"),d.href="#/overlay/"+e),d.id=e,a.addClass(d,c.className?c.className:"openseadragon-overlay")}var f=c.location,g=c.width,h=c.height;if(!f){var i=c.x,j=c.y;if(void 0!==c.px){var k=b.viewport.imageToViewportRectangle(new a.Rect(c.px,c.py,g||0,h||0));i=k.x,j=k.y,g=void 0!==g?k.width:void 0,h=void 0!==h?k.height:void 0}f=new a.Point(i,j)}var l=c.placement;return l&&"string"===a.type(l)&&(l=a.Placement[c.placement.toUpperCase()]),new a.Overlay({element:d,location:f,placement:l,onDraw:c.onDraw,checkResize:c.checkResize,width:g,height:h,rotationMode:c.rotationMode})}function e(a,b){var c;for(c=a.length-1;c>=0;c--)if(a[c].element===b)return c;return-1}function f(b,c){return a.requestAnimationFrame(function(){c(b)})}function g(b){a.requestAnimationFrame(function(){i(b)})}function h(b){b.autoHideControls&&(b.controlsShouldFade=!0,b.controlsFadeBeginTime=a.now()+b.controlsFadeDelay,window.setTimeout(function(){g(b)},b.controlsFadeDelay))}function i(b){var c,d,e,f;if(b.controlsShouldFade){for(c=a.now(),d=c-b.controlsFadeBeginTime,e=1-d/b.controlsFadeLength,e=Math.min(1,e),e=Math.max(0,e),f=b.controls.length-1;f>=0;f--)b.controls[f].autoFade&&b.controls[f].setOpacity(e);e>0&&g(b)}}function j(a){var b;for(a.controlsShouldFade=!1,b=a.controls.length-1;b>=0;b--)a.controls[b].setOpacity(1)}function k(){j(this)}function l(){h(this)}function m(b){var c={originalEvent:b.originalEvent,preventDefaultAction:b.preventDefaultAction,preventVerticalPan:b.preventVerticalPan,preventHorizontalPan:b.preventHorizontalPan};if(this.raiseEvent("canvas-key",c),c.preventDefaultAction||b.ctrl||b.alt||b.meta)return!0;switch(b.keyCode){case 38:return c.preventVerticalPan||(b.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new a.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 40:return c.preventVerticalPan||(b.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new a.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 37:return c.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new a.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;case 39:return c.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new a.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;default:return!0}}function n(b){var c={originalEvent:b.originalEvent,preventDefaultAction:b.preventDefaultAction,preventVerticalPan:b.preventVerticalPan,preventHorizontalPan:b.preventHorizontalPan};if(this.raiseEvent("canvas-key",c),c.preventDefaultAction||b.ctrl||b.alt||b.meta)return!0;switch(b.keyCode){case 43:case 61:return this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),!1;case 45:return this.viewport.zoomBy(.9),this.viewport.applyConstraints(),!1;case 48:return this.viewport.goHome(),this.viewport.applyConstraints(),!1;case 119:case 87:return c.preventVerticalPan||(b.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new a.Point(0,-40))),this.viewport.applyConstraints()),!1;case 115:case 83:return c.preventVerticalPan||(b.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new a.Point(0,40))),this.viewport.applyConstraints()),!1;case 97:return c.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new a.Point(-40,0))),this.viewport.applyConstraints()),!1;case 100:return c.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new a.Point(40,0))),this.viewport.applyConstraints()),!1;case 114:return this.viewport.flipped?this.viewport.setRotation(a.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)):this.viewport.setRotation(a.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)),this.viewport.applyConstraints(),!1;case 82:return this.viewport.flipped?this.viewport.setRotation(a.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)):this.viewport.setRotation(a.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)),this.viewport.applyConstraints(),!1;case 102:return this.viewport.toggleFlip(),!1;default:return!0}}function o(a){var b;document.activeElement==this.canvas||this.canvas.focus(),this.viewport.flipped&&(a.position.x=this.viewport.getContainerSize().x-a.position.x);var c={tracker:a.eventSource,position:a.position,quick:a.quick,shift:a.shift,originalEvent:a.originalEvent,preventDefaultAction:a.preventDefaultAction};this.raiseEvent("canvas-click",c),!c.preventDefaultAction&&this.viewport&&a.quick&&(b=this.gestureSettingsByDeviceType(a.pointerType),b.clickToZoom&&(this.viewport.zoomBy(a.shift?1/this.zoomPerClick:this.zoomPerClick,b.zoomToRefPoint?this.viewport.pointFromPixel(a.position,!0):null),this.viewport.applyConstraints()))}function p(a){var b,c={tracker:a.eventSource,position:a.position,shift:a.shift,originalEvent:a.originalEvent,preventDefaultAction:a.preventDefaultAction};this.raiseEvent("canvas-double-click",c),!c.preventDefaultAction&&this.viewport&&(b=this.gestureSettingsByDeviceType(a.pointerType),b.dblClickToZoom&&(this.viewport.zoomBy(a.shift?1/this.zoomPerClick:this.zoomPerClick,b.zoomToRefPoint?this.viewport.pointFromPixel(a.position,!0):null),this.viewport.applyConstraints()))}function q(a){var b,c={tracker:a.eventSource,position:a.position,delta:a.delta,speed:a.speed,direction:a.direction,shift:a.shift,originalEvent:a.originalEvent,preventDefaultAction:a.preventDefaultAction};if(this.raiseEvent("canvas-drag",c),!c.preventDefaultAction&&this.viewport){if(b=this.gestureSettingsByDeviceType(a.pointerType),this.panHorizontal||(a.delta.x=0),this.panVertical||(a.delta.y=0),this.viewport.flipped&&(a.delta.x=-a.delta.x),this.constrainDuringPan){var d=this.viewport.deltaPointsFromPixels(a.delta.negate());this.viewport.centerSpringX.target.value+=d.x,this.viewport.centerSpringY.target.value+=d.y;var e=this.viewport.getBounds(),f=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=d.x,this.viewport.centerSpringY.target.value-=d.y,e.x!=f.x&&(a.delta.x=0),e.y!=f.y&&(a.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(a.delta.negate()),b.flickEnabled&&!this.constrainDuringPan)}}function r(b){if(!b.preventDefaultAction&&this.viewport){var c=this.gestureSettingsByDeviceType(b.pointerType);if(c.flickEnabled&&b.speed>=c.flickMinSpeed){var d=0;this.panHorizontal&&(d=c.flickMomentum*b.speed*Math.cos(b.direction));var e=0;this.panVertical&&(e=c.flickMomentum*b.speed*Math.sin(b.direction));var f=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),g=this.viewport.pointFromPixel(new a.Point(f.x-d,f.y-e));this.viewport.panTo(g,!1)}this.viewport.applyConstraints()}this.raiseEvent("canvas-drag-end",{tracker:b.eventSource,position:b.position,speed:b.speed,direction:b.direction,shift:b.shift,originalEvent:b.originalEvent})}function s(a){this.raiseEvent("canvas-enter",{tracker:a.eventSource,pointerType:a.pointerType,position:a.position,buttons:a.buttons,pointers:a.pointers,insideElementPressed:a.insideElementPressed,buttonDownAny:a.buttonDownAny,originalEvent:a.originalEvent})}function t(b){window.location!=window.parent.location&&a.MouseTracker.resetAllMouseTrackers(),this.raiseEvent("canvas-exit",{tracker:b.eventSource,pointerType:b.pointerType,position:b.position,buttons:b.buttons,pointers:b.pointers,insideElementPressed:b.insideElementPressed,buttonDownAny:b.buttonDownAny,originalEvent:b.originalEvent})}function u(a){this.raiseEvent("canvas-press",{tracker:a.eventSource,pointerType:a.pointerType,position:a.position,insideElementPressed:a.insideElementPressed,insideElementReleased:a.insideElementReleased,originalEvent:a.originalEvent})}function v(a){this.raiseEvent("canvas-release",{tracker:a.eventSource,pointerType:a.pointerType,position:a.position,insideElementPressed:a.insideElementPressed,insideElementReleased:a.insideElementReleased,originalEvent:a.originalEvent})}function w(a){this.raiseEvent("canvas-nonprimary-press",{tracker:a.eventSource,position:a.position,pointerType:a.pointerType,button:a.button,buttons:a.buttons,originalEvent:a.originalEvent})}function x(a){this.raiseEvent("canvas-nonprimary-release",{tracker:a.eventSource,position:a.position,pointerType:a.pointerType,button:a.button,buttons:a.buttons,originalEvent:a.originalEvent})}function y(a){var b,c,d,e;if(!a.preventDefaultAction&&this.viewport&&(b=this.gestureSettingsByDeviceType(a.pointerType),b.pinchToZoom&&(c=this.viewport.pointFromPixel(a.center,!0),d=this.viewport.pointFromPixel(a.lastCenter,!0),e=d.minus(c),this.panHorizontal||(e.x=0),this.panVertical||(e.y=0),this.viewport.zoomBy(a.distance/a.lastDistance,c,!0),b.zoomToRefPoint&&this.viewport.panBy(e,!0),this.viewport.applyConstraints()),b.pinchRotate)){var f=Math.atan2(a.gesturePoints[0].currentPos.y-a.gesturePoints[1].currentPos.y,a.gesturePoints[0].currentPos.x-a.gesturePoints[1].currentPos.x),g=Math.atan2(a.gesturePoints[0].lastPos.y-a.gesturePoints[1].lastPos.y,a.gesturePoints[0].lastPos.x-a.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(f-g)*(180/Math.PI))}return this.raiseEvent("canvas-pinch",{tracker:a.eventSource,gesturePoints:a.gesturePoints,lastCenter:a.lastCenter,center:a.center,lastDistance:a.lastDistance,distance:a.distance,shift:a.shift,originalEvent:a.originalEvent}),!1}function z(b){var c,d,e;if(e=a.now(),e-this._lastScrollTime>this.minScrollDeltaTime){if(this._lastScrollTime=e,this.viewport.flipped&&(b.position.x=this.viewport.getContainerSize().x-b.position.x),!b.preventDefaultAction&&this.viewport&&(c=this.gestureSettingsByDeviceType(b.pointerType),c.scrollToZoom&&(d=Math.pow(this.zoomPerScroll,b.scroll),this.viewport.zoomBy(d,c.zoomToRefPoint?this.viewport.pointFromPixel(b.position,!0):null),this.viewport.applyConstraints())),this.raiseEvent("canvas-scroll",{tracker:b.eventSource,position:b.position,scroll:b.scroll,shift:b.shift,originalEvent:b.originalEvent}),c&&c.scrollToZoom)return!1}else if((c=this.gestureSettingsByDeviceType(b.pointerType))&&c.scrollToZoom)return!1}function A(a){V[this.hash].mouseInside=!0,j(this),this.raiseEvent("container-enter",{tracker:a.eventSource,position:a.position,buttons:a.buttons,pointers:a.pointers,insideElementPressed:a.insideElementPressed,buttonDownAny:a.buttonDownAny,originalEvent:a.originalEvent})}function B(a){a.pointers<1&&(V[this.hash].mouseInside=!1,V[this.hash].animating||h(this)),this.raiseEvent("container-exit",{tracker:a.eventSource,position:a.position,buttons:a.buttons,pointers:a.pointers,insideElementPressed:a.insideElementPressed,buttonDownAny:a.buttonDownAny,originalEvent:a.originalEvent})}function C(a){D(a),a.isOpen()?a._updateRequestId=f(a,C):a._updateRequestId=!1}function D(a){if(!a._opening){if(a.autoResize){var c=b(a.container),d=V[a.hash].prevContainerSize;if(!c.equals(d)){var e=a.viewport;if(a.preserveImageSizeOnResize){var f=d.x/c.x,g=e.getZoom()*f,i=e.getCenter();e.resize(c,!1),e.zoomTo(g,null,!0),e.panTo(i,!0)}else{var k=e.getBounds();e.resize(c,!0),e.fitBoundsWithConstraints(k,!0)}V[a.hash].prevContainerSize=c,V[a.hash].forceRedraw=!0}}var l=a.viewport.update(),m=a.world.update()||l;l&&a.raiseEvent("viewport-change"),a.referenceStrip&&(m=a.referenceStrip.update(a.viewport)||m),!V[a.hash].animating&&m&&(a.raiseEvent("animation-start"),j(a)),(m||V[a.hash].forceRedraw||a.world.needsDraw())&&(E(a),a._drawOverlays(),a.navigator&&a.navigator.update(a.viewport),V[a.hash].forceRedraw=!1,m&&a.raiseEvent("animation")),V[a.hash].animating&&!m&&(a.raiseEvent("animation-finish"),V[a.hash].mouseInside||h(a)),V[a.hash].animating=m}}function E(a){a.imageLoader.clear(),a.drawer.clear(),a.world.draw(),a.raiseEvent("update-viewport",{})}function F(a,b){return a?a+b:b}function G(){V[this.hash].lastZoomTime=a.now(),V[this.hash].zoomFactor=this.zoomPerSecond,V[this.hash].zooming=!0,J(this)}function H(){V[this.hash].lastZoomTime=a.now(),V[this.hash].zoomFactor=1/this.zoomPerSecond,V[this.hash].zooming=!0,J(this)}function I(){V[this.hash].zooming=!1}function J(b){a.requestAnimationFrame(a.delegate(b,K))}function K(){var b,c,d;V[this.hash].zooming&&this.viewport&&(b=a.now(),c=b-V[this.hash].lastZoomTime,d=Math.pow(V[this.hash].zoomFactor,c/1e3),this.viewport.zoomBy(d),this.viewport.applyConstraints(),V[this.hash].lastZoomTime=b,J(this))}function L(){this.viewport&&(V[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function M(){this.viewport&&(V[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function N(){this.buttons.emulateEnter(),this.buttons.emulateExit()}function O(){this.viewport&&this.viewport.goHome()}function P(){this.isFullPage()&&!a.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttons&&this.buttons.emulateExit(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function Q(){if(this.viewport){var b=this.viewport.getRotation();b=this.viewport.flipped?a.positiveModulo(b+this.rotationIncrement,360):a.positiveModulo(b-this.rotationIncrement,360),this.viewport.setRotation(b)}}function R(){if(this.viewport){var b=this.viewport.getRotation();b=this.viewport.flipped?a.positiveModulo(b-this.rotationIncrement,360):a.positiveModulo(b+this.rotationIncrement,360),this.viewport.setRotation(b)}}function S(){this.viewport.toggleFlip()}function T(){var a=this._sequenceIndex-1;this.navPrevNextWrap&&a<0&&(a+=this.tileSources.length),this.goToPage(a)}function U(){var a=this._sequenceIndex+1;this.navPrevNextWrap&&a>=this.tileSources.length&&(a=0),this.goToPage(a)}var V={},W=1;a.Viewer=function(c){var d,e=arguments,g=this;if(a.isPlainObject(c)||(c={id:e[0],xmlPath:e.length>1?e[1]:void 0,prefixUrl:e.length>2?e[2]:void 0,controls:e.length>3?e[3]:void 0,overlays:e.length>4?e[4]:void 0}),c.config&&(a.extend(!0,c,c.config),delete c.config),a.extend(!0,this,{id:c.id,hash:c.hash||W++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},a.DEFAULT_SETTINGS,c),void 0===this.hash)throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(void 0!==V[this.hash]&&a.console.warn("Hash "+this.hash+" has already been used."),V[this.hash]={fsBoundsDelta:new a.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._lastScrollTime=a.now(),a.EventSource.call(this),this.addHandler("open-failed",function(b){var c=a.getString("Errors.OpenFailed",b.eventSource,b.message);g._showMessage(c)}),a.ControlDock.call(this,c),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=a.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(a){a.width="100%",a.height="100%",a.overflow="hidden",a.position="absolute",a.top="0px",a.left="0px"}(this.canvas.style),a.setElementTouchActionNone(this.canvas),""!==c.tabIndex&&(this.canvas.tabIndex=void 0===c.tabIndex?0:c.tabIndex),this.container.className="openseadragon-container",function(a){a.width="100%",a.height="100%",a.position="relative",a.overflow="hidden",a.left="0px",a.top="0px",a.textAlign="left"}(this.container.style),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new a.MouseTracker({element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,keyDownHandler:a.delegate(this,m),keyHandler:a.delegate(this,n),clickHandler:a.delegate(this,o),dblClickHandler:a.delegate(this,p),dragHandler:a.delegate(this,q),dragEndHandler:a.delegate(this,r),enterHandler:a.delegate(this,s),exitHandler:a.delegate(this,t),pressHandler:a.delegate(this,u),releaseHandler:a.delegate(this,v),nonPrimaryPressHandler:a.delegate(this,w),nonPrimaryReleaseHandler:a.delegate(this,x),scrollHandler:a.delegate(this,z),pinchHandler:a.delegate(this,y)}),this.outerTracker=new a.MouseTracker({element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:a.delegate(this,A),exitHandler:a.delegate(this,B)}),this.toolbar&&(this.toolbar=new a.ControlDock({element:this.toolbar})),this.bindStandardControls(),V[this.hash].prevContainerSize=b(this.container),this.world=new a.World({viewer:this}),this.world.addHandler("add-item",function(a){g.source=g.world.getItemAt(0).source,V[g.hash].forceRedraw=!0,g._updateRequestId||(g._updateRequestId=f(g,C))}),this.world.addHandler("remove-item",function(a){g.world.getItemCount()?g.source=g.world.getItemAt(0).source:g.source=null,V[g.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(a){g.viewport&&g.viewport._setContentBounds(g.world.getHomeBounds(),g.world.getContentFactor())}),this.world.addHandler("item-index-change",function(a){g.source=g.world.getItemAt(0).source}),this.viewport=new a.Viewport({containerSize:V[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new a.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:c.timeout}),this.tileCache=new a.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new a.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=a.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(d=this.buttons.buttons.indexOf(this.rotateLeft),this.buttons.buttons.splice(d,1),this.buttons.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(d=this.buttons.buttons.indexOf(this.rotateRight),this.buttons.buttons.splice(d,1),this.buttons.element.removeChild(this.rotateRight.element))),this.showNavigator&&(this.navigator=new a.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),d=0;d<this.customControls.length;d++)this.addControl(this.customControls[d].id,{anchor:this.customControls[d].anchor});a.requestAnimationFrame(function(){h(g)}),void 0===this.imageSmoothingEnabled||this.imageSmoothingEnabled||this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled)},a.extend(a.Viewer.prototype,a.EventSource.prototype,a.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(b){return a.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(b)},openTileSource:function(b){return a.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(b)},open:function(b,c){var e=this;if(this.close(),b){if(this.sequenceMode&&a.isArray(b))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),void 0===c||isNaN(c)||(this.initialPage=c),this.tileSources=b,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),void this._updateSequenceButtons(this._sequenceIndex);if(a.isArray(b)||(b=[b]),b.length){this._opening=!0;for(var f,g=b.length,h=0,i=0,j=function(){if(h+i===g)if(h){!e._firstOpen&&e.preserveViewport||(e.viewport.goHome(!0),e.viewport.update()),e._firstOpen=!1;var a=b[0];if(a.tileSource&&(a=a.tileSource),e.overlays&&!e.preserveOverlays)for(var c=0;c<e.overlays.length;c++)e.currentOverlays[c]=d(e,e.overlays[c]);e._drawOverlays(),e._opening=!1,e.raiseEvent("open",{source:a})}else e._opening=!1,e.raiseEvent("open-failed",f)},k=function(b){a.isPlainObject(b)&&b.tileSource||(b={tileSource:b}),void 0!==b.index&&(a.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete b.index),void 0===b.collectionImmediately&&(b.collectionImmediately=!0);var c=b.success;b.success=function(a){if(h++,b.tileSource.overlays)for(var d=0;d<b.tileSource.overlays.length;d++)e.addOverlay(b.tileSource.overlays[d]);c&&c(a),j()};var d=b.error;b.error=function(a){i++,f||(f=a),d&&d(a),j()},e.addTiledImage(b)},l=0;l<b.length;l++)k(b[l]);return this}}},close:function(){return V[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),V[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(V[this.hash]){if(this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),null!==this._updateRequestId&&(a.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.removeAllHandlers(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),V[this.hash]=null,delete V[this.hash],this.canvas=null,this.container=null,this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(a){return this.innerTracker.setTracking(a),this.outerTracker.setTracking(a),this.raiseEvent("mouse-enabled",{enabled:a}),this},areControlsEnabled:function(){var a,b=this.controls.length;for(a=0;a<this.controls.length;a++)b=b&&this.controls[a].isVisible();return b},setControlsEnabled:function(a){return a?j(this):h(this),this.raiseEvent("controls-enabled",{enabled:a}),this},setDebugMode:function(a){for(var b=0;b<this.world.getItemCount();b++)this.world.getItemAt(b).debugMode=a;this.debugMode=a,this.forceRedraw()},isFullPage:function(){return V[this.hash].fullPage},setFullPage:function(b){var c,d,e=document.body,f=e.style,g=document.documentElement.style,h=this;if(b==this.isFullPage())return this;var i={fullPage:b,
preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",i),i.preventDefaultAction)return this;if(b){for(this.elementSize=a.getElementSize(this.element),this.pageScroll=a.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=f.margin,this.docMargin=g.margin,f.margin="0",g.margin="0",this.bodyPadding=f.padding,this.docPadding=g.padding,f.padding="0",g.padding="0",this.bodyWidth=f.width,this.docWidth=g.width,f.width="100%",g.width="100%",this.bodyHeight=f.height,this.docHeight=g.height,f.height="100%",g.height="100%",this.previousBody=[],V[this.hash].prevElementParent=this.element.parentNode,V[this.hash].prevNextSibling=this.element.nextSibling,V[this.hash].prevElementWidth=this.element.style.width,V[this.hash].prevElementHeight=this.element.style.height,c=e.childNodes.length,d=0;d<c;d++)this.previousBody.push(e.childNodes[0]),e.removeChild(e.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,e.appendChild(this.toolbar.element),a.addClass(this.toolbar.element,"fullpage")),a.addClass(this.element,"fullpage"),e.appendChild(this.element),this.element.style.height=a.getWindowSize().y+"px",this.element.style.width=a.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=a.getElementSize(this.element).y-a.getElementSize(this.toolbar.element).y+"px"),V[this.hash].fullPage=!0,a.delegate(this,A)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,f.margin=this.bodyMargin,g.margin=this.docMargin,f.padding=this.bodyPadding,g.padding=this.docPadding,f.width=this.bodyWidth,g.width=this.docWidth,f.height=this.bodyHeight,g.height=this.docHeight,e.removeChild(this.element),c=this.previousBody.length,d=0;d<c;d++)e.appendChild(this.previousBody.shift());a.removeClass(this.element,"fullpage"),V[this.hash].prevElementParent.insertBefore(this.element,V[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(e.removeChild(this.toolbar.element),a.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=V[this.hash].prevElementWidth,this.element.style.height=V[this.hash].prevElementHeight;var j=0,k=function(){a.setPageScroll(h.pageScroll);var b=a.getPageScroll();++j<10&&(b.x!==h.pageScroll.x||b.y!==h.pageScroll.y)&&a.requestAnimationFrame(k)};a.requestAnimationFrame(k),V[this.hash].fullPage=!1,a.delegate(this,B)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:b}),this},setFullScreen:function(b){var c=this;if(!a.supportsFullScreen)return this.setFullPage(b);if(a.isFullScreen()===b)return this;var d={fullScreen:b,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",d),d.preventDefaultAction)return this;if(b){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var e=function(){var b=a.isFullScreen();b||(a.removeEvent(document,a.fullScreenEventName,e),a.removeEvent(document,a.fullScreenErrorEventName,e),c.setFullPage(!1),c.isFullPage()&&(c.element.style.width=c.fullPageStyleWidth,c.element.style.height=c.fullPageStyleHeight)),c.navigator&&c.viewport&&setTimeout(function(){c.navigator.update(c.viewport)}),c.raiseEvent("full-screen",{fullScreen:b})};a.addEvent(document,a.fullScreenEventName,e),a.addEvent(document,a.fullScreenErrorEventName,e),a.requestFullScreen(document.body)}else a.exitFullScreen();return this},isVisible:function(){return"hidden"!=this.container.style.visibility},setVisible:function(a){return this.container.style.visibility=a?"":"hidden",this.raiseEvent("visible",{visible:a}),this},addTiledImage:function(b){function d(a){for(var c=0;c<g._loadQueue.length;c++)if(g._loadQueue[c]===h){g._loadQueue.splice(c,1);break}0===g._loadQueue.length&&e(h),g.raiseEvent("add-item-failed",a),b.error&&b.error(a)}function e(a){g.collectionMode&&(g.world.arrange({immediately:a.options.collectionImmediately,rows:g.collectionRows,columns:g.collectionColumns,layout:g.collectionLayout,tileSize:g.collectionTileSize,tileMargin:g.collectionTileMargin}),g.world.setAutoRefigureSizes(!0))}function f(){for(var b,c,d;g._loadQueue.length&&(b=g._loadQueue[0],b.tileSource);){if(g._loadQueue.splice(0,1),b.options.replace){var f=g.world.getIndexOfItem(b.options.replaceItem);-1!=f&&(b.options.index=f),g.world.removeItem(b.options.replaceItem)}c=new a.TiledImage({viewer:g,source:b.tileSource,viewport:g.viewport,drawer:g.drawer,tileCache:g.tileCache,imageLoader:g.imageLoader,x:b.options.x,y:b.options.y,width:b.options.width,height:b.options.height,fitBounds:b.options.fitBounds,fitBoundsPlacement:b.options.fitBoundsPlacement,clip:b.options.clip,placeholderFillStyle:b.options.placeholderFillStyle,opacity:b.options.opacity,preload:b.options.preload,degrees:b.options.degrees,compositeOperation:b.options.compositeOperation,springStiffness:g.springStiffness,animationTime:g.animationTime,minZoomImageRatio:g.minZoomImageRatio,wrapHorizontal:g.wrapHorizontal,wrapVertical:g.wrapVertical,immediateRender:g.immediateRender,blendTime:g.blendTime,alwaysBlend:g.alwaysBlend,minPixelRatio:g.minPixelRatio,smoothTileEdgesMinZoom:g.smoothTileEdgesMinZoom,iOSDevice:g.iOSDevice,crossOriginPolicy:b.options.crossOriginPolicy,ajaxWithCredentials:b.options.ajaxWithCredentials,loadTilesWithAjax:b.options.loadTilesWithAjax,ajaxHeaders:b.options.ajaxHeaders,debugMode:g.debugMode}),g.collectionMode&&g.world.setAutoRefigureSizes(!1),g.world.addItem(c,{index:b.options.index}),0===g._loadQueue.length&&e(b),1!==g.world.getItemCount()||g.preserveViewport||g.viewport.goHome(!0),g.navigator&&(d=a.extend({},b.options,{replace:!1,originalTiledImage:c,tileSource:b.tileSource}),g.navigator.addTiledImage(d)),b.options.success&&b.options.success({item:c})}}a.console.assert(b,"[Viewer.addTiledImage] options is required"),a.console.assert(b.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),a.console.assert(!b.replace||b.index>-1&&b.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var g=this;b.replace&&(b.replaceItem=g.world.getItemAt(b.index)),this._hideMessage(),void 0===b.placeholderFillStyle&&(b.placeholderFillStyle=this.placeholderFillStyle),void 0===b.opacity&&(b.opacity=this.opacity),void 0===b.preload&&(b.preload=this.preload),void 0===b.compositeOperation&&(b.compositeOperation=this.compositeOperation),void 0===b.crossOriginPolicy&&(b.crossOriginPolicy=void 0!==b.tileSource.crossOriginPolicy?b.tileSource.crossOriginPolicy:this.crossOriginPolicy),void 0===b.ajaxWithCredentials&&(b.ajaxWithCredentials=this.ajaxWithCredentials),void 0===b.loadTilesWithAjax&&(b.loadTilesWithAjax=this.loadTilesWithAjax),void 0===b.ajaxHeaders||null===b.ajaxHeaders?b.ajaxHeaders=this.ajaxHeaders:a.isPlainObject(b.ajaxHeaders)&&a.isPlainObject(this.ajaxHeaders)&&(b.ajaxHeaders=a.extend({},this.ajaxHeaders,b.ajaxHeaders));var h={options:b};if(a.isArray(b.tileSource))return void setTimeout(function(){d({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:b.tileSource,options:b})});this._loadQueue.push(h),c(this,b.tileSource,b,function(a){h.tileSource=a,f()},function(a){a.options=b,d(a),f()})},addSimpleImage:function(b){a.console.assert(b,"[Viewer.addSimpleImage] options is required"),a.console.assert(b.url,"[Viewer.addSimpleImage] options.url is required");var c=a.extend({},b,{tileSource:{type:"image",url:b.url}});delete c.url,this.addTiledImage(c)},addLayer:function(b){var c=this;a.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var d=a.extend({},b,{success:function(a){c.raiseEvent("add-layer",{options:b,drawer:a.item})},error:function(a){c.raiseEvent("add-layer-failed",a)}});return this.addTiledImage(d),this},getLayerAtLevel:function(b){return a.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(b)},getLevelOfLayer:function(b){return a.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(b)},getLayersCount:function(){return a.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(b,c){return a.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(b,c)},removeLayer:function(b){return a.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(b)},forceRedraw:function(){return V[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var b=a.delegate(this,k),c=a.delegate(this,l),d=a.delegate(this,U),e=a.delegate(this,T),f=this.navImages,g=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(g=!1),this.previousButton=new a.Button({element:this.previousButton?a.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:a.getString("Tooltips.PreviousPage"),srcRest:F(this.prefixUrl,f.previous.REST),srcGroup:F(this.prefixUrl,f.previous.GROUP),srcHover:F(this.prefixUrl,f.previous.HOVER),srcDown:F(this.prefixUrl,f.previous.DOWN),onRelease:e,onFocus:b,onBlur:c}),this.nextButton=new a.Button({element:this.nextButton?a.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:a.getString("Tooltips.NextPage"),srcRest:F(this.prefixUrl,f.next.REST),srcGroup:F(this.prefixUrl,f.next.GROUP),srcHover:F(this.prefixUrl,f.next.HOVER),srcDown:F(this.prefixUrl,f.next.DOWN),onRelease:d,onFocus:b,onBlur:c}),this.navPrevNextWrap||this.previousButton.disable(),this.tileSources&&this.tileSources.length||this.nextButton.disable(),g&&(this.paging=new a.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:a.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||a.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var b=a.delegate(this,G),c=a.delegate(this,I),d=a.delegate(this,L),e=a.delegate(this,H),f=a.delegate(this,M),g=a.delegate(this,O),h=a.delegate(this,P),i=a.delegate(this,Q),j=a.delegate(this,R),m=a.delegate(this,S),n=a.delegate(this,k),o=a.delegate(this,l),p=this.navImages,q=[],r=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(r=!1),this.showZoomControl&&(q.push(this.zoomInButton=new a.Button({element:this.zoomInButton?a.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:a.getString("Tooltips.ZoomIn"),srcRest:F(this.prefixUrl,p.zoomIn.REST),srcGroup:F(this.prefixUrl,p.zoomIn.GROUP),srcHover:F(this.prefixUrl,p.zoomIn.HOVER),srcDown:F(this.prefixUrl,p.zoomIn.DOWN),onPress:b,onRelease:c,onClick:d,onEnter:b,onExit:c,onFocus:n,onBlur:o})),q.push(this.zoomOutButton=new a.Button({element:this.zoomOutButton?a.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:a.getString("Tooltips.ZoomOut"),srcRest:F(this.prefixUrl,p.zoomOut.REST),srcGroup:F(this.prefixUrl,p.zoomOut.GROUP),srcHover:F(this.prefixUrl,p.zoomOut.HOVER),srcDown:F(this.prefixUrl,p.zoomOut.DOWN),onPress:e,onRelease:c,onClick:f,onEnter:e,onExit:c,onFocus:n,onBlur:o}))),this.showHomeControl&&q.push(this.homeButton=new a.Button({element:this.homeButton?a.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:a.getString("Tooltips.Home"),srcRest:F(this.prefixUrl,p.home.REST),srcGroup:F(this.prefixUrl,p.home.GROUP),srcHover:F(this.prefixUrl,p.home.HOVER),srcDown:F(this.prefixUrl,p.home.DOWN),onRelease:g,onFocus:n,onBlur:o})),this.showFullPageControl&&q.push(this.fullPageButton=new a.Button({element:this.fullPageButton?a.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:a.getString("Tooltips.FullPage"),srcRest:F(this.prefixUrl,p.fullpage.REST),srcGroup:F(this.prefixUrl,p.fullpage.GROUP),srcHover:F(this.prefixUrl,p.fullpage.HOVER),srcDown:F(this.prefixUrl,p.fullpage.DOWN),onRelease:h,onFocus:n,onBlur:o})),this.showRotationControl&&(q.push(this.rotateLeftButton=new a.Button({element:this.rotateLeftButton?a.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:a.getString("Tooltips.RotateLeft"),srcRest:F(this.prefixUrl,p.rotateleft.REST),srcGroup:F(this.prefixUrl,p.rotateleft.GROUP),srcHover:F(this.prefixUrl,p.rotateleft.HOVER),srcDown:F(this.prefixUrl,p.rotateleft.DOWN),onRelease:i,onFocus:n,onBlur:o})),q.push(this.rotateRightButton=new a.Button({element:this.rotateRightButton?a.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:a.getString("Tooltips.RotateRight"),srcRest:F(this.prefixUrl,p.rotateright.REST),srcGroup:F(this.prefixUrl,p.rotateright.GROUP),srcHover:F(this.prefixUrl,p.rotateright.HOVER),srcDown:F(this.prefixUrl,p.rotateright.DOWN),onRelease:j,onFocus:n,onBlur:o}))),this.showFlipControl&&q.push(this.flipButton=new a.Button({element:this.flipButton?a.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:a.getString("Tooltips.Flip"),srcRest:F(this.prefixUrl,p.flip.REST),srcGroup:F(this.prefixUrl,p.flip.GROUP),srcHover:F(this.prefixUrl,p.flip.HOVER),srcDown:F(this.prefixUrl,p.flip.DOWN),onRelease:m,onFocus:n,onBlur:o})),r&&(this.buttons=new a.ButtonGroup({buttons:q,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttons.element,this.addHandler("open",a.delegate(this,N)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||a.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||a.ControlAnchor.TOP_LEFT}))),this},currentPage:function(){return this._sequenceIndex},goToPage:function(a){return this.tileSources&&a>=0&&a<this.tileSources.length&&(this._sequenceIndex=a,this._updateSequenceButtons(a),this.open(this.tileSources[a]),this.referenceStrip&&this.referenceStrip.setFocus(a),this.raiseEvent("page",{page:a})),this},addOverlay:function(b,c,f,g){var h;if(h=a.isPlainObject(b)?b:{element:b,location:c,placement:f,onDraw:g},b=a.getElement(h.element),e(this.currentOverlays,b)>=0)return this;var i=d(this,h);return this.currentOverlays.push(i),i.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:b,location:h.location,placement:h.placement}),this},updateOverlay:function(b,c,d){var f;return b=a.getElement(b),f=e(this.currentOverlays,b),f>=0&&(this.currentOverlays[f].update(c,d),V[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:b,location:c,placement:d})),this},removeOverlay:function(b){var c;return b=a.getElement(b),c=e(this.currentOverlays,b),c>=0&&(this.currentOverlays[c].destroy(),this.currentOverlays.splice(c,1),V[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:b})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return V[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(b){var c;return b=a.getElement(b),c=e(this.currentOverlays,b),c>=0?this.currentOverlays[c]:null},_updateSequenceButtons:function(a){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==a?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(a>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(b){this._hideMessage();var c=a.makeNeutralElement("div");c.appendChild(document.createTextNode(b)),this.messageDiv=a.makeCenteredNode(c),a.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var a=this.messageDiv;a&&(a.parentNode.removeChild(a),delete this.messageDiv)},gestureSettingsByDeviceType:function(a){switch(a){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var a,b=this.currentOverlays.length;for(a=0;a<b;a++)this.currentOverlays[a].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new a.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else a.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')}})}(OpenSeadragon),function(a){function b(a){var b={tracker:a.eventSource,position:a.position,quick:a.quick,shift:a.shift,originalEvent:a.originalEvent,preventDefaultAction:a.preventDefaultAction};if(this.viewer.raiseEvent("navigator-click",b),!b.preventDefaultAction&&a.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(a.position.x=this.viewport.getContainerSize().x-a.position.x);var c=this.viewport.pointFromPixel(a.position);this.panVertical?this.panHorizontal||(c.x=this.viewer.viewport.getCenter(!0).x):c.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(c),this.viewer.viewport.applyConstraints()}}function c(a){var b={tracker:a.eventSource,position:a.position,delta:a.delta,speed:a.speed,direction:a.direction,shift:a.shift,originalEvent:a.originalEvent,preventDefaultAction:a.preventDefaultAction};this.viewer.raiseEvent("navigator-drag",b),!b.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(a.delta.x=0),this.panVertical||(a.delta.y=0),this.viewer.viewport.flipped&&(a.delta.x=-a.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(a.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function d(a){a.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function e(a){return this.viewer.raiseEvent("navigator-scroll",{tracker:a.eventSource,position:a.position,scroll:a.scroll,shift:a.shift,originalEvent:a.originalEvent}),!1}function f(a,b){g(a,"rotate("+b+"deg)")}function g(a,b){a.style.webkitTransform=b,a.style.mozTransform=b,a.style.msTransform=b,a.style.oTransform=b,a.style.transform=b}a.Navigator=function(g){function h(a){f(l.displayRegionContainer,a),f(l.displayRegion,-a),l.viewport.setRotation(a)}var i,j,k=g.viewer,l=this;if(g.id?(this.element=document.getElementById(g.id),g.controlOptions={anchor:a.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(g.id="navigator-"+a.now(),this.element=a.makeNeutralElement("div"),g.controlOptions={anchor:a.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:g.autoFade},g.position&&("BOTTOM_RIGHT"==g.position?g.controlOptions.anchor=a.ControlAnchor.BOTTOM_RIGHT:"BOTTOM_LEFT"==g.position?g.controlOptions.anchor=a.ControlAnchor.BOTTOM_LEFT:"TOP_RIGHT"==g.position?g.controlOptions.anchor=a.ControlAnchor.TOP_RIGHT:"TOP_LEFT"==g.position?g.controlOptions.anchor=a.ControlAnchor.TOP_LEFT:"ABSOLUTE"==g.position&&(g.controlOptions.anchor=a.ControlAnchor.ABSOLUTE,g.controlOptions.top=g.top,g.controlOptions.left=g.left,g.controlOptions.height=g.height,g.controlOptions.width=g.width))),this.element.id=g.id,this.element.className+=" navigator",g=a.extend(!0,{sizeRatio:a.DEFAULT_SETTINGS.navigatorSizeRatio},g,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:g.autoResize,minZoomImageRatio:1,background:g.background,opacity:g.opacity,borderColor:g.borderColor,displayRegionColor:g.displayRegionColor}),g.minPixelRatio=this.minPixelRatio=k.minPixelRatio,a.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new a.Point(1,1),this.totalBorderWidths=new a.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),g.controlOptions.anchor!=a.ControlAnchor.NONE&&function(a,b){a.margin="0px",a.border=b+"px solid "+g.borderColor,a.padding="0px",a.background=g.background,a.opacity=g.opacity,a.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=a.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(a,b){a.position="relative",a.top="0px",a.left="0px",a.fontSize="0px",a.overflow="hidden",a.border=b+"px solid "+g.displayRegionColor,a.margin="0px",a.padding="0px",a.background="transparent",a.float="left",a.cssFloat="left",a.styleFloat="left",a.zIndex=999999999,a.cursor="default"}(this.displayRegion.style,this.borderWidth),this.displayRegionContainer=a.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",k.addControl(this.element,g.controlOptions),this._resizeWithViewer=g.controlOptions.anchor!=a.ControlAnchor.ABSOLUTE&&g.controlOptions.anchor!=a.ControlAnchor.NONE,this._resizeWithViewer&&(g.width&&g.height?(this.element.style.height="number"==typeof g.height?g.height+"px":g.height,this.element.style.width="number"==typeof g.width?g.width+"px":g.width):(i=a.getElementSize(k.element),this.element.style.height=Math.round(i.y*g.sizeRatio)+"px",this.element.style.width=Math.round(i.x*g.sizeRatio)+"px",this.oldViewerSize=i),j=a.getElementSize(this.element),this.elementArea=j.x*j.y),this.oldContainerSize=new a.Point(0,0),a.Viewer.apply(this,[g]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer),g.navigatorRotate){h(g.viewer.viewport?g.viewer.viewport.getRotation():g.viewer.degrees||0),g.viewer.addHandler("rotate",function(a){h(a.degrees)})}this.innerTracker.destroy(),this.innerTracker=new a.MouseTracker({element:this.element,dragHandler:a.delegate(this,c),clickHandler:a.delegate(this,b),releaseHandler:a.delegate(this,d),scrollHandler:a.delegate(this,e)}),this.addHandler("reset-size",function(){l.viewport&&l.viewport.goHome(!0)}),k.world.addHandler("item-index-change",function(a){window.setTimeout(function(){var b=l.world.getItemAt(a.previousIndex);l.world.setItemIndex(b,a.newIndex)},1)}),k.world.addHandler("remove-item",function(a){var b=a.item,c=l._getMatchingItem(b);c&&l.world.removeItem(c)}),this.update(k.viewport)},a.extend(a.Navigator.prototype,a.EventSource.prototype,a.Viewer.prototype,{updateSize:function(){if(this.viewport){var b=new a.Point(0===this.container.clientWidth?1:this.container.clientWidth,0===this.container.clientHeight?1:this.container.clientHeight);b.equals(this.oldContainerSize)||(this.viewport.resize(b,!0),this.viewport.goHome(!0),this.oldContainerSize=b,this.drawer.clear(),this.world.draw())}},setFlip:function(a){return this.viewport.setFlip(a),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(a){g(this.displayRegion,a),g(this.canvas,a),g(this.element,a)},update:function(b){var c,d,e,f,g,h;if(c=a.getElementSize(this.viewer.element),this._resizeWithViewer&&c.x&&c.y&&!c.equals(this.oldViewerSize)&&(this.oldViewerSize=c,this.maintainSizeRatio||!this.elementArea?(d=c.x*this.sizeRatio,e=c.y*this.sizeRatio):(d=Math.sqrt(this.elementArea*(c.x/c.y)),e=this.elementArea/d),this.element.style.width=Math.round(d)+"px",this.element.style.height=Math.round(e)+"px",this.elementArea||(this.elementArea=d*e),this.updateSize()),b&&this.viewport){f=b.getBoundsNoRotate(!0),g=this.viewport.pixelFromPointNoRotate(f.getTopLeft(),!1),h=this.viewport.pixelFromPointNoRotate(f.getBottomRight(),!1).minus(this.totalBorderWidths);var i=this.displayRegion.style;i.display=this.world.getItemCount()?"block":"none",i.top=Math.round(g.y)+"px",i.left=Math.round(g.x)+"px";var j=Math.abs(g.x-h.x),k=Math.abs(g.y-h.y);i.width=Math.round(Math.max(j,0))+"px",i.height=Math.round(Math.max(k,0))+"px"}},addTiledImage:function(b){var c=this,d=b.originalTiledImage;delete b.original;var e=a.extend({},b,{success:function(a){function b(){c._matchBounds(g,d)}function e(){c._matchOpacity(g,d)}function f(){c._matchCompositeOperation(g,d)}var g=a.item;g._originalForNavigator=d,c._matchBounds(g,d,!0),d.addHandler("bounds-change",b),d.addHandler("clip-change",b),d.addHandler("opacity-change",e),d.addHandler("composite-operation-change",f)}});return a.Viewer.prototype.addTiledImage.apply(this,[e])},_getMatchingItem:function(a){for(var b,c=this.world.getItemCount(),d=0;d<c;d++)if(b=this.world.getItemAt(d),b._originalForNavigator===a)return b;return null},_matchBounds:function(a,b,c){var d=b.getBoundsNoRotate();a.setPosition(d.getTopLeft(),c),a.setWidth(d.width,c),a.setRotation(b.getRotation(),c),a.setClip(b.getClip())},_matchOpacity:function(a,b){a.setOpacity(b.opacity)},_matchCompositeOperation:function(a,b){a.setCompositeOperation(b.compositeOperation)}})}(OpenSeadragon),function(a){var b={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};a.extend(a,{getString:function(c){var d,e=c.split("."),f=null,g=arguments,h=b;for(d=0;d<e.length-1;d++)h=h[e[d]]||{};return f=h[e[d]],"string"!=typeof f&&(a.console.log("Untranslated source string:",c),f=""),f.replace(/\{\d+\}/g,function(a){var b=parseInt(a.match(/\d+/),10)+1;return b<g.length?g[b]:""})},setString:function(a,c){var d,e=a.split("."),f=b;for(d=0;d<e.length-1;d++)f[e[d]]||(f[e[d]]={}),f=f[e[d]];f[e[d]]=c}})}(OpenSeadragon),function(a){a.Point=function(a,b){this.x="number"==typeof a?a:0,this.y="number"==typeof b?b:0},a.Point.prototype={clone:function(){return new a.Point(this.x,this.y)},plus:function(b){return new a.Point(this.x+b.x,this.y+b.y)},minus:function(b){return new a.Point(this.x-b.x,this.y-b.y)},times:function(b){return new a.Point(this.x*b,this.y*b)},divide:function(b){return new a.Point(this.x/b,this.y/b)},negate:function(){return new a.Point(-this.x,-this.y)},distanceTo:function(a){return Math.sqrt(Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2))},squaredDistanceTo:function(a){return Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2)},apply:function(b){return new a.Point(b(this.x),b(this.y))},equals:function(b){return b instanceof a.Point&&this.x===b.x&&this.y===b.y},rotate:function(b,c){c=c||new a.Point(0,0);var d,e;if(b%90==0){switch(a.positiveModulo(b,360)){case 0:d=1,e=0;break;case 90:d=0,e=1;break;case 180:d=-1,e=0;break;case 270:d=0,e=-1}}else{var f=b*Math.PI/180;d=Math.cos(f),e=Math.sin(f)}var g=d*(this.x-c.x)-e*(this.y-c.y)+c.x,h=e*(this.x-c.x)+d*(this.y-c.y)+c.y;return new a.Point(g,h)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}}}(OpenSeadragon),function(a){function b(b){var c,d,e=b.responseText,f=b.status;if(!b)throw new Error(a.getString("Errors.Security"));if(200!==b.status&&0!==b.status)throw f=b.status,c=404==f?"Not Found":b.statusText,new Error(a.getString("Errors.Status",f,c));if(e.match(/\s*<.*/))try{d=b.responseXML&&b.responseXML.documentElement?b.responseXML:a.parseXml(e)}catch(g){d=b.responseText}else if(e.match(/\s*[\{\[].*/))try{d=a.parseJSON(e)}catch(g){d=e}else d=e;return d}a.TileSource=function(b,c,d,e,f,g){var h,i,j=this,k=arguments;if(h=a.isPlainObject(b)?b:{width:k[0],height:k[1],tileSize:k[2],tileOverlap:k[3],minLevel:k[4],maxLevel:k[5]},a.EventSource.call(this),a.extend(!0,this,h),!this.success)for(i=0;i<arguments.length;i++)if(a.isFunction(arguments[i])){this.success=arguments[i];break}this.success&&this.addHandler("ready",function(a){j.success(a)}),"string"==a.type(arguments[0])&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new a.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=h.width&&h.height?h.width/h.height:1,this.dimensions=new a.Point(h.width,h.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=h.tileOverlap?h.tileOverlap:0,this.minLevel=h.minLevel?h.minLevel:0,this.maxLevel=void 0!==h.maxLevel&&null!==h.maxLevel?h.maxLevel:h.width&&h.height?Math.ceil(Math.log(Math.max(h.width,h.height))/Math.log(2)):0,this.success&&a.isFunction(this.success)&&this.success(this))},a.TileSource.prototype={getTileSize:function(b){return a.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(a){return this._tileWidth?this._tileWidth:this.getTileSize(a)},getTileHeight:function(a){return this._tileHeight?this._tileHeight:this.getTileSize(a)},getLevelScale:function(a){var b,c={};for(b=0;b<=this.maxLevel;b++)c[b]=1/Math.pow(2,this.maxLevel-b);return this.getLevelScale=function(a){return c[a]},this.getLevelScale(a)},getNumTiles:function(b){var c=this.getLevelScale(b),d=Math.ceil(c*this.dimensions.x/this.getTileWidth(b)),e=Math.ceil(c*this.dimensions.y/this.getTileHeight(b));return new a.Point(d,e)},getPixelRatio:function(b){var c=this.dimensions.times(this.getLevelScale(b)),d=1/c.x,e=1/c.y;return new a.Point(d,e)},getClosestLevel:function(){var a,b;for(a=this.minLevel+1;a<=this.maxLevel&&(b=this.getNumTiles(a),!(b.x>1||b.y>1));a++);return a-1},getTileAtPoint:function(b,c){var d=c.x>=0&&c.x<=1&&c.y>=0&&c.y<=1/this.aspectRatio;a.console.assert(d,"[TileSource.getTileAtPoint] must be called with a valid point.");var e=this.dimensions.x*this.getLevelScale(b),f=c.x*e,g=c.y*e,h=Math.floor(f/this.getTileWidth(b)),i=Math.floor(g/this.getTileHeight(b))
;return c.x>=1&&(h=this.getNumTiles(b).x-1),c.y>=1/this.aspectRatio-1e-15&&(i=this.getNumTiles(b).y-1),new a.Point(h,i)},getTileBounds:function(b,c,d,e){var f=this.dimensions.times(this.getLevelScale(b)),g=this.getTileWidth(b),h=this.getTileHeight(b),i=0===c?0:g*c-this.tileOverlap,j=0===d?0:h*d-this.tileOverlap,k=g+(0===c?1:2)*this.tileOverlap,l=h+(0===d?1:2)*this.tileOverlap,m=1/f.x;return k=Math.min(k,f.x-i),l=Math.min(l,f.y-j),e?new a.Rect(0,0,k,l):new a.Rect(i*m,j*m,k*m,l*m)},getImageInfo:function(c){var d,e,f,g,h,i,j,k=this;c&&(h=c.split("/"),i=h[h.length-1],(j=i.lastIndexOf("."))>-1&&(h[h.length-1]=i.slice(0,j))),e=function(b){"string"==typeof b&&(b=a.parseXml(b));var d=a.TileSource.determineType(k,b,c);if(!d)return void k.raiseEvent("open-failed",{message:"Unable to load TileSource",source:c});g=d.prototype.configure.apply(k,[b,c]),void 0===g.ajaxWithCredentials&&(g.ajaxWithCredentials=k.ajaxWithCredentials),f=new d(g),k.ready=!0,k.raiseEvent("ready",{tileSource:f})},c.match(/\.js$/)?(d=c.split("/").pop().replace(".js",""),a.jsonp({url:c,async:!1,callbackName:d,callback:e})):a.makeAjaxRequest({url:c,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(a){var c=b(a);e(c)},error:function(a,b){var d;try{d="HTTP "+a.status+" attempting to load TileSource"}catch(f){var e;e=void 0!==b&&b.toString?b.toString():"Unknown error",d=e+" attempting to load TileSource"}k.raiseEvent("open-failed",{message:d,source:c})}})},supports:function(a,b){return!1},configure:function(a,b){throw new Error("Method not implemented.")},getTileUrl:function(a,b,c){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(a,b,c){return{}},tileExists:function(a,b,c){var d=this.getNumTiles(a);return a>=this.minLevel&&a<=this.maxLevel&&b>=0&&c>=0&&b<d.x&&c<d.y}},a.extend(!0,a.TileSource.prototype,a.EventSource.prototype),a.TileSource.determineType=function(b,c,d){var e;for(e in OpenSeadragon)if(e.match(/.+TileSource$/)&&a.isFunction(OpenSeadragon[e])&&a.isFunction(OpenSeadragon[e].prototype.supports)&&OpenSeadragon[e].prototype.supports.call(b,c,d))return OpenSeadragon[e];a.console.error("No TileSource was able to open %s %s",d,c)}}(OpenSeadragon),function(a){function b(b,d){if(!d||!d.documentElement)throw new Error(a.getString("Errors.Xml"));var e,f,g,h,i,j=d.documentElement,k=j.localName||j.tagName,l=d.documentElement.namespaceURI,m=null,n=[];if("Image"==k)try{if(h=j.getElementsByTagName("Size")[0],void 0===h&&(h=j.getElementsByTagNameNS(l,"Size")[0]),m={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:j.getAttribute("Url"),Format:j.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(j.getAttribute("Overlap"),10),TileSize:parseInt(j.getAttribute("TileSize"),10),Size:{Height:parseInt(h.getAttribute("Height"),10),Width:parseInt(h.getAttribute("Width"),10)}}},!a.imageFormatSupported(m.Image.Format))throw new Error(a.getString("Errors.ImageFormat",m.Image.Format.toUpperCase()));for(e=j.getElementsByTagName("DisplayRect"),void 0===e&&(e=j.getElementsByTagNameNS(l,"DisplayRect")[0]),i=0;i<e.length;i++)f=e[i],g=f.getElementsByTagName("Rect")[0],void 0===g&&(g=f.getElementsByTagNameNS(l,"Rect")[0]),n.push({Rect:{X:parseInt(g.getAttribute("X"),10),Y:parseInt(g.getAttribute("Y"),10),Width:parseInt(g.getAttribute("Width"),10),Height:parseInt(g.getAttribute("Height"),10),MinLevel:parseInt(f.getAttribute("MinLevel"),10),MaxLevel:parseInt(f.getAttribute("MaxLevel"),10)}});return n.length&&(m.Image.DisplayRect=n),c(b,m)}catch(q){throw q instanceof Error?q:new Error(a.getString("Errors.Dzi"))}else{if("Collection"==k)throw new Error(a.getString("Errors.Dzc"));if("Error"==k){var o=j.getElementsByTagName("Message")[0],p=o.firstChild.nodeValue;throw new Error(p)}}throw new Error(a.getString("Errors.Dzi"))}function c(b,c){var d,e,f=c.Image,g=f.Url,h=f.Format,i=f.Size,j=f.DisplayRect||[],k=parseInt(i.Width,10),l=parseInt(i.Height,10),m=parseInt(f.TileSize,10),n=parseInt(f.Overlap,10),o=[];for(e=0;e<j.length;e++)d=j[e].Rect,o.push(new a.DisplayRect(parseInt(d.X,10),parseInt(d.Y,10),parseInt(d.Width,10),parseInt(d.Height,10),parseInt(d.MinLevel,10),parseInt(d.MaxLevel,10)));return a.extend(!0,{width:k,height:l,tileSize:m,tileOverlap:n,minLevel:null,maxLevel:null,tilesUrl:g,fileFormat:h,displayRects:o},c)}a.DziTileSource=function(b,c,d,e,f,g,h,i,j){var k,l,m,n;if(n=a.isPlainObject(b)?b:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=n.tilesUrl,this.fileFormat=n.fileFormat,this.displayRects=n.displayRects,this.displayRects)for(k=this.displayRects.length-1;k>=0;k--)for(l=this.displayRects[k],m=l.minLevel;m<=l.maxLevel;m++)this._levelRects[m]||(this._levelRects[m]=[]),this._levelRects[m].push(l);a.TileSource.apply(this,[n])},a.extend(a.DziTileSource.prototype,a.TileSource.prototype,{supports:function(a,b){var c;return a.Image?c=a.Image.xmlns:a.documentElement&&("Image"!=a.documentElement.localName&&"Image"!=a.documentElement.tagName||(c=a.documentElement.namespaceURI)),c=(c||"").toLowerCase(),-1!==c.indexOf("schemas.microsoft.com/deepzoom/2008")||-1!==c.indexOf("schemas.microsoft.com/deepzoom/2009")},configure:function(d,e){var f;return f=a.isPlainObject(d)?c(this,d):b(this,d),e&&!f.tilesUrl&&(f.tilesUrl=e.replace(/([^\/]+?)(\.(dzi|xml|js)?(\?[^\/]*)?)?\/?$/,"$1_files/"),-1!=e.search(/\.(dzi|xml|js)\?/)?f.queryParams=e.match(/\?.*/):f.queryParams=""),f},getTileUrl:function(a,b,c){return[this.tilesUrl,a,"/",b,"_",c,".",this.fileFormat,this.queryParams].join("")},tileExists:function(a,b,c){var d,e,f,g,h,i,j,k=this._levelRects[a];if(this.minLevel&&a<this.minLevel||this.maxLevel&&a>this.maxLevel)return!1;if(!k||!k.length)return!0;for(j=k.length-1;j>=0;j--)if(d=k[j],!(a<d.minLevel||a>d.maxLevel)&&(e=this.getLevelScale(a),f=d.x*e,g=d.y*e,h=f+d.width*e,i=g+d.height*e,f=Math.floor(f/this._tileWidth),g=Math.floor(g/this._tileWidth),h=Math.ceil(h/this._tileWidth),i=Math.ceil(i/this._tileWidth),f<=b&&b<h&&g<=c&&c<i))return!0;return!1}})}(OpenSeadragon),function(a){function b(a){var b=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json"],c=-1!==b.indexOf(a[0]),d=!1;return a.length>1&&a[1].supports&&(d=-1!==a[1].supports.indexOf("sizeByW")),!c||d}function c(a){for(var b=[],c=0;c<a.sizes.length;c++)b.push({url:a["@id"]+"/full/"+a.sizes[c].width+",/0/default."+a.tileFormat,width:a.sizes[c].width,height:a.sizes[c].height});return b.sort(function(a,b){return a.width-b.width})}function d(b){if(!b||!b.documentElement)throw new Error(a.getString("Errors.Xml"));var c=b.documentElement,d=c.tagName,f=null;if("info"==d)try{return f={},e(c,f),f}catch(g){throw g instanceof Error?g:new Error(a.getString("Errors.IIIF"))}throw new Error(a.getString("Errors.IIIF"))}function e(b,c,d){var f,g;if(3==b.nodeType&&d)g=b.nodeValue.trim(),g.match(/^\d*$/)&&(g=Number(g)),c[d]?(a.isArray(c[d])||(c[d]=[c[d]]),c[d].push(g)):c[d]=g;else if(1==b.nodeType)for(f=0;f<b.childNodes.length;f++)e(b.childNodes[f],c,b.nodeName)}a.IIIFTileSource=function(d){if(a.extend(!0,this,d),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(d.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.tile_width&&this.tile_height)d.tileWidth=this.tile_width,d.tileHeight=this.tile_height;else if(this.tile_width)d.tileSize=this.tile_width;else if(this.tile_height)d.tileSize=this.tile_height;else if(this.tiles)if(1==this.tiles.length)d.tileWidth=this.tiles[0].width,d.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var e=0;e<this.tiles.length;e++)for(var f=0;f<this.tiles[e].scaleFactors.length;f++){var g=this.tiles[e].scaleFactors[f];this.scale_factors.push(g),d.tileSizePerScaleFactor[g]={width:this.tiles[e].width,height:this.tiles[e].height||this.tiles[e].width}}}else if(b(d.profile)){for(var h=Math.min(this.height,this.width),i=[256,512,1024],j=[],k=0;k<i.length;k++)i[k]<=h&&j.push(i[k]);j.length>0?d.tileSize=Math.max.apply(null,j):d.tileSize=h}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,d.levels=c(this),a.extend(!0,d,{width:d.levels[d.levels.length-1].width,height:d.levels[d.levels.length-1].height,tileSize:Math.max(d.height,d.width),tileOverlap:0,minLevel:0,maxLevel:d.levels.length-1}),this.levels=d.levels):a.console.error("Nothing in the info.json to construct image pyramids from");if(!d.maxLevel&&!this.emulateLegacyImagePyramid)if(this.scale_factors){var l=Math.max.apply(null,this.scale_factors);d.maxLevel=Math.round(Math.log(l)*Math.LOG2E)}else d.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));a.TileSource.apply(this,[d])},a.extend(a.IIIFTileSource.prototype,a.TileSource.prototype,{supports:function(a,b){return!(!a.protocol||"http://iiif.io/api/image"!=a.protocol)||(!(!a["@context"]||"http://library.stanford.edu/iiif/image-api/1.1/context.json"!=a["@context"]&&"http://iiif.io/api/image/1/context.json"!=a["@context"])||(!(!a.profile||0!==a.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html"))||(!!(a.identifier&&a.width&&a.height)||!(!a.documentElement||"info"!=a.documentElement.tagName||"http://library.stanford.edu/iiif/image-api/ns/"!=a.documentElement.namespaceURI))))},configure:function(b,c){if(a.isPlainObject(b)){if(b["@context"]||(b["@context"]="http://iiif.io/api/image/1.0/context.json",b["@id"]=c.replace("/info.json","")),b.preferredFormats)for(var e=0;e<b.preferredFormats.length;e++)if(OpenSeadragon.imageFormatSupported(b.preferredFormats[e])){b.tileFormat=b.preferredFormats[e];break}return b}var f=d(b);return f["@context"]="http://iiif.io/api/image/1.0/context.json",f["@id"]=c.replace("/info.xml",""),f},getTileWidth:function(b){if(this.emulateLegacyImagePyramid)return a.TileSource.prototype.getTileWidth.call(this,b);var c=Math.pow(2,this.maxLevel-b);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[c]?this.tileSizePerScaleFactor[c].width:this._tileWidth},getTileHeight:function(b){if(this.emulateLegacyImagePyramid)return a.TileSource.prototype.getTileHeight.call(this,b);var c=Math.pow(2,this.maxLevel-b);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[c]?this.tileSizePerScaleFactor[c].height:this._tileHeight},getLevelScale:function(b){if(this.emulateLegacyImagePyramid){var c=NaN;return this.levels.length>0&&b>=this.minLevel&&b<=this.maxLevel&&(c=this.levels[b].width/this.levels[this.maxLevel].width),c}return a.TileSource.prototype.getLevelScale.call(this,b)},getNumTiles:function(b){if(this.emulateLegacyImagePyramid){return this.getLevelScale(b)?new a.Point(1,1):new a.Point(0,0)}return a.TileSource.prototype.getNumTiles.call(this,b)},getTileAtPoint:function(b,c){return this.emulateLegacyImagePyramid?new a.Point(0,0):a.TileSource.prototype.getTileAtPoint.call(this,b,c)},getTileUrl:function(a,b,c){if(this.emulateLegacyImagePyramid){var d=null;return this.levels.length>0&&a>=this.minLevel&&a<=this.maxLevel&&(d=this.levels[a].url),d}var e,f,g,h,i,j,k,l,m,n,o,p,q,r="0",s=Math.pow(.5,this.maxLevel-a),t=Math.ceil(this.width*s),u=Math.ceil(this.height*s);return e=this.getTileWidth(a),f=this.getTileHeight(a),g=Math.ceil(e/s),h=Math.ceil(f/s),q=this["@context"].indexOf("/1.0/context.json")>-1||this["@context"].indexOf("/1.1/context.json")>-1||this["@context"].indexOf("/1/context.json")>-1,p=q?"native."+this.tileFormat:"default."+this.tileFormat,t<e&&u<f?(n=q||t!==this.width?t+",":"max",i="full"):(j=b*g,k=c*h,l=Math.min(g,this.width-j),m=Math.min(h,this.height-k),i=0===b&&0===c&&l===this.width&&m===this.height?"full":[j,k,l,m].join(","),o=Math.ceil(l*s),n=q||o!==this.width?o+",":"max"),[this["@id"],i,n,r,p].join("/")}})}(OpenSeadragon),function(a){a.OsmTileSource=function(b,c,d,e,f){var g;g=a.isPlainObject(b)?b:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},g.width&&g.height||(g.width=65572864,g.height=65572864),g.tileSize||(g.tileSize=256,g.tileOverlap=0),g.tilesUrl||(g.tilesUrl="http://tile.openstreetmap.org/"),g.minLevel=8,a.TileSource.apply(this,[g])},a.extend(a.OsmTileSource.prototype,a.TileSource.prototype,{supports:function(a,b){return a.type&&"openstreetmaps"==a.type},configure:function(a,b){return a},getTileUrl:function(a,b,c){return this.tilesUrl+(a-8)+"/"+b+"/"+c+".png"}})}(OpenSeadragon),function(a){a.TmsTileSource=function(b,c,d,e,f){var g;g=a.isPlainObject(b)?b:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var h,i=256*Math.ceil(g.width/256),j=256*Math.ceil(g.height/256);h=i>j?i/256:j/256,g.maxLevel=Math.ceil(Math.log(h)/Math.log(2))-1,g.tileSize=256,g.width=i,g.height=j,a.TileSource.apply(this,[g])},a.extend(a.TmsTileSource.prototype,a.TileSource.prototype,{supports:function(a,b){return a.type&&"tiledmapservice"==a.type},configure:function(a,b){return a},getTileUrl:function(a,b,c){var d=this.getNumTiles(a).y-1;return this.tilesUrl+a+"/"+b+"/"+(d-c)+".png"}})}(OpenSeadragon),function(a){a.ZoomifyTileSource=function(a){a.tileSize=256;var b={x:a.width,y:a.height};for(a.imageSizes=[{x:a.width,y:a.height}],a.gridSize=[this._getGridSize(a.width,a.height,a.tileSize)];parseInt(b.x,10)>a.tileSize||parseInt(b.y,10)>a.tileSize;)b.x=Math.floor(b.x/2),b.y=Math.floor(b.y/2),a.imageSizes.push({x:b.x,y:b.y}),a.gridSize.push(this._getGridSize(b.x,b.y,a.tileSize));a.imageSizes.reverse(),a.gridSize.reverse(),a.minLevel=0,a.maxLevel=a.gridSize.length-1,OpenSeadragon.TileSource.apply(this,[a])},a.extend(a.ZoomifyTileSource.prototype,a.TileSource.prototype,{_getGridSize:function(a,b,c){return{x:Math.ceil(a/c),y:Math.ceil(b/c)}},_calculateAbsoluteTileNumber:function(a,b,c){for(var d=0,e={},f=0;f<a;f++)e=this.gridSize[f],d+=e.x*e.y;return e=this.gridSize[a],d+=e.x*c+b},supports:function(a,b){return a.type&&"zoomifytileservice"==a.type},configure:function(a,b){return a},getTileUrl:function(a,b,c){var d=0,e=this._calculateAbsoluteTileNumber(a,b,c);return d=Math.floor(e/256),this.tilesUrl+"TileGroup"+d+"/"+a+"-"+b+"-"+c+".jpg"}})}(OpenSeadragon),function(a){function b(b){var c,d,e=[];for(d=0;d<b.length;d++)c=b[d],c.height&&c.width&&c.url?e.push({url:c.url,width:Number(c.width),height:Number(c.height)}):a.console.error("Unsupported image format: %s",c.url?c.url:"<no URL>");return e.sort(function(a,b){return a.height-b.height})}function c(b,c){if(!c||!c.documentElement)throw new Error(a.getString("Errors.Xml"));var e,f,g=c.documentElement,h=g.tagName,i=null,j=[];if("image"==h)try{for(i={type:g.getAttribute("type"),levels:[]},j=g.getElementsByTagName("level"),f=0;f<j.length;f++)e=j[f],i.levels.push({url:e.getAttribute("url"),width:parseInt(e.getAttribute("width"),10),height:parseInt(e.getAttribute("height"),10)});return d(b,i)}catch(k){throw k instanceof Error?k:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if("collection"==h)throw new Error("Legacy Image Pyramid Collections not yet supported.");if("error"==h)throw new Error("Error: "+c)}throw new Error("Unknown element "+h)}function d(a,b){return b.levels}a.LegacyTileSource=function(c){var d,e,f;a.isArray(c)&&(d={type:"legacy-image-pyramid",levels:c}),d.levels=b(d.levels),d.levels.length>0?(e=d.levels[d.levels.length-1].width,f=d.levels[d.levels.length-1].height):(e=0,f=0,a.console.error("No supported image formats found")),a.extend(!0,d,{width:e,height:f,tileSize:Math.max(f,e),tileOverlap:0,minLevel:0,maxLevel:d.levels.length>0?d.levels.length-1:0}),a.TileSource.apply(this,[d]),this.levels=d.levels},a.extend(a.LegacyTileSource.prototype,a.TileSource.prototype,{supports:function(a,b){return a.type&&"legacy-image-pyramid"==a.type||a.documentElement&&"legacy-image-pyramid"==a.documentElement.getAttribute("type")},configure:function(b,e){return a.isPlainObject(b)?d(this,b):c(this,b)},getLevelScale:function(a){var b=NaN;return this.levels.length>0&&a>=this.minLevel&&a<=this.maxLevel&&(b=this.levels[a].width/this.levels[this.maxLevel].width),b},getNumTiles:function(b){return this.getLevelScale(b)?new a.Point(1,1):new a.Point(0,0)},getTileUrl:function(a,b,c){var d=null;return this.levels.length>0&&a>=this.minLevel&&a<=this.maxLevel&&(d=this.levels[a].url),d}})}(OpenSeadragon),function(a){a.ImageTileSource=function(b){b=a.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},b),a.TileSource.apply(this,[b])},a.extend(a.ImageTileSource.prototype,a.TileSource.prototype,{supports:function(a,b){return a.type&&"image"===a.type},configure:function(a,b){return a},getImageInfo:function(b){var c=this._image=new Image,d=this;this.crossOriginPolicy&&(c.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(c.useCredentials=this.ajaxWithCredentials),a.addEvent(c,"load",function(){d.width=Object.prototype.hasOwnProperty.call(c,"naturalWidth")?c.naturalWidth:c.width,d.height=Object.prototype.hasOwnProperty.call(c,"naturalHeight")?c.naturalHeight:c.height,d.aspectRatio=d.width/d.height,d.dimensions=new a.Point(d.width,d.height),d._tileWidth=d.width,d._tileHeight=d.height,d.tileOverlap=0,d.minLevel=0,d.levels=d._buildLevels(),d.maxLevel=d.levels.length-1,d.ready=!0,d.raiseEvent("ready",{tileSource:d})}),a.addEvent(c,"error",function(){d.raiseEvent("open-failed",{message:"Error loading image at "+b,source:b})}),c.src=b},getLevelScale:function(a){var b=NaN;return a>=this.minLevel&&a<=this.maxLevel&&(b=this.levels[a].width/this.levels[this.maxLevel].width),b},getNumTiles:function(b){return this.getLevelScale(b)?new a.Point(1,1):new a.Point(0,0)},getTileUrl:function(a,b,c){var d=null;return a>=this.minLevel&&a<=this.maxLevel&&(d=this.levels[a].url),d},getContext2D:function(a,b,c){var d=null;return a>=this.minLevel&&a<=this.maxLevel&&(d=this.levels[a].context2D),d},_buildLevels:function(){var b=[{url:this._image.src,width:Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,height:Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height}];if(!this.buildPyramid||!a.supportsCanvas||!this.useCanvas)return delete this._image,b;var c=Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,d=Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height,e=document.createElement("canvas"),f=e.getContext("2d");if(e.width=c,e.height=d,f.drawImage(this._image,0,0,c,d),b[0].context2D=f,delete this._image,a.isCanvasTainted(e))return b;for(;c>=2&&d>=2;){c=Math.floor(c/2),d=Math.floor(d/2);var g=document.createElement("canvas"),h=g.getContext("2d");g.width=c,g.height=d,h.drawImage(e,0,0,c,d),b.splice(0,0,{context2D:h,width:c,height:d}),e=g,f=h}return b}})}(OpenSeadragon),function(a){a.TileSourceCollection=function(b,c,d,e){a.console.error("TileSourceCollection is deprecated; use World instead")}}(OpenSeadragon),function(a){function b(b){a.requestAnimationFrame(function(){c(b)})}function c(c){var d,e,f;c.shouldFade&&(d=a.now(),e=d-c.fadeBeginTime,f=1-e/c.fadeLength,f=Math.min(1,f),f=Math.max(0,f),c.imgGroup&&a.setElementOpacity(c.imgGroup,f,!0),f>0&&b(c))}function d(c){c.shouldFade=!0,c.fadeBeginTime=a.now()+c.fadeDelay,window.setTimeout(function(){b(c)},c.fadeDelay)}function e(b){b.shouldFade=!1,b.imgGroup&&a.setElementOpacity(b.imgGroup,1,!0)}function f(b,c){b.element.disabled||(c>=a.ButtonState.GROUP&&b.currentState==a.ButtonState.REST&&(e(b),b.currentState=a.ButtonState.GROUP),c>=a.ButtonState.HOVER&&b.currentState==a.ButtonState.GROUP&&(b.imgHover&&(b.imgHover.style.visibility=""),b.currentState=a.ButtonState.HOVER),c>=a.ButtonState.DOWN&&b.currentState==a.ButtonState.HOVER&&(b.imgDown&&(b.imgDown.style.visibility=""),b.currentState=a.ButtonState.DOWN))}function g(b,c){b.element.disabled||(c<=a.ButtonState.HOVER&&b.currentState==a.ButtonState.DOWN&&(b.imgDown&&(b.imgDown.style.visibility="hidden"),b.currentState=a.ButtonState.HOVER),c<=a.ButtonState.GROUP&&b.currentState==a.ButtonState.HOVER&&(b.imgHover&&(b.imgHover.style.visibility="hidden"),b.currentState=a.ButtonState.GROUP),c<=a.ButtonState.REST&&b.currentState==a.ButtonState.GROUP&&(d(b),b.currentState=a.ButtonState.REST))}a.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},a.Button=function(b){var c=this;a.EventSource.call(this),a.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:a.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:a.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null},b),this.element=b.element||a.makeNeutralElement("div"),b.element||(this.imgRest=a.makeTransparentImage(this.srcRest),this.imgGroup=a.makeTransparentImage(this.srcGroup),this.imgHover=a.makeTransparentImage(this.srcHover),this.imgDown=a.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,this.element.style.position="relative",a.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",a.Browser.vendor==a.BROWSERS.FIREFOX&&a.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=a.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new a.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(b){b.insideElementPressed?(f(c,a.ButtonState.DOWN),c.raiseEvent("enter",{originalEvent:b.originalEvent})):b.buttonDownAny||f(c,a.ButtonState.HOVER)},focusHandler:function(a){this.enterHandler(a),c.raiseEvent("focus",{originalEvent:a.originalEvent})},exitHandler:function(b){g(c,a.ButtonState.GROUP),b.insideElementPressed&&c.raiseEvent("exit",{originalEvent:b.originalEvent})},blurHandler:function(a){this.exitHandler(a),c.raiseEvent("blur",{originalEvent:a.originalEvent})},pressHandler:function(b){f(c,a.ButtonState.DOWN),c.raiseEvent("press",{originalEvent:b.originalEvent})},releaseHandler:function(b){b.insideElementPressed&&b.insideElementReleased?(g(c,a.ButtonState.HOVER),c.raiseEvent("release",{originalEvent:b.originalEvent})):b.insideElementPressed?g(c,a.ButtonState.GROUP):f(c,a.ButtonState.HOVER)},clickHandler:function(a){a.quick&&c.raiseEvent("click",{originalEvent:a.originalEvent})},keyHandler:function(a){return 13!==a.keyCode||(c.raiseEvent("click",{originalEvent:a.originalEvent}),c.raiseEvent("release",{originalEvent:a.originalEvent}),!1)}}),g(this,a.ButtonState.REST)},a.extend(a.Button.prototype,a.EventSource.prototype,{notifyGroupEnter:function(){f(this,a.ButtonState.GROUP)},notifyGroupExit:function(){g(this,a.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,a.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,a.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()}})}(OpenSeadragon),function(a){a.ButtonGroup=function(b){a.extend(!0,this,{buttons:[],clickTimeThreshold:a.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:a.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},b);var c,d=this.buttons.concat([]),e=this;if(this.element=b.element||a.makeNeutralElement("div"),!b.group)for(this.element.style.display="inline-block",c=0;c<d.length;c++)this.element.appendChild(d[c].element);a.setElementTouchActionNone(this.element),this.tracker=new a.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(a){var b;for(b=0;b<e.buttons.length;b++)e.buttons[b].notifyGroupEnter()},exitHandler:function(a){var b;if(!a.insideElementPressed)for(b=0;b<e.buttons.length;b++)e.buttons[b].notifyGroupExit()}})},a.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateExit:function(){this.tracker.exitHandler({eventSource:this.tracker})}}}(OpenSeadragon),function(a){a.Rect=function(b,c,d,e,f){this.x="number"==typeof b?b:0,this.y="number"==typeof c?c:0,this.width="number"==typeof d?d:0,this.height="number"==typeof e?e:0,this.degrees="number"==typeof f?f:0,this.degrees=a.positiveModulo(this.degrees,360);var g,h;this.degrees>=270?(g=this.getTopRight(),this.x=g.x,this.y=g.y,h=this.height,this.height=this.width,this.width=h,this.degrees-=270):this.degrees>=180?(g=this.getBottomRight(),this.x=g.x,this.y=g.y,this.degrees-=180):this.degrees>=90&&(g=this.getBottomLeft(),this.x=g.x,this.y=g.y,h=this.height,this.height=this.width,this.width=h,this.degrees-=90)},a.Rect.fromSummits=function(b,c,d){var e=b.distanceTo(c),f=b.distanceTo(d),g=c.minus(b),h=Math.atan(g.y/g.x);return g.x<0?h+=Math.PI:g.y<0&&(h+=2*Math.PI),new a.Rect(b.x,b.y,e,f,h/Math.PI*180)},a.Rect.prototype={clone:function(){return new a.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new a.Point(this.x,this.y)},getBottomRight:function(){return new a.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new a.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new a.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new a.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new a.Point(this.width,this.height)},equals:function(b){return b instanceof a.Rect&&this.x===b.x&&this.y===b.y&&this.width===b.width&&this.height===b.height&&this.degrees===b.degrees},times:function(b){return new a.Rect(this.x*b,this.y*b,this.width*b,this.height*b,this.degrees)},translate:function(b){return new a.Rect(this.x+b.x,this.y+b.y,this.width,this.height,this.degrees)},union:function(b){var c=this.getBoundingBox(),d=b.getBoundingBox(),e=Math.min(c.x,d.x),f=Math.min(c.y,d.y),g=Math.max(c.x+c.width,d.x+d.width),h=Math.max(c.y+c.height,d.y+d.height);return new a.Rect(e,f,g-e,h-f)},intersection:function(b){function c(b,c,e,f){var g=c.minus(b),h=f.minus(e),i=-h.x*g.y+g.x*h.y;if(0===i)return null;var j=(g.x*(b.y-e.y)-g.y*(b.x-e.x))/i,k=(h.x*(b.y-e.y)-h.y*(b.x-e.x))/i;return-d<=j&&j<=1-d&&-d<=k&&k<=1-d?new a.Point(b.x+k*g.x,b.y+k*g.y):null}var d=1e-10,e=[],f=this.getTopLeft();b.containsPoint(f,d)&&e.push(f);var g=this.getTopRight();b.containsPoint(g,d)&&e.push(g);var h=this.getBottomLeft();b.containsPoint(h,d)&&e.push(h);var i=this.getBottomRight();b.containsPoint(i,d)&&e.push(i);var j=b.getTopLeft();this.containsPoint(j,d)&&e.push(j);var k=b.getTopRight();this.containsPoint(k,d)&&e.push(k);var l=b.getBottomLeft();this.containsPoint(l,d)&&e.push(l);var m=b.getBottomRight();this.containsPoint(m,d)&&e.push(m);for(var n=this._getSegments(),o=b._getSegments(),p=0;p<n.length;p++)for(var q=n[p],r=0;r<o.length;r++){var s=o[r],t=c(q[0],q[1],s[0],s[1]);t&&e.push(t)}if(0===e.length)return null;for(var u=e[0].x,v=e[0].x,w=e[0].y,x=e[0].y,y=1;y<e.length;y++){var z=e[y];z.x<u&&(u=z.x),z.x>v&&(v=z.x),z.y<w&&(w=z.y),z.y>x&&(x=z.y)}return new a.Rect(u,w,v-u,x-w)},_getSegments:function(){var a=this.getTopLeft(),b=this.getTopRight(),c=this.getBottomLeft(),d=this.getBottomRight();return[[a,b],[b,d],[d,c],[c,a]]},rotate:function(b,c){if(0===(b=a.positiveModulo(b,360)))return this.clone();c=c||this.getCenter();var d=this.getTopLeft().rotate(b,c),e=this.getTopRight().rotate(b,c),f=e.minus(d);f=f.apply(function(a){return Math.abs(a)<1e-15?0:a});var g=Math.atan(f.y/f.x);return f.x<0?g+=Math.PI:f.y<0&&(g+=2*Math.PI),new a.Rect(d.x,d.y,this.width,this.height,g/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var b=this.getTopLeft(),c=this.getTopRight(),d=this.getBottomLeft(),e=this.getBottomRight(),f=Math.min(b.x,c.x,d.x,e.x),g=Math.max(b.x,c.x,d.x,e.x),h=Math.min(b.y,c.y,d.y,e.y),i=Math.max(b.y,c.y,d.y,e.y);return new a.Rect(f,h,g-f,i-h)},getIntegerBoundingBox:function(){var b=this.getBoundingBox(),c=Math.floor(b.x),d=Math.floor(b.y),e=Math.ceil(b.width+b.x-c),f=Math.ceil(b.height+b.y-d);return new a.Rect(c,d,e,f)},containsPoint:function(a,b){b=b||0;var c=this.getTopLeft(),d=this.getTopRight(),e=this.getBottomLeft(),f=d.minus(c),g=e.minus(c);return(a.x-c.x)*f.x+(a.y-c.y)*f.y>=-b&&(a.x-d.x)*f.x+(a.y-d.y)*f.y<=b&&(a.x-c.x)*g.x+(a.y-c.y)*g.y>=-b&&(a.x-e.x)*g.x+(a.y-e.y)*g.y<=b},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}}}(OpenSeadragon),function(a){function b(b){var c=Number(this.element.style.marginLeft.replace("px","")),e=Number(this.element.style.marginTop.replace("px","")),f=Number(this.element.style.width.replace("px","")),g=Number(this.element.style.height.replace("px","")),h=a.getElementSize(this.viewer.canvas);return this.dragging=!0,this.element&&("horizontal"==this.scroll?-b.delta.x>0?c>-(f-h.x)&&(this.element.style.marginLeft=c+2*b.delta.x+"px",d(this,h.x,c+2*b.delta.x)):-b.delta.x<0&&c<0&&(this.element.style.marginLeft=c+2*b.delta.x+"px",d(this,h.x,c+2*b.delta.x)):-b.delta.y>0?e>-(g-h.y)&&(this.element.style.marginTop=e+2*b.delta.y+"px",d(this,h.y,e+2*b.delta.y)):-b.delta.y<0&&e<0&&(this.element.style.marginTop=e+2*b.delta.y+"px",d(this,h.y,e+2*b.delta.y))),!1}function c(b){var c=Number(this.element.style.marginLeft.replace("px","")),e=Number(this.element.style.marginTop.replace("px","")),f=Number(this.element.style.width.replace("px","")),g=Number(this.element.style.height.replace("px","")),h=a.getElementSize(this.viewer.canvas);return this.element&&("horizontal"==this.scroll?b.scroll>0?c>-(f-h.x)&&(this.element.style.marginLeft=c-60*b.scroll+"px",d(this,h.x,c-60*b.scroll)):b.scroll<0&&c<0&&(this.element.style.marginLeft=c-60*b.scroll+"px",d(this,h.x,c-60*b.scroll)):b.scroll<0?e>h.y-g&&(this.element.style.marginTop=e+60*b.scroll+"px",d(this,h.y,e+60*b.scroll)):b.scroll>0&&e<0&&(this.element.style.marginTop=e+60*b.scroll+"px",d(this,h.y,e+60*b.scroll))),!1}function d(b,c,d){var e,f,g,h,i,j,k;for(e="horizontal"==b.scroll?b.panelWidth:b.panelHeight,f=Math.ceil(c/e)+5,g=Math.ceil((Math.abs(d)+c)/e)+1,f=g-f,f=f<0?0:f,j=f;j<g&&j<b.panels.length;j++)if(k=b.panels[j],!k.activePanel){var l,m=b.viewer.tileSources[j];l=m.referenceStripThumbnailUrl?{type:"image",url:m.referenceStripThumbnailUrl}:m,h=new a.Viewer({id:k.id,tileSources:[l],element:k,navigatorSizeRatio:b.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0}),h.displayRegion=a.makeNeutralElement("div"),h.displayRegion.id=k.id+"-displayregion",h.displayRegion.className="displayregion",i=h.displayRegion.style,i.position="relative",i.top="0px",i.left="0px",i.fontSize="0px",i.overflow="hidden",i.float="left",i.cssFloat="left",
i.styleFloat="left",i.zIndex=999999999,i.cursor="default",i.width=b.panelWidth-4+"px",i.height=b.panelHeight-4+"px",h.displayRegion.innerTracker=new a.MouseTracker({element:h.displayRegion,startDisabled:!0}),k.getElementsByTagName("div")[0].appendChild(h.displayRegion),b.miniViewers[k.id]=h,k.activePanel=!0}}function e(a){var b=a.eventSource.element;return"horizontal"==this.scroll?b.style.marginBottom="0px":b.style.marginLeft="0px",!1}function f(b){var c=b.eventSource.element;return"horizontal"==this.scroll?c.style.marginBottom="-"+a.getElementSize(c).y/2+"px":c.style.marginLeft="-"+a.getElementSize(c).x/2+"px",!1}function g(a){if(a.preventDefaultAction||a.ctrl||a.alt||a.meta)return!0;switch(a.keyCode){case 38:return c.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 40:case 37:return c.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 39:return c.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}function h(a){if(a.preventDefaultAction||a.ctrl||a.alt||a.meta)return!0;switch(a.keyCode){case 61:return c.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 45:return c.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 48:case 119:case 87:return c.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 115:case 83:case 97:return c.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 100:return c.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}var i={};a.ReferenceStrip=function(j){var k,l,m,n=this,o=j.viewer,p=a.getElementSize(o.element);for(j.id||(j.id="referencestrip-"+a.now(),this.element=a.makeNeutralElement("div"),this.element.id=j.id,this.element.className="referencestrip"),j=a.extend(!0,{sizeRatio:a.DEFAULT_SETTINGS.referenceStripSizeRatio,position:a.DEFAULT_SETTINGS.referenceStripPosition,scroll:a.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:a.DEFAULT_SETTINGS.clickTimeThreshold},j,{element:this.element,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1}),a.extend(this,j),i[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,l=this.element.style,l.marginTop="0px",l.marginRight="0px",l.marginBottom="0px",l.marginLeft="0px",l.left="0px",l.bottom="0px",l.border="0px",l.background="#000",l.position="relative",a.setElementTouchActionNone(this.element),a.setElementOpacity(this.element,.8),this.viewer=o,this.innerTracker=new a.MouseTracker({element:this.element,dragHandler:a.delegate(this,b),scrollHandler:a.delegate(this,c),enterHandler:a.delegate(this,e),exitHandler:a.delegate(this,f),keyDownHandler:a.delegate(this,g),keyHandler:a.delegate(this,h)}),j.width&&j.height?(this.element.style.width=j.width+"px",this.element.style.height=j.height+"px",o.addControl(this.element,{anchor:a.ControlAnchor.BOTTOM_LEFT})):"horizontal"==j.scroll?(this.element.style.width=p.x*j.sizeRatio*o.tileSources.length+12*o.tileSources.length+"px",this.element.style.height=p.y*j.sizeRatio+"px",o.addControl(this.element,{anchor:a.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=p.y*j.sizeRatio*o.tileSources.length+12*o.tileSources.length+"px",this.element.style.width=p.x*j.sizeRatio+"px",o.addControl(this.element,{anchor:a.ControlAnchor.TOP_LEFT})),this.panelWidth=p.x*this.sizeRatio+8,this.panelHeight=p.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},m=0;m<o.tileSources.length;m++)k=a.makeNeutralElement("div"),k.id=this.element.id+"-"+m,k.style.width=n.panelWidth+"px",k.style.height=n.panelHeight+"px",k.style.display="inline",k.style.float="left",k.style.cssFloat="left",k.style.styleFloat="left",k.style.padding="2px",a.setElementTouchActionNone(k),k.innerTracker=new a.MouseTracker({element:k,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,pressHandler:function(b){b.eventSource.dragging=a.now()},releaseHandler:function(b){var c=b.eventSource,d=c.element.id,e=Number(d.split("-")[2]),f=a.now();b.insideElementPressed&&b.insideElementReleased&&c.dragging&&f-c.dragging<c.clickTimeThreshold&&(c.dragging=null,o.goToPage(e))}}),this.element.appendChild(k),k.activePanel=!1,this.panels.push(k);d(this,"vertical"==this.scroll?p.y:p.x,0),this.setFocus(0)},a.extend(a.ReferenceStrip.prototype,a.EventSource.prototype,a.Viewer.prototype,{setFocus:function(b){var c,f=a.getElement(this.element.id+"-"+b),g=a.getElementSize(this.viewer.canvas),h=Number(this.element.style.width.replace("px","")),i=Number(this.element.style.height.replace("px","")),j=-Number(this.element.style.marginLeft.replace("px","")),k=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==f&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=f,this.currentSelected.style.background="#999","horizontal"==this.scroll?(c=Number(b)*(this.panelWidth+3),c>j+g.x-this.panelWidth?(c=Math.min(c,h-g.x),this.element.style.marginLeft=-c+"px",d(this,g.x,-c)):c<j&&(c=Math.max(0,c-g.x/2),this.element.style.marginLeft=-c+"px",d(this,g.x,-c))):(c=Number(b)*(this.panelHeight+3),c>k+g.y-this.panelHeight?(c=Math.min(c,i-g.y),this.element.style.marginTop=-c+"px",d(this,g.y,-c)):c<k&&(c=Math.max(0,c-g.y/2),this.element.style.marginTop=-c+"px",d(this,g.y,-c))),this.currentPage=b,e.call(this,{eventSource:this.innerTracker}))},update:function(){return!!i[this.id].animating&&(a.console.log("image reference strip update"),!0)},destroy:function(){if(this.miniViewers)for(var a in this.miniViewers)this.miniViewers[a].destroy();this.element&&this.element.parentNode.removeChild(this.element)}})}(OpenSeadragon),function(a){a.DisplayRect=function(b,c,d,e,f,g){a.Rect.apply(this,[b,c,d,e]),this.minLevel=f,this.maxLevel=g},a.extend(a.DisplayRect.prototype,a.Rect.prototype)}(OpenSeadragon),function(a){function b(a,b){return(1-Math.exp(a*-b))/(1-Math.exp(-a))}a.Spring=function(b){var c=arguments;"object"!=typeof b&&(b={initial:c.length&&"number"==typeof c[0]?c[0]:void 0,springStiffness:c.length>1?c[1].springStiffness:5,animationTime:c.length>1?c[1].animationTime:1.5}),a.console.assert("number"==typeof b.springStiffness&&0!==b.springStiffness,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),a.console.assert("number"==typeof b.animationTime&&b.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),b.exponential&&(this._exponential=!0,delete b.exponential),a.extend(!0,this,b),this.current={value:"number"==typeof this.initial?this.initial:this._exponential?0:1,time:a.now()},a.console.assert(!this._exponential||0!==this.current.value,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},a.Spring.prototype={resetTo:function(b){a.console.assert(!this._exponential||0!==b,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=b,this.start.time=this.target.time=this.current.time=a.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(b){a.console.assert(!this._exponential||0!==b,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=b,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(b){this.start.value+=b,this.target.value+=b,this._exponential&&(a.console.assert(0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(b){this._exponential=b,this._exponential&&(a.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=a.now();var c,d;this._exponential?(c=this.start._logValue,d=this.target._logValue):(c=this.start.value,d=this.target.value);var e=this.current.time>=this.target.time?d:c+(d-c)*b(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),f=this.current.value;return this._exponential?this.current.value=Math.exp(e):this.current.value=e,f!=this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}}}(OpenSeadragon),function(a){function b(b){a.extend(!0,this,{timeout:a.DEFAULT_SETTINGS.timeout,jobId:null},b),this.image=null}function c(a,b,c){var d;a.jobsInProgress--,(!a.jobLimit||a.jobsInProgress<a.jobLimit)&&a.jobQueue.length>0&&(d=a.jobQueue.shift(),d.start(),a.jobsInProgress++),c(b.image,b.errorMsg,b.request)}b.prototype={errorMsg:null,start:function(){var b=this,c=this.abort;this.image=new Image,this.image.onload=function(){b.finish(!0)},this.image.onabort=this.image.onerror=function(){b.errorMsg="Image load aborted",b.finish(!1)},this.jobId=window.setTimeout(function(){b.errorMsg="Image load exceeded timeout ("+b.timeout+" ms)",b.finish(!1)},this.timeout),this.loadWithAjax?(this.request=a.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(a){var c;try{c=new window.Blob([a.response])}catch(g){var d=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if("TypeError"===g.name&&d){var e=new d;e.append(a.response),c=e.getBlob()}}0===c.size&&(b.errorMsg="Empty image response.",b.finish(!1));var f=(window.URL||window.webkitURL).createObjectURL(c);b.image.src=f},error:function(a){b.errorMsg="Image load aborted - XHR error",b.finish(!1)}}),this.abort=function(){b.request.abort(),"function"==typeof c&&c()}):(!1!==this.crossOriginPolicy&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(a){this.image.onload=this.image.onerror=this.image.onabort=null,a||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},a.ImageLoader=function(b){a.extend(!0,this,{jobLimit:a.DEFAULT_SETTINGS.imageLoaderLimit,timeout:a.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},b)},a.ImageLoader.prototype={addJob:function(a){var d=this,e=function(b){c(d,b,a.callback)},f={src:a.src,loadWithAjax:a.loadWithAjax,ajaxHeaders:a.loadWithAjax?a.ajaxHeaders:null,crossOriginPolicy:a.crossOriginPolicy,ajaxWithCredentials:a.ajaxWithCredentials,callback:e,abort:a.abort,timeout:this.timeout},g=new b(f);!this.jobLimit||this.jobsInProgress<this.jobLimit?(g.start(),this.jobsInProgress++):this.jobQueue.push(g)},clear:function(){for(var a=0;a<this.jobQueue.length;a++){var b=this.jobQueue[a];"function"==typeof b.abort&&b.abort()}this.jobQueue=[]}}}(OpenSeadragon),function(a){a.Tile=function(a,b,c,d,e,f,g,h,i,j){this.level=a,this.x=b,this.y=c,this.bounds=d,this.sourceBounds=j,this.exists=e,this.url=f,this.context2D=g,this.loadWithAjax=h,this.ajaxHeaders=i,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},a.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(b){return this.cacheImageRecord?this.loaded?(this.element||(this.element=a.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!=b&&b.appendChild(this.element),this.imgElement.parentNode!=this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",void a.setElementOpacity(this.element,this.opacity)):void a.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString()):void a.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString())},drawCanvas:function(b,c,d,e){var f,g=this.position.times(a.pixelDensityRatio),h=this.size.times(a.pixelDensityRatio);if(!this.context2D&&!this.cacheImageRecord)return void a.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());if(f=this.context2D||this.cacheImageRecord.getRenderedContext(),!this.loaded||!f)return void a.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());b.save(),b.globalAlpha=this.opacity,"number"==typeof d&&1!==d&&(g=g.times(d),h=h.times(d)),e instanceof a.Point&&(g=g.plus(e)),1===b.globalAlpha&&this._hasTransparencyChannel()&&b.clearRect(g.x,g.y,h.x,h.y),c({context:b,tile:this,rendered:f});var i,j;this.sourceBounds?(i=Math.min(this.sourceBounds.width,f.canvas.width),j=Math.min(this.sourceBounds.height,f.canvas.height)):(i=f.canvas.width,j=f.canvas.height),b.drawImage(f.canvas,0,0,i,j,g.x,g.y,h.x,h.y),b.restore()},getScaleForEdgeSmoothing:function(){var b;if(this.cacheImageRecord)b=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return a.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;b=this.context2D}return b.canvas.width/(this.size.x*a.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(b,c,d){var e=Math.max(1,Math.ceil((d.x-c.x)/2)),f=Math.max(1,Math.ceil((d.y-c.y)/2));return new a.Point(e,f).minus(this.position.times(a.pixelDensityRatio).times(b||1).apply(function(a){return a%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(OpenSeadragon),function(a){a.OverlayPlacement=a.Placement,a.OverlayRotationMode=a.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),a.Overlay=function(b,c,d){var e;e=a.isPlainObject(b)?b:{element:b,location:c,placement:d},this.element=e.element,this.style=e.element.style,this._init(e)},a.Overlay.prototype={_init:function(b){this.location=b.location,this.placement=void 0===b.placement?a.Placement.TOP_LEFT:b.placement,this.onDraw=b.onDraw,this.checkResize=void 0===b.checkResize||b.checkResize,this.width=void 0===b.width?null:b.width,this.height=void 0===b.height?null:b.height,this.rotationMode=b.rotationMode||a.OverlayRotationMode.EXACT,this.location instanceof a.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=a.Placement.TOP_LEFT),this.scales=null!==this.width&&null!==this.height,this.bounds=new a.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(b,c){var d=a.Placement.properties[this.placement];d&&(d.isHorizontallyCentered?b.x-=c.x/2:d.isRight&&(b.x-=c.x),d.isVerticallyCentered?b.y-=c.y/2:d.isBottom&&(b.y-=c.y))},destroy:function(){var b=this.element,c=this.style;b.parentNode&&(b.parentNode.removeChild(b),b.prevElementParent&&(c.display="none",document.body.appendChild(b))),this.onDraw=null,c.top="",c.left="",c.position="",null!==this.width&&(c.width=""),null!==this.height&&(c.height="");var d=a.getCssPropertyWithVendorPrefix("transformOrigin"),e=a.getCssPropertyWithVendorPrefix("transform");d&&e&&(c[d]="",c[e]="")},drawHTML:function(b,c){var d=this.element;d.parentNode!==b&&(d.prevElementParent=d.parentNode,d.prevNextSibling=d.nextSibling,b.appendChild(d),this.style.position="absolute",this.size=a.getElementSize(d));var e=this._getOverlayPositionAndSize(c),f=e.position,g=this.size=e.size,h=e.rotate;if(this.onDraw)this.onDraw(f,g,this.element);else{var i=this.style;i.left=f.x+"px",i.top=f.y+"px",null!==this.width&&(i.width=g.x+"px"),null!==this.height&&(i.height=g.y+"px");var j=a.getCssPropertyWithVendorPrefix("transformOrigin"),k=a.getCssPropertyWithVendorPrefix("transform");j&&k&&(h?(i[j]=this._getTransformOrigin(),i[k]="rotate("+h+"deg)"):(i[j]="",i[k]="")),"none"!==i.display&&(i.display="block")}},_getOverlayPositionAndSize:function(b){var c=b.pixelFromPoint(this.location,!0),d=this._getSizeInPixels(b);this.adjust(c,d);var e=0;if(b.degrees&&this.rotationMode!==a.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===a.OverlayRotationMode.BOUNDING_BOX&&null!==this.width&&null!==this.height){var f=new a.Rect(c.x,c.y,d.x,d.y),g=this._getBoundingBox(f,b.degrees);c=g.getTopLeft(),d=g.getSize()}else e=b.degrees;return{position:c,size:d,rotate:e}},_getSizeInPixels:function(b){var c=this.size.x,d=this.size.y;if(null!==this.width||null!==this.height){var e=b.deltaPixelsFromPointsNoRotate(new a.Point(this.width||0,this.height||0),!0);null!==this.width&&(c=e.x),null!==this.height&&(d=e.y)}if(this.checkResize&&(null===this.width||null===this.height)){var f=this.size=a.getElementSize(this.element);null===this.width&&(c=f.x),null===this.height&&(d=f.y)}return new a.Point(c,d)},_getBoundingBox:function(a,b){var c=this._getPlacementPoint(a);return a.rotate(b,c).getBoundingBox()},_getPlacementPoint:function(b){var c=new a.Point(b.x,b.y),d=a.Placement.properties[this.placement];return d&&(d.isHorizontallyCentered?c.x+=b.width/2:d.isRight&&(c.x+=b.width),d.isVerticallyCentered?c.y+=b.height/2:d.isBottom&&(c.y+=b.height)),c},_getTransformOrigin:function(){var b="",c=a.Placement.properties[this.placement];return c?(c.isLeft?b="left":c.isRight&&(b="right"),c.isTop?b+=" top":c.isBottom&&(b+=" bottom"),b):b},update:function(b,c){var d=a.isPlainObject(b)?b:{location:b,placement:c};this._init({location:d.location||this.location,placement:void 0!==d.placement?d.placement:this.placement,onDraw:d.onDraw||this.onDraw,checkResize:d.checkResize||this.checkResize,width:void 0!==d.width?d.width:this.width,height:void 0!==d.height?d.height:this.height,rotationMode:d.rotationMode||this.rotationMode})},getBounds:function(b){a.console.assert(b,"A viewport must now be passed to Overlay.getBounds.");var c=this.width,d=this.height;if(null===c||null===d){var e=b.deltaPointsFromPixelsNoRotate(this.size,!0);null===c&&(c=e.x),null===d&&(d=e.y)}var f=this.location.clone();return this.adjust(f,new a.Point(c,d)),this._adjustBoundsForRotation(b,new a.Rect(f.x,f.y,c,d))},_adjustBoundsForRotation:function(b,c){if(!b||0===b.degrees||this.rotationMode===a.OverlayRotationMode.EXACT)return c;if(this.rotationMode===a.OverlayRotationMode.BOUNDING_BOX){if(null===this.width||null===this.height)return c;var d=this._getOverlayPositionAndSize(b);return b.viewerElementToViewportRectangle(new a.Rect(d.position.x,d.position.y,d.size.x,d.size.y))}return c.rotate(-b.degrees,this._getPlacementPoint(c))}}}(OpenSeadragon),function(a){a.Drawer=function(b){a.console.assert(b.viewer,"[Drawer] options.viewer is required");var c=arguments;if(a.isPlainObject(b)||(b={source:c[0],viewport:c[1],element:c[2]}),a.console.assert(b.viewport,"[Drawer] options.viewport is required"),a.console.assert(b.element,"[Drawer] options.element is required"),b.source&&a.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=b.viewer,this.viewport=b.viewport,this.debugGridColor="string"==typeof b.debugGridColor?[b.debugGridColor]:b.debugGridColor||a.DEFAULT_SETTINGS.debugGridColor,b.opacity&&a.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=a.supportsCanvas&&(!this.viewer||this.viewer.useCanvas),this.container=a.getElement(b.element),this.canvas=a.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var d=this._calculateCanvasSize();this.canvas.width=d.x,this.canvas.height=d.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",a.setElementOpacity(this.canvas,this.opacity,!0),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},a.Drawer.prototype={addOverlay:function(b,c,d,e){return a.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(b,c,d,e),this},updateOverlay:function(b,c,d){return a.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(b,c,d),this},removeOverlay:function(b){return a.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(b),this},clearOverlays:function(){return a.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},setOpacity:function(b){a.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var c=this.viewer.world,d=0;d<c.getItemCount();d++)c.getItemAt(d).setOpacity(b);return this},getOpacity:function(){a.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var b=this.viewer.world,c=0,d=0;d<b.getItemCount();d++){var e=b.getItemAt(d).getOpacity();e>c&&(c=e)}return c},needsUpdate:function(){return a.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return a.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return a.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return a.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var a=this._calculateCanvasSize();if((this.canvas.width!=a.x||this.canvas.height!=a.y)&&(this.canvas.width=a.x,this.canvas.height=a.y,this._updateImageSmoothingEnabled(this.context),null!==this.sketchCanvas)){var b=this._calculateSketchCanvasSize();this.sketchCanvas.width=b.x,this.sketchCanvas.height=b.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(a,b){if(this.useCanvas){var c=this._getContext(a);if(b)c.clearRect(b.x,b.y,b.width,b.height);else{var d=c.canvas;c.clearRect(0,0,d.width,d.height)}}},viewportToDrawerRectangle:function(b){var c=this.viewport.pixelFromPointNoRotate(b.getTopLeft(),!0),d=this.viewport.deltaPixelsFromPointsNoRotate(b.getSize(),!0);return new a.Rect(c.x*a.pixelDensityRatio,c.y*a.pixelDensityRatio,d.x*a.pixelDensityRatio,d.y*a.pixelDensityRatio)},drawTile:function(b,c,d,e,f){if(a.console.assert(b,"[Drawer.drawTile] tile is required"),a.console.assert(c,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var g=this._getContext(d);e=e||1,b.drawCanvas(g,c,e,f)}else b.drawHTML(this.canvas)},_getContext:function(a){var b=this.context;if(a){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement("canvas");var c=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=c.x,this.sketchCanvas.height=c.y,this.sketchContext=this.sketchCanvas.getContext("2d"),0===this.viewport.getRotation()){var d=this;this.viewer.addHandler("rotate",function a(){if(0!==d.viewport.getRotation()){d.viewer.removeHandler("rotate",a);var b=d._calculateSketchCanvasSize();d.sketchCanvas.width=b.x,d.sketchCanvas.height=b.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}b=this.sketchContext}return b},saveContext:function(a){this.useCanvas&&this._getContext(a).save()},restoreContext:function(a){this.useCanvas&&this._getContext(a).restore()},setClip:function(a,b){if(this.useCanvas){var c=this._getContext(b);c.beginPath(),c.rect(a.x,a.y,a.width,a.height),c.clip()}},drawRectangle:function(a,b,c){if(this.useCanvas){var d=this._getContext(c);d.save(),d.fillStyle=b,d.fillRect(a.x,a.y,a.width,a.height),d.restore()}},blendSketch:function(b,c,d,e){var f=b;if(a.isPlainObject(f)||(f={opacity:b,scale:c,translate:d,compositeOperation:e}),this.useCanvas&&this.sketchCanvas){b=f.opacity,e=f.compositeOperation;var g=f.bounds;if(this.context.save(),this.context.globalAlpha=b,e&&(this.context.globalCompositeOperation=e),g)g.x<0&&(g.width+=g.x,g.x=0),g.x+g.width>this.canvas.width&&(g.width=this.canvas.width-g.x),g.y<0&&(g.height+=g.y,g.y=0),g.y+g.height>this.canvas.height&&(g.height=this.canvas.height-g.y),this.context.drawImage(this.sketchCanvas,g.x,g.y,g.width,g.height,g.x,g.y,g.width,g.height);else{c=f.scale||1,d=f.translate;var h=d instanceof a.Point?d:new a.Point(0,0),i=0,j=0;if(d){var k=this.sketchCanvas.width-this.canvas.width,l=this.sketchCanvas.height-this.canvas.height;i=Math.round(k/2),j=Math.round(l/2)}this.context.drawImage(this.sketchCanvas,h.x-i*c,h.y-j*c,(this.canvas.width+2*i)*c,(this.canvas.height+2*j)*c,-i,-j,this.canvas.width+2*i,this.canvas.height+2*j)}this.context.restore()}},drawDebugInfo:function(b,c,d,e){if(this.useCanvas){var f=this.viewer.world.getIndexOfItem(e)%this.debugGridColor.length,g=this.context;g.save(),g.lineWidth=2*a.pixelDensityRatio,g.font="small-caps bold "+13*a.pixelDensityRatio+"px arial",g.strokeStyle=this.debugGridColor[f],g.fillStyle=this.debugGridColor[f],0!==this.viewport.degrees&&this._offsetForRotation({degrees:this.viewport.degrees}),e.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:e.getRotation(!0),point:e.viewport.pixelFromPointNoRotate(e._getRotationPoint(!0),!0)}),0===e.viewport.degrees&&e.getRotation(!0)%360==0&&e._drawer.viewer.viewport.getFlip()&&e._drawer._flip(),g.strokeRect(b.position.x*a.pixelDensityRatio,b.position.y*a.pixelDensityRatio,b.size.x*a.pixelDensityRatio,b.size.y*a.pixelDensityRatio);var h=(b.position.x+b.size.x/2)*a.pixelDensityRatio,i=(b.position.y+b.size.y/2)*a.pixelDensityRatio;g.translate(h,i),g.rotate(Math.PI/180*-this.viewport.degrees),g.translate(-h,-i),0===b.x&&0===b.y&&(g.fillText("Zoom: "+this.viewport.getZoom(),b.position.x*a.pixelDensityRatio,(b.position.y-30)*a.pixelDensityRatio),g.fillText("Pan: "+this.viewport.getBounds().toString(),b.position.x*a.pixelDensityRatio,(b.position.y-20)*a.pixelDensityRatio)),g.fillText("Level: "+b.level,(b.position.x+10)*a.pixelDensityRatio,(b.position.y+20)*a.pixelDensityRatio),g.fillText("Column: "+b.x,(b.position.x+10)*a.pixelDensityRatio,(b.position.y+30)*a.pixelDensityRatio),g.fillText("Row: "+b.y,(b.position.x+10)*a.pixelDensityRatio,(b.position.y+40)*a.pixelDensityRatio),g.fillText("Order: "+d+" of "+c,(b.position.x+10)*a.pixelDensityRatio,(b.position.y+50)*a.pixelDensityRatio),g.fillText("Size: "+b.size.toString(),(b.position.x+10)*a.pixelDensityRatio,(b.position.y+60)*a.pixelDensityRatio),g.fillText("Position: "+b.position.toString(),(b.position.x+10)*a.pixelDensityRatio,(b.position.y+70)*a.pixelDensityRatio),0!==this.viewport.degrees&&this._restoreRotationChanges(),e.getRotation(!0)%360!=0&&this._restoreRotationChanges(),0===e.viewport.degrees&&e.getRotation(!0)%360==0&&e._drawer.viewer.viewport.getFlip()&&e._drawer._flip(),g.restore()}},debugRect:function(b){if(this.useCanvas){var c=this.context;c.save(),c.lineWidth=2*a.pixelDensityRatio,c.strokeStyle=this.debugGridColor[0],c.fillStyle=this.debugGridColor[0],c.strokeRect(b.x*a.pixelDensityRatio,b.y*a.pixelDensityRatio,b.width*a.pixelDensityRatio,b.height*a.pixelDensityRatio),c.restore()}},setImageSmoothingEnabled:function(a){this.useCanvas&&(this._imageSmoothingEnabled=a,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(a){a.mozImageSmoothingEnabled=this._imageSmoothingEnabled,a.webkitImageSmoothingEnabled=this._imageSmoothingEnabled,a.msImageSmoothingEnabled=this._imageSmoothingEnabled,a.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(b){var c=this._getContext(b).canvas;return new a.Point(c.width,c.height)},getCanvasCenter:function(){return new a.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(b){var c=b.point?b.point.times(a.pixelDensityRatio):this.getCanvasCenter(),d=this._getContext(b.useSketch);d.save(),d.translate(c.x,c.y),this.viewer.viewport.flipped?(d.rotate(Math.PI/180*-b.degrees),d.scale(-1,1)):d.rotate(Math.PI/180*b.degrees),d.translate(-c.x,-c.y)},_flip:function(b){b=b||{};var c=b.point?b.point.times(a.pixelDensityRatio):this.getCanvasCenter(),d=this._getContext(b.useSketch);d.translate(c.x,0),d.scale(-1,1),d.translate(-c.x,0)},_restoreRotationChanges:function(a){this._getContext(a).restore()},_calculateCanvasSize:function(){var b=a.pixelDensityRatio,c=this.viewport.getContainerSize();return{x:Math.round(c.x*b),y:Math.round(c.y*b)}},_calculateSketchCanvasSize:function(){var a=this._calculateCanvasSize();if(0===this.viewport.getRotation())return a;var b=Math.ceil(Math.sqrt(a.x*a.x+a.y*a.y));return{x:b,y:b}}}}(OpenSeadragon),function(a){a.Viewport=function(b){var c=arguments;c.length&&c[0]instanceof a.Point&&(b={containerSize:c[0],contentSize:c[1],config:c[2]}),b.config&&(a.extend(!0,b,b.config),delete b.config),this._margins=a.extend({left:0,top:0,right:0,bottom:0},b.margins||{}),delete b.margins,a.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:a.DEFAULT_SETTINGS.springStiffness,animationTime:a.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:a.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:a.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:a.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:a.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:a.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:a.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:a.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:a.DEFAULT_SETTINGS.maxZoomLevel,degrees:a.DEFAULT_SETTINGS.degrees,flipped:a.DEFAULT_SETTINGS.flipped,homeFillsViewer:a.DEFAULT_SETTINGS.homeFillsViewer},b),this._updateContainerInnerSize(),this.centerSpringX=new a.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new a.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new a.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new a.Rect(0,0,1,1),1),this.goHome(!0),this.update()},a.Viewport.prototype={resetContentSize:function(b){return a.console.assert(b,"[Viewport.resetContentSize] contentSize is required"),
a.console.assert(b instanceof a.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),a.console.assert(b.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),a.console.assert(b.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new a.Rect(0,0,1,b.y/b.x),b.x),this},setHomeBounds:function(b,c){a.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(b,c)},_setContentBounds:function(b,c){a.console.assert(b,"[Viewport._setContentBounds] bounds is required"),a.console.assert(b instanceof a.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),a.console.assert(b.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),a.console.assert(b.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=b.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(c),this._contentBounds=b.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(c),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:c,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var a=this._contentAspectRatio/this.getAspectRatio();return(this.homeFillsViewer?a>=1?a:1:a>=1?1:a)/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var b=this._contentBounds.getCenter(),c=1/this.getHomeZoom(),d=c/this.getAspectRatio();return new a.Rect(b.x-c/2,b.y-d/2,c,d)},goHome:function(a){return this.viewer&&this.viewer.raiseEvent("home",{immediately:a}),this.fitBounds(this.getHomeBounds(),a)},getMinZoom:function(){var a=this.getHomeZoom();return this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*a},getMaxZoom:function(){var a=this.maxZoomLevel;return a||(a=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,a/=this._contentBounds.width),Math.max(a,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new a.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return a.extend({},this._margins)},setMargins:function(b){a.console.assert("object"===a.type(b),"[Viewport.setMargins] margins must be an object"),this._margins=a.extend({left:0,top:0,right:0,bottom:0},b),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(a){return this.getBoundsNoRotate(a).rotate(-this.getRotation())},getBoundsNoRotate:function(b){var c=this.getCenter(b),d=1/this.getZoom(b),e=d/this.getAspectRatio();return new a.Rect(c.x-d/2,c.y-e/2,d,e)},getBoundsWithMargins:function(a){return this.getBoundsNoRotateWithMargins(a).rotate(-this.getRotation(),this.getCenter(a))},getBoundsNoRotateWithMargins:function(a){var b=this.getBoundsNoRotate(a),c=this._containerInnerSize.x*this.getZoom(a);return b.x-=this._margins.left/c,b.y-=this._margins.top/c,b.width+=(this._margins.left+this._margins.right)/c,b.height+=(this._margins.top+this._margins.bottom)/c,b},getCenter:function(b){var c,d,e,f,g,h,i,j,k=new a.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),l=new a.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return b?k:this.zoomPoint?(c=this.pixelFromPoint(this.zoomPoint,!0),d=this.getZoom(),e=1/d,f=e/this.getAspectRatio(),g=new a.Rect(k.x-e/2,k.y-f/2,e,f),h=this._pixelFromPoint(this.zoomPoint,g),i=h.minus(c),j=i.divide(this._containerInnerSize.x*d),l.plus(j)):l},getZoom:function(a){return a?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(a){return Math.max(Math.min(a,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(b){var c=new a.Rect(b.x,b.y,b.width,b.height);if(this.wrapHorizontal);else{var d=this.visibilityRatio*c.width,e=c.x+c.width,f=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,g=this._contentBoundsNoRotate.x-e+d,h=f-c.x-d;d>this._contentBoundsNoRotate.width?c.x+=(g+h)/2:h<0?c.x+=h:g>0&&(c.x+=g)}if(this.wrapVertical);else{var i=this.visibilityRatio*c.height,j=c.y+c.height,k=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,l=this._contentBoundsNoRotate.y-j+i,m=k-c.y-i;i>this._contentBoundsNoRotate.height?c.y+=(l+m)/2:m<0?c.y+=m:l>0&&(c.y+=l)}return c},_raiseConstraintsEvent:function(a){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:a})},applyConstraints:function(a){var b=this.getZoom(),c=this._applyZoomConstraints(b);b!==c&&this.zoomTo(c,this.zoomPoint,a);var d=this.getBoundsNoRotate(),e=this._applyBoundaryConstraints(d);return this._raiseConstraintsEvent(a),(d.x!==e.x||d.y!==e.y||a)&&this.fitBounds(e.rotate(-this.getRotation()),a),this},ensureVisible:function(a){return this.applyConstraints(a)},_fitBounds:function(b,c){c=c||{};var d=c.immediately||!1,e=c.constraints||!1,f=this.getAspectRatio(),g=b.getCenter(),h=new a.Rect(b.x,b.y,b.width,b.height,b.degrees+this.getRotation()).getBoundingBox();h.getAspectRatio()>=f?h.height=h.width/f:h.width=h.height*f,h.x=g.x-h.width/2,h.y=g.y-h.height/2;var i=1/h.width;if(e){var j=h.getAspectRatio(),k=this._applyZoomConstraints(i);i!==k&&(i=k,h.width=1/i,h.x=g.x-h.width/2,h.height=h.width/j,h.y=g.y-h.height/2),h=this._applyBoundaryConstraints(h),g=h.getCenter(),this._raiseConstraintsEvent(d)}if(d)return this.panTo(g,!0),this.zoomTo(i,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var l=this.getBounds(),m=this.getZoom();if(0===m||Math.abs(i/m-1)<1e-8)return this.zoomTo(i,!0),this.panTo(g,d);h=h.rotate(-this.getRotation());var n=h.getTopLeft().times(i).minus(l.getTopLeft().times(m)).divide(i-m);return this.zoomTo(i,n,d)},fitBounds:function(a,b){return this._fitBounds(a,{immediately:b,constraints:!1})},fitBoundsWithConstraints:function(a,b){return this._fitBounds(a,{immediately:b,constraints:!0})},fitVertically:function(b){var c=new a.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(c,b)},fitHorizontally:function(b){var c=new a.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(c,b)},getConstrainedBounds:function(a){var b;return b=this.getBounds(a),this._applyBoundaryConstraints(b)},panBy:function(b,c){var d=new a.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(d.plus(b),c)},panTo:function(a,b){return b?(this.centerSpringX.resetTo(a.x),this.centerSpringY.resetTo(a.y)):(this.centerSpringX.springTo(a.x),this.centerSpringY.springTo(a.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:a,immediately:b}),this},zoomBy:function(a,b,c){return this.zoomTo(this.zoomSpring.target.value*a,b,c)},zoomTo:function(b,c,d){var e=this;return this.zoomPoint=c instanceof a.Point&&!isNaN(c.x)&&!isNaN(c.y)?c:null,d?this._adjustCenterSpringsForZoomPoint(function(){e.zoomSpring.resetTo(b)}):this.zoomSpring.springTo(b),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:b,refPoint:c,immediately:d}),this},setRotation:function(b){return this.viewer&&this.viewer.drawer.canRotate()?(this.degrees=a.positiveModulo(b,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:b}),this):this},getRotation:function(){return this.degrees},resize:function(a,b){var c,d=this.getBoundsNoRotate(),e=d;return this.containerSize.x=a.x,this.containerSize.y=a.y,this._updateContainerInnerSize(),b&&(c=a.x/this.containerSize.x,e.width=d.width*c,e.height=e.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:a,maintain:b}),this.fitBounds(e,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new a.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var a=this;this._adjustCenterSpringsForZoomPoint(function(){a.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var b=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,b},_adjustCenterSpringsForZoomPoint:function(a){if(this.zoomPoint){var b=this.pixelFromPoint(this.zoomPoint,!0);a();var c=this.pixelFromPoint(this.zoomPoint,!0),d=c.minus(b),e=this.deltaPointsFromPixels(d,!0);this.centerSpringX.shiftBy(e.x),this.centerSpringY.shiftBy(e.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else a()},deltaPixelsFromPointsNoRotate:function(a,b){return a.times(this._containerInnerSize.x*this.getZoom(b))},deltaPixelsFromPoints:function(a,b){return this.deltaPixelsFromPointsNoRotate(a.rotate(this.getRotation()),b)},deltaPointsFromPixelsNoRotate:function(a,b){return a.divide(this._containerInnerSize.x*this.getZoom(b))},deltaPointsFromPixels:function(a,b){return this.deltaPointsFromPixelsNoRotate(a,b).rotate(-this.getRotation())},pixelFromPointNoRotate:function(a,b){return this._pixelFromPointNoRotate(a,this.getBoundsNoRotate(b))},pixelFromPoint:function(a,b){return this._pixelFromPoint(a,this.getBoundsNoRotate(b))},_pixelFromPointNoRotate:function(b,c){return b.minus(c.getTopLeft()).times(this._containerInnerSize.x/c.width).plus(new a.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(a,b){return this._pixelFromPointNoRotate(a.rotate(this.getRotation(),this.getCenter(!0)),b)},pointFromPixelNoRotate:function(b,c){var d=this.getBoundsNoRotate(c);return b.minus(new a.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/d.width).plus(d.getTopLeft())},pointFromPixel:function(a,b){return this.pointFromPixelNoRotate(a,b).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(b,c){var d=this._contentBoundsNoRotate.width;return new a.Point(b*this._contentSizeNoRotate.x/d,c*this._contentSizeNoRotate.x/d)},viewportToImageCoordinates:function(b,c){if(b instanceof a.Point)return this.viewportToImageCoordinates(b.x,b.y);if(this.viewer){var d=this.viewer.world.getItemCount();if(d>1)a.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(1===d){var e=this.viewer.world.getItemAt(0);return e.viewportToImageCoordinates(b,c,!0)}}return this._viewportToImageDelta(b-this._contentBoundsNoRotate.x,c-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(b,c){var d=this._contentBoundsNoRotate.width;return new a.Point(b/this._contentSizeNoRotate.x*d,c/this._contentSizeNoRotate.x*d)},imageToViewportCoordinates:function(b,c){if(b instanceof a.Point)return this.imageToViewportCoordinates(b.x,b.y);if(this.viewer){var d=this.viewer.world.getItemCount();if(d>1)a.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(1===d){var e=this.viewer.world.getItemAt(0);return e.imageToViewportCoordinates(b,c,!0)}}var f=this._imageToViewportDelta(b,c);return f.x+=this._contentBoundsNoRotate.x,f.y+=this._contentBoundsNoRotate.y,f},imageToViewportRectangle:function(b,c,d,e){var f=b;if(f instanceof a.Rect||(f=new a.Rect(b,c,d,e)),this.viewer){var g=this.viewer.world.getItemCount();if(g>1)a.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(1===g){var h=this.viewer.world.getItemAt(0);return h.imageToViewportRectangle(b,c,d,e,!0)}}var i=this.imageToViewportCoordinates(f.x,f.y),j=this._imageToViewportDelta(f.width,f.height);return new a.Rect(i.x,i.y,j.x,j.y,f.degrees)},viewportToImageRectangle:function(b,c,d,e){var f=b;if(f instanceof a.Rect||(f=new a.Rect(b,c,d,e)),this.viewer){var g=this.viewer.world.getItemCount();if(g>1)a.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(1===g){var h=this.viewer.world.getItemAt(0);return h.viewportToImageRectangle(b,c,d,e,!0)}}var i=this.viewportToImageCoordinates(f.x,f.y),j=this._viewportToImageDelta(f.width,f.height);return new a.Rect(i.x,i.y,j.x,j.y,f.degrees)},viewerElementToImageCoordinates:function(a){var b=this.pointFromPixel(a,!0);return this.viewportToImageCoordinates(b)},imageToViewerElementCoordinates:function(a){var b=this.imageToViewportCoordinates(a);return this.pixelFromPoint(b,!0)},windowToImageCoordinates:function(b){a.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var c=b.minus(a.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(c)},imageToWindowCoordinates:function(b){return a.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer."),this.imageToViewerElementCoordinates(b).plus(a.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(a){return this.pointFromPixel(a,!0)},viewportToViewerElementCoordinates:function(a){return this.pixelFromPoint(a,!0)},viewerElementToViewportRectangle:function(b){return a.Rect.fromSummits(this.pointFromPixel(b.getTopLeft(),!0),this.pointFromPixel(b.getTopRight(),!0),this.pointFromPixel(b.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(b){return a.Rect.fromSummits(this.pixelFromPoint(b.getTopLeft(),!0),this.pixelFromPoint(b.getTopRight(),!0),this.pixelFromPoint(b.getBottomLeft(),!0))},windowToViewportCoordinates:function(b){a.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var c=b.minus(a.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(c)},viewportToWindowCoordinates:function(b){return a.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer."),this.viewportToViewerElementCoordinates(b).plus(a.getElementPosition(this.viewer.element))},viewportToImageZoom:function(b){if(this.viewer){var c=this.viewer.world.getItemCount();if(c>1)a.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(1===c){var d=this.viewer.world.getItemAt(0);return d.viewportToImageZoom(b)}}var e=this._contentSizeNoRotate.x;return b*(this._containerInnerSize.x/e*this._contentBoundsNoRotate.width)},imageToViewportZoom:function(b){if(this.viewer){var c=this.viewer.world.getItemCount();if(c>1)a.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(1===c){var d=this.viewer.world.getItemAt(0);return d.imageToViewportZoom(b)}}return b*(this._contentSizeNoRotate.x/this._containerInnerSize.x/this._contentBoundsNoRotate.width)},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(a){return this.flipped===a?this:(this.flipped=a,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:a}),this)}}}(OpenSeadragon),function(a){function b(a,b,d,e,f,g,h,i,j){var k=h.getBoundingBox().getTopLeft(),l=h.getBoundingBox().getBottomRight();a.viewer&&a.viewer.raiseEvent("update-level",{tiledImage:a,havedrawn:b,level:e,opacity:f,visibility:g,drawArea:h,topleft:k,bottomright:l,currenttime:i,best:j}),m(a.coverage,e),m(a.loadingCoverage,e);for(var n=a._getCornerTiles(e,k,l),o=n.topLeft,p=n.bottomRight,q=a.source.getNumTiles(e),r=a.viewport.pixelFromPoint(a.viewport.getCenter()),s=o.x;s<=p.x;s++)for(var t=o.y;t<=p.y;t++){if(!a.wrapHorizontal&&!a.wrapVertical){var u=a.source.getTileBounds(e,s,t);if(null===h.intersection(u))continue}j=c(a,d,b,s,t,e,f,g,r,q,i,j)}return j}function c(a,b,c,e,f,j,m,o,p,q,r,s){var t=d(e,f,j,a,a.source,a.tilesMatrix,r,q,a._worldWidthCurrent,a._worldHeightCurrent),u=c;a.viewer&&a.viewer.raiseEvent("update-tile",{tiledImage:a,tile:t}),l(a.coverage,j,e,f,!1);var v=t.loaded||t.loading||k(a.loadingCoverage,j,e,f);if(l(a.loadingCoverage,j,e,f,v),!t.exists)return s;if(b&&!u&&(k(a.coverage,j,e,f)?l(a.coverage,j,e,f,!0):u=!0),!u)return s;if(h(t,a.source.tileOverlap,a.viewport,p,o,a),!t.loaded)if(t.context2D)g(a,t);else{var w=a._tileCache.getImageRecord(t.cacheKey);if(w){var x=w.getImage();g(a,t,x)}}if(t.loaded){i(a,t,e,f,j,m,r)&&(a._needsDraw=!0)}else t.loading?a._tilesLoading++:v||(s=n(s,t));return s}function d(b,c,d,e,f,g,h,i,j,k){var l,m,n,o,p,q,r,s,t;return g[d]||(g[d]={}),g[d][b]||(g[d][b]={}),g[d][b][c]||(l=(i.x+b%i.x)%i.x,m=(i.y+c%i.y)%i.y,n=f.getTileBounds(d,l,m),o=f.getTileBounds(d,l,m,!0),p=f.tileExists(d,l,m),q=f.getTileUrl(d,l,m),e.loadTilesWithAjax?(r=f.getTileAjaxHeaders(d,l,m),a.isPlainObject(e.ajaxHeaders)&&(r=a.extend({},e.ajaxHeaders,r))):r=null,s=f.getContext2D?f.getContext2D(d,l,m):void 0,n.x+=(b-l)/i.x,n.y+=k/j*((c-m)/i.y),t=new a.Tile(d,b,c,n,p,q,s,e.loadTilesWithAjax,r,o),l===i.x-1&&(t.isRightMost=!0),m===i.y-1&&(t.isBottomMost=!0),g[d][b][c]=t),t=g[d][b][c],t.lastTouchTime=h,t}function e(a,b,c){b.loading=!0,a._imageLoader.addJob({src:b.url,loadWithAjax:b.loadWithAjax,ajaxHeaders:b.ajaxHeaders,crossOriginPolicy:a.crossOriginPolicy,ajaxWithCredentials:a.ajaxWithCredentials,callback:function(d,e,g){f(a,b,c,d,e,g)},abort:function(){b.loading=!1}})}function f(b,c,d,e,f,h){if(!e)return a.console.log("Tile %s failed to load: %s - error: %s",c,c.url,f),b.viewer.raiseEvent("tile-load-failed",{tile:c,tiledImage:b,time:d,message:f,tileRequest:h}),c.loading=!1,void(c.exists=!1);if(d<b.lastResetTime)return a.console.log("Ignoring tile %s loaded before reset: %s",c,c.url),void(c.loading=!1);var i=function(){var a=b.source.getClosestLevel();g(b,c,e,a,h)};b._midDraw?window.setTimeout(i,1):i()}function g(a,b,c,d,e){function f(){return h++,g}function g(){0===--h&&(b.loading=!1,b.loaded=!0,b.context2D||a._tileCache.cacheTile({image:c,tile:b,cutoff:d,tiledImage:a}),a._needsDraw=!0)}var h=0;a.viewer.raiseEvent("tile-loaded",{tile:b,tiledImage:a,tileRequest:e,image:c,getCompletionCallback:f}),f()()}function h(b,c,d,e,f,g){var h=b.bounds.getTopLeft();h.x*=g._scaleSpring.current.value,h.y*=g._scaleSpring.current.value,h.x+=g._xSpring.current.value,h.y+=g._ySpring.current.value;var i=b.bounds.getSize();i.x*=g._scaleSpring.current.value,i.y*=g._scaleSpring.current.value;var j=d.pixelFromPointNoRotate(h,!0),k=d.pixelFromPointNoRotate(h,!1),l=d.deltaPixelsFromPointsNoRotate(i,!0),m=d.deltaPixelsFromPointsNoRotate(i,!1),n=k.plus(m.divide(2)),o=e.squaredDistanceTo(n);c||(l=l.plus(new a.Point(1,1))),b.isRightMost&&g.wrapHorizontal&&(l.x+=.75),b.isBottomMost&&g.wrapVertical&&(l.y+=.75),b.position=j,b.size=l,b.squaredDistance=o,b.visibility=f}function i(a,b,c,d,e,f,g){var h,i,j=1e3*a.blendTime;if(b.blendStart||(b.blendStart=g),h=g-b.blendStart,i=j?Math.min(1,h/j):1,a.alwaysBlend&&(i*=f),b.opacity=i,a.lastDrawn.push(b),1===i)l(a.coverage,e,c,d,!0),a._hasOpaqueTile=!0;else if(h<j)return!0;return!1}function j(a,b,c,d){var e,f,g,h;if(!a[b])return!1;if(void 0===c||void 0===d){e=a[b];for(g in e)if(e.hasOwnProperty(g)){f=e[g];for(h in f)if(f.hasOwnProperty(h)&&!f[h])return!1}return!0}return void 0===a[b][c]||void 0===a[b][c][d]||!0===a[b][c][d]}function k(a,b,c,d){return void 0===c||void 0===d?j(a,b+1):j(a,b+1,2*c,2*d)&&j(a,b+1,2*c,2*d+1)&&j(a,b+1,2*c+1,2*d)&&j(a,b+1,2*c+1,2*d+1)}function l(b,c,d,e,f){if(!b[c])return void a.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",c);b[c][d]||(b[c][d]={}),b[c][d][e]=f}function m(a,b){a[b]={}}function n(a,b){return a?b.visibility>a.visibility?b:b.visibility==a.visibility&&b.squaredDistance<a.squaredDistance?b:a:b}function o(b,c){if(0!==b.opacity&&(0!==c.length||b.placeholderFillStyle)){var d,e=c[0];e&&(d=b.opacity<1||b.compositeOperation&&"source-over"!==b.compositeOperation||!b._isBottomItem()&&e._hasTransparencyChannel());var f,g,h=b.viewport.getZoom(!0),i=b.viewportToImageZoom(h);c.length>1&&i>b.smoothTileEdgesMinZoom&&!b.iOSDevice&&b.getRotation(!0)%360==0&&a.supportsCanvas&&(d=!0,f=e.getScaleForEdgeSmoothing(),g=e.getTranslationForEdgeSmoothing(f,b._drawer.getCanvasSize(!1),b._drawer.getCanvasSize(!0)));var j;d&&(f||(j=b.viewport.viewportToViewerElementRectangle(b.getClippedBounds(!0)).getIntegerBoundingBox().times(a.pixelDensityRatio),b._drawer.viewer.viewport.getFlip()&&(0===b.viewport.degrees&&b.getRotation(!0)%360==0||(j.x=b._drawer.viewer.container.clientWidth-(j.x+j.width)))),b._drawer._clear(!0,j)),f||(0!==b.viewport.degrees&&b._drawer._offsetForRotation({degrees:b.viewport.degrees,useSketch:d}),b.getRotation(!0)%360!=0&&b._drawer._offsetForRotation({degrees:b.getRotation(!0),point:b.viewport.pixelFromPointNoRotate(b._getRotationPoint(!0),!0),useSketch:d}),0===b.viewport.degrees&&b.getRotation(!0)%360==0&&b._drawer.viewer.viewport.getFlip()&&b._drawer._flip());var k=!1;if(b._clip){b._drawer.saveContext(d);var l=b.imageToViewportRectangle(b._clip,!0);l=l.rotate(-b.getRotation(!0),b._getRotationPoint(!0));var m=b._drawer.viewportToDrawerRectangle(l);f&&(m=m.times(f)),g&&(m=m.translate(g)),b._drawer.setClip(m,d),k=!0}if(b.placeholderFillStyle&&!1===b._hasOpaqueTile){var n=b._drawer.viewportToDrawerRectangle(b.getBounds(!0));f&&(n=n.times(f)),g&&(n=n.translate(g));var o=null;o="function"==typeof b.placeholderFillStyle?b.placeholderFillStyle(b,b._drawer.context):b.placeholderFillStyle,b._drawer.drawRectangle(n,o,d)}for(var q=c.length-1;q>=0;q--)e=c[q],b._drawer.drawTile(e,b._drawingHandler,d,f,g),e.beingDrawn=!0,b.viewer&&b.viewer.raiseEvent("tile-drawn",{tiledImage:b,tile:e});k&&b._drawer.restoreContext(d),f||(b.getRotation(!0)%360!=0&&b._drawer._restoreRotationChanges(d),0!==b.viewport.degrees&&b._drawer._restoreRotationChanges(d)),d&&(f&&(0!==b.viewport.degrees&&b._drawer._offsetForRotation({degrees:b.viewport.degrees,useSketch:!1}),b.getRotation(!0)%360!=0&&b._drawer._offsetForRotation({degrees:b.getRotation(!0),point:b.viewport.pixelFromPointNoRotate(b._getRotationPoint(!0),!0),useSketch:!1})),b._drawer.blendSketch({opacity:b.opacity,scale:f,translate:g,compositeOperation:b.compositeOperation,bounds:j}),f&&(b.getRotation(!0)%360!=0&&b._drawer._restoreRotationChanges(!1),0!==b.viewport.degrees&&b._drawer._restoreRotationChanges(!1))),f||0===b.viewport.degrees&&b.getRotation(!0)%360==0&&b._drawer.viewer.viewport.getFlip()&&b._drawer._flip(),p(b,c)}}function p(b,c){if(b.debugMode)for(var d=c.length-1;d>=0;d--){var e=c[d];try{b._drawer.drawDebugInfo(e,c.length,d,b)}catch(f){a.console.error(f)}}}a.TiledImage=function(b){var c=this;a.console.assert(b.tileCache,"[TiledImage] options.tileCache is required"),a.console.assert(b.drawer,"[TiledImage] options.drawer is required"),a.console.assert(b.viewer,"[TiledImage] options.viewer is required"),a.console.assert(b.imageLoader,"[TiledImage] options.imageLoader is required"),a.console.assert(b.source,"[TiledImage] options.source is required"),a.console.assert(!b.clip||b.clip instanceof a.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),a.EventSource.call(this),this._tileCache=b.tileCache,delete b.tileCache,this._drawer=b.drawer,delete b.drawer,this._imageLoader=b.imageLoader,delete b.imageLoader,b.clip instanceof a.Rect&&(this._clip=b.clip.clone()),delete b.clip;var d=b.x||0;delete b.x;var e=b.y||0;delete b.y,this.normHeight=b.source.dimensions.y/b.source.dimensions.x,this.contentAspectX=b.source.dimensions.x/b.source.dimensions.y;var f=1;b.width?(f=b.width,delete b.width,b.height&&(a.console.error("specifying both width and height to a tiledImage is not supported"),delete b.height)):b.height&&(f=b.height/this.normHeight,delete b.height);var g=b.fitBounds;delete b.fitBounds;var h=b.fitBoundsPlacement||OpenSeadragon.Placement.CENTER;delete b.fitBoundsPlacement;var i=b.degrees||0;delete b.degrees,a.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:a.DEFAULT_SETTINGS.springStiffness,animationTime:a.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:a.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:a.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:a.DEFAULT_SETTINGS.wrapVertical,immediateRender:a.DEFAULT_SETTINGS.immediateRender,blendTime:a.DEFAULT_SETTINGS.blendTime,alwaysBlend:a.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:a.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:a.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:a.DEFAULT_SETTINGS.iOSDevice,debugMode:a.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:a.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:a.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:a.DEFAULT_SETTINGS.placeholderFillStyle,opacity:a.DEFAULT_SETTINGS.opacity,preload:a.DEFAULT_SETTINGS.preload,compositeOperation:a.DEFAULT_SETTINGS.compositeOperation},b),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new a.Spring({initial:d,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new a.Spring({initial:e,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new a.Spring({initial:f,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new a.Spring({initial:i,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),g&&this.fitBounds(g,h,!0),this._drawingHandler=function(b){c.viewer.raiseEvent("tile-drawing",a.extend({tiledImage:c},b))}},a.extend(a.TiledImage.prototype,a.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(a){a!==this._fullyLoaded&&(this._fullyLoaded=a,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=a.now(),this._needsDraw=!0},update:function(){var a=this._xSpring.update(),b=this._ySpring.update(),c=this._scaleSpring.update(),d=this._degreesSpring.update();return!!(a||b||c||d)&&(this._updateForScale(),this._needsDraw=!0,!0)},draw:function(){0!==this.opacity||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset()},getBounds:function(a){return this.getBoundsNoRotate(a).rotate(this.getRotation(a),this._getRotationPoint(a))},getBoundsNoRotate:function(b){return b?new a.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new a.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return a.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(b){var c=this.getBoundsNoRotate(b);if(this._clip){var d=b?this._worldWidthCurrent:this._worldWidthTarget,e=d/this.source.dimensions.x,f=this._clip.times(e);c=new a.Rect(c.x+f.x,c.y+f.y,f.width,f.height)}return c.rotate(this.getRotation(b),this._getRotationPoint(b))},getContentSize:function(){return new a.Point(this.source.dimensions.x,this.source.dimensions.y)},_viewportToImageDelta:function(b,c,d){var e=d?this._scaleSpring.current.value:this._scaleSpring.target.value;return new a.Point(b*(this.source.dimensions.x/e),c*(this.source.dimensions.y*this.contentAspectX/e))},viewportToImageCoordinates:function(b,c,d){var e;return b instanceof a.Point?(d=c,e=b):e=new a.Point(b,c),e=e.rotate(-this.getRotation(d),this._getRotationPoint(d)),d?this._viewportToImageDelta(e.x-this._xSpring.current.value,e.y-this._ySpring.current.value):this._viewportToImageDelta(e.x-this._xSpring.target.value,e.y-this._ySpring.target.value)},_imageToViewportDelta:function(b,c,d){var e=d?this._scaleSpring.current.value:this._scaleSpring.target.value;return new a.Point(b/this.source.dimensions.x*e,c/this.source.dimensions.y/this.contentAspectX*e)},imageToViewportCoordinates:function(b,c,d){b instanceof a.Point&&(d=c,c=b.y,b=b.x);var e=this._imageToViewportDelta(b,c);return d?(e.x+=this._xSpring.current.value,e.y+=this._ySpring.current.value):(e.x+=this._xSpring.target.value,e.y+=this._ySpring.target.value),e.rotate(this.getRotation(d),this._getRotationPoint(d))},imageToViewportRectangle:function(b,c,d,e,f){var g=b;g instanceof a.Rect?f=c:g=new a.Rect(b,c,d,e);var h=this.imageToViewportCoordinates(g.getTopLeft(),f),i=this._imageToViewportDelta(g.width,g.height,f);return new a.Rect(h.x,h.y,i.x,i.y,g.degrees+this.getRotation(f))},viewportToImageRectangle:function(b,c,d,e,f){var g=b;b instanceof a.Rect?f=c:g=new a.Rect(b,c,d,e);var h=this.viewportToImageCoordinates(g.getTopLeft(),f),i=this._viewportToImageDelta(g.width,g.height,f);return new a.Rect(h.x,h.y,i.x,i.y,g.degrees-this.getRotation(f))},viewerElementToImageCoordinates:function(a){var b=this.viewport.pointFromPixel(a,!0);return this.viewportToImageCoordinates(b)},imageToViewerElementCoordinates:function(a){var b=this.imageToViewportCoordinates(a);return this.viewport.pixelFromPoint(b,!0)},windowToImageCoordinates:function(a){var b=a.minus(OpenSeadragon.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(b)},imageToWindowCoordinates:function(a){return this.imageToViewerElementCoordinates(a).plus(OpenSeadragon.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(b){var c=this._scaleSpring.current.value;return b=b.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new a.Rect((b.x-this._xSpring.current.value)/c,(b.y-this._ySpring.current.value)/c,b.width/c,b.height/c,b.degrees)},viewportToImageZoom:function(a){return this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x*a},imageToViewportZoom:function(a){return a/(this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x)},setPosition:function(a,b){var c=this._xSpring.target.value===a.x&&this._ySpring.target.value===a.y;if(b){if(c&&this._xSpring.current.value===a.x&&this._ySpring.current.value===a.y)return;this._xSpring.resetTo(a.x),this._ySpring.resetTo(a.y),this._needsDraw=!0}else{if(c)return;this._xSpring.springTo(a.x),this._ySpring.springTo(a.y),this._needsDraw=!0}c||this._raiseBoundsChange()},setWidth:function(a,b){this._setScale(a,b)},setHeight:function(a,b){this._setScale(a/this.normHeight,b)},fitBounds:function(b,c,d){c=c||a.Placement.CENTER;var e=a.Placement.properties[c],f=this.contentAspectX,g=0,h=0,i=1,j=1;if(this._clip&&(f=this._clip.getAspectRatio(),i=this._clip.width/this.source.dimensions.x,j=this._clip.height/this.source.dimensions.y,b.getAspectRatio()>f?(g=this._clip.x/this._clip.height*b.height,h=this._clip.y/this._clip.height*b.height):(g=this._clip.x/this._clip.width*b.width,h=this._clip.y/this._clip.width*b.width)),b.getAspectRatio()>f){var k=b.height/j,l=0;e.isHorizontallyCentered?l=(b.width-b.height*f)/2:e.isRight&&(l=b.width-b.height*f),this.setPosition(new a.Point(b.x-g+l,b.y-h),d),this.setHeight(k,d)}else{var m=b.width/i,n=0;e.isVerticallyCentered?n=(b.height-b.width/f)/2:e.isBottom&&(n=b.height-b.width/f),this.setPosition(new a.Point(b.x-g,b.y-h+n),d),this.setWidth(m,d)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(b){a.console.assert(!b||b instanceof a.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),b instanceof a.Rect?this._clip=b.clone():this._clip=null,
this._needsDraw=!0,this.raiseEvent("clip-change")},getOpacity:function(){return this.opacity},setOpacity:function(a){a!==this.opacity&&(this.opacity=a,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(a){this._preload=!!a,this._needsDraw=!0},getRotation:function(a){return a?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(a,b){this._degreesSpring.target.value===a&&this._degreesSpring.isAtTargetValue()||(b?this._degreesSpring.resetTo(a):this._degreesSpring.springTo(a),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(a){return this.getBoundsNoRotate(a).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(a){a!==this.compositeOperation&&(this.compositeOperation=a,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(a,b){var c=this._scaleSpring.target.value===a;if(b){if(c&&this._scaleSpring.current.value===a)return;this._scaleSpring.resetTo(a),this._updateForScale(),this._needsDraw=!0}else{if(c)return;this._scaleSpring.springTo(a),this._updateForScale(),this._needsDraw=!0}c||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var a=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),b=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,c=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(b/this.minPixelRatio)/Math.log(2))));return c=Math.max(c,this.source.minLevel||0),a=Math.min(a,c),{lowestLevel:a,highestLevel:c}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){this.lastDrawn.pop().beingDrawn=!1}var c=this.viewport,d=this._viewportToTiledImageRectangle(c.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var f=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(null===(d=d.intersection(f)))return}for(var g=this._getLevelsInterval(),h=g.lowestLevel,i=g.highestLevel,k=null,l=!1,m=a.now(),n=i;n>=h;n--){var p=!1,q=c.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(n),!0).x*this._scaleSpring.current.value;if(n===h||!l&&q>=this.minPixelRatio)p=!0,l=!0;else if(!l)continue;var r=c.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(n),!1).x*this._scaleSpring.current.value,s=c.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,t=this.immediateRender?1:s;if(k=b(this,l,p,n,Math.min(1,(q-.5)/.5),t/Math.abs(t-r),d,m,k),j(this.coverage,n))break}o(this,this.lastDrawn),k&&!k.context2D?(e(this,k,m),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(0===this._tilesLoading)},_getCornerTiles:function(b,c,d){var e,f;this.wrapHorizontal?(e=a.positiveModulo(c.x,1),f=a.positiveModulo(d.x,1)):(e=Math.max(0,c.x),f=Math.min(1,d.x));var g,h,i=1/this.source.aspectRatio;this.wrapVertical?(g=a.positiveModulo(c.y,i),h=a.positiveModulo(d.y,i)):(g=Math.max(0,c.y),h=Math.min(i,d.y));var j=this.source.getTileAtPoint(b,new a.Point(e,g)),k=this.source.getTileAtPoint(b,new a.Point(f,h)),l=this.source.getNumTiles(b);return this.wrapHorizontal&&(j.x+=l.x*Math.floor(c.x),k.x+=l.x*Math.floor(d.x)),this.wrapVertical&&(j.y+=l.y*Math.floor(c.y/i),k.y+=l.y*Math.floor(d.y/i)),{topLeft:j,bottomRight:k}}})}(OpenSeadragon),function(a){var b=function(b){a.console.assert(b,"[TileCache.cacheTile] options is required"),a.console.assert(b.tile,"[TileCache.cacheTile] options.tile is required"),a.console.assert(b.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=b.tile,this.tiledImage=b.tiledImage},c=function(b){a.console.assert(b,"[ImageRecord] options is required"),a.console.assert(b.image,"[ImageRecord] options.image is required"),this._image=b.image,this._tiles=[]};c.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var a=document.createElement("canvas");a.width=this._image.width,a.height=this._image.height,this._renderedContext=a.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(b){a.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=b},addTile:function(b){a.console.assert(b,"[ImageRecord.addTile] tile is required"),this._tiles.push(b)},removeTile:function(b){for(var c=0;c<this._tiles.length;c++)if(this._tiles[c]===b)return void this._tiles.splice(c,1);a.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",b)},getTileCount:function(){return this._tiles.length}},a.TileCache=function(b){b=b||{},this._maxImageCacheCount=b.maxImageCacheCount||a.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},a.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(d){a.console.assert(d,"[TileCache.cacheTile] options is required"),a.console.assert(d.tile,"[TileCache.cacheTile] options.tile is required"),a.console.assert(d.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),a.console.assert(d.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var e=d.cutoff||0,f=this._tilesLoaded.length,g=this._imagesLoaded[d.tile.cacheKey];if(g||(a.console.assert(d.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),g=this._imagesLoaded[d.tile.cacheKey]=new c({image:d.image}),this._imagesLoadedCount++),g.addTile(d.tile),d.tile.cacheImageRecord=g,this._imagesLoadedCount>this._maxImageCacheCount){for(var h,i,j,k,l,m,n=null,o=-1,p=null,q=this._tilesLoaded.length-1;q>=0;q--)m=this._tilesLoaded[q],h=m.tile,h.level<=e||h.beingDrawn||(n?(k=h.lastTouchTime,i=n.lastTouchTime,l=h.level,j=n.level,(k<i||k==i&&l>j)&&(n=h,o=q,p=m)):(n=h,o=q,p=m));n&&o>=0&&(this._unloadTile(p),f=o)}this._tilesLoaded[f]=new b({tile:d.tile,tiledImage:d.tiledImage})},clearTilesFor:function(b){a.console.assert(b,"[TileCache.clearTilesFor] tiledImage is required");for(var c,d=0;d<this._tilesLoaded.length;++d)c=this._tilesLoaded[d],c.tiledImage===b&&(this._unloadTile(c),this._tilesLoaded.splice(d,1),d--)},getImageRecord:function(b){return a.console.assert(b,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[b]},_unloadTile:function(b){a.console.assert(b,"[TileCache._unloadTile] tileRecord is required");var c=b.tile,d=b.tiledImage;c.unload(),c.cacheImageRecord=null;var e=this._imagesLoaded[c.cacheKey];e.removeTile(c),e.getTileCount()||(e.destroy(),delete this._imagesLoaded[c.cacheKey],this._imagesLoadedCount--),d.viewer.raiseEvent("tile-unloaded",{tile:c,tiledImage:d})}}}(OpenSeadragon),function(a){a.World=function(b){var c=this;a.console.assert(b.viewer,"[World] options.viewer is required"),a.EventSource.call(this),this.viewer=b.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(a){c._autoRefigureSizes?c._figureSizes():c._needsSizesFigured=!0},this._figureSizes()},a.extend(a.World.prototype,a.EventSource.prototype,{addItem:function(b,c){if(a.console.assert(b,"[World.addItem] item is required"),a.console.assert(b instanceof a.TiledImage,"[World.addItem] only TiledImages supported at this time"),c=c||{},void 0!==c.index){var d=Math.max(0,Math.min(this._items.length,c.index));this._items.splice(d,0,b)}else this._items.push(b);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,b.addHandler("bounds-change",this._delegatedFigureSizes),b.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:b})},getItemAt:function(b){return a.console.assert(void 0!==b,"[World.getItemAt] index is required"),this._items[b]},getIndexOfItem:function(b){return a.console.assert(b,"[World.getIndexOfItem] item is required"),a.indexOf(this._items,b)},getItemCount:function(){return this._items.length},setItemIndex:function(b,c){a.console.assert(b,"[World.setItemIndex] item is required"),a.console.assert(void 0!==c,"[World.setItemIndex] index is required");var d=this.getIndexOfItem(b);if(c>=this._items.length)throw new Error("Index bigger than number of layers.");c!==d&&-1!==d&&(this._items.splice(d,1),this._items.splice(c,0,b),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:b,previousIndex:d,newIndex:c}))},removeItem:function(b){a.console.assert(b,"[World.removeItem] item is required");var c=a.indexOf(this._items,b);-1!==c&&(b.removeHandler("bounds-change",this._delegatedFigureSizes),b.removeHandler("clip-change",this._delegatedFigureSizes),b.destroy(),this._items.splice(c,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(b))},removeAll:function(){this.viewer._cancelPendingImages();var a,b;for(b=0;b<this._items.length;b++)a=this._items[b],a.removeHandler("bounds-change",this._delegatedFigureSizes),a.removeHandler("clip-change",this._delegatedFigureSizes),a.destroy();var c=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,b=0;b<c.length;b++)a=c[b],this._raiseRemoveItem(a)},resetItems:function(){for(var a=0;a<this._items.length;a++)this._items[a].reset()},update:function(){for(var a=!1,b=0;b<this._items.length;b++)a=this._items[b].update()||a;return a},draw:function(){for(var a=0;a<this._items.length;a++)this._items[a].draw();this._needsDraw=!1},needsDraw:function(){for(var a=0;a<this._items.length;a++)if(this._items[a].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(a){this._autoRefigureSizes=a,a&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(b){b=b||{};var c,d=b.immediately||!1,e=b.layout||a.DEFAULT_SETTINGS.collectionLayout,f=b.rows||a.DEFAULT_SETTINGS.collectionRows,g=b.columns||a.DEFAULT_SETTINGS.collectionColumns,h=b.tileSize||a.DEFAULT_SETTINGS.collectionTileSize,i=b.tileMargin||a.DEFAULT_SETTINGS.collectionTileMargin,j=h+i;c=!b.rows&&g?g:Math.ceil(this._items.length/f);var k,l,m,n,o,p=0,q=0;this.setAutoRefigureSizes(!1);for(var r=0;r<this._items.length;r++)r&&r%c==0&&("horizontal"===e?(q+=j,p=0):(p+=j,q=0)),k=this._items[r],l=k.getBounds(),m=l.width>l.height?h:h*(l.width/l.height),n=m*(l.height/l.width),o=new a.Point(p+(h-m)/2,q+(h-n)/2),k.setPosition(o,d),k.setWidth(m,d),"horizontal"===e?p+=j:q+=j;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var b=this._homeBounds?this._homeBounds.clone():null,c=this._contentSize?this._contentSize.clone():null,d=this._contentFactor||0;if(this._items.length){var e=this._items[0],f=e.getBounds();this._contentFactor=e.getContentSize().x/f.width;for(var g=e.getClippedBounds().getBoundingBox(),h=g.x,i=g.y,j=g.x+g.width,k=g.y+g.height,l=1;l<this._items.length;l++)e=this._items[l],f=e.getBounds(),this._contentFactor=Math.max(this._contentFactor,e.getContentSize().x/f.width),g=e.getClippedBounds().getBoundingBox(),h=Math.min(h,g.x),i=Math.min(i,g.y),j=Math.max(j,g.x+g.width),k=Math.max(k,g.y+g.height);this._homeBounds=new a.Rect(h,i,j-h,k-i),this._contentSize=new a.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new a.Rect(0,0,1,1),this._contentSize=new a.Point(1,1),this._contentFactor=1;this._contentFactor===d&&this._homeBounds.equals(b)&&this._contentSize.equals(c)||this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(a){this.raiseEvent("remove-item",{item:a})}})}(OpenSeadragon),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a=a||self).Swiper=b()}(this,function(){"use strict";function a(a,b){var c=[],g=0;if(a&&!b&&a instanceof f)return a;if(a)if("string"==typeof a){var h,i,j=a.trim();if(0<=j.indexOf("<")&&0<=j.indexOf(">")){var k="div";for(0===j.indexOf("<li")&&(k="ul"),0===j.indexOf("<tr")&&(k="tbody"),0!==j.indexOf("<td")&&0!==j.indexOf("<th")||(k="tr"),0===j.indexOf("<tbody")&&(k="table"),0===j.indexOf("<option")&&(k="select"),(i=d.createElement(k)).innerHTML=j,g=0;g<i.childNodes.length;g+=1)c.push(i.childNodes[g])}else for(h=b||"#"!==a[0]||a.match(/[ .<>:~]/)?(b||d).querySelectorAll(a.trim()):[d.getElementById(a.trim().split("#")[1])],g=0;g<h.length;g+=1)h[g]&&c.push(h[g])}else if(a.nodeType||a===e||a===d)c.push(a);else if(0<a.length&&a[0].nodeType)for(g=0;g<a.length;g+=1)c.push(a[g]);return new f(c)}function b(a){for(var b=[],c=0;c<a.length;c+=1)-1===b.indexOf(a[c])&&b.push(a[c]);return b}function c(){var a=this,b=a.params,c=a.el;if(!c||0!==c.offsetWidth){b.breakpoints&&a.setBreakpoint();var d=a.allowSlideNext,e=a.allowSlidePrev,f=a.snapGrid;if(a.allowSlideNext=!0,a.allowSlidePrev=!0,a.updateSize(),a.updateSlides(),b.freeMode){var g=Math.min(Math.max(a.translate,a.maxTranslate()),a.minTranslate());a.setTranslate(g),a.updateActiveIndex(),a.updateSlidesClasses(),b.autoHeight&&a.updateAutoHeight()}else a.updateSlidesClasses(),("auto"===b.slidesPerView||1<b.slidesPerView)&&a.isEnd&&!a.params.centeredSlides?a.slideTo(a.slides.length-1,0,!1,!0):a.slideTo(a.activeIndex,0,!1,!0);a.allowSlidePrev=e,a.allowSlideNext=d,a.params.watchOverflow&&f!==a.snapGrid&&a.checkOverflow()}}var d="undefined"==typeof document?{body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},location:{hash:""}}:document,e="undefined"==typeof window?{document:d,navigator:{userAgent:""},location:{},history:{},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){}}:window,f=function(a){for(var b=0;b<a.length;b+=1)this[b]=a[b];return this.length=a.length,this};a.fn=f.prototype,a.Class=f,a.Dom7=f;var g={addClass:function(a){if(void 0===a)return this;for(var b=a.split(" "),c=0;c<b.length;c+=1)for(var d=0;d<this.length;d+=1)void 0!==this[d]&&void 0!==this[d].classList&&this[d].classList.add(b[c]);return this},removeClass:function(a){for(var b=a.split(" "),c=0;c<b.length;c+=1)for(var d=0;d<this.length;d+=1)void 0!==this[d]&&void 0!==this[d].classList&&this[d].classList.remove(b[c]);return this},hasClass:function(a){return!!this[0]&&this[0].classList.contains(a)},toggleClass:function(a){for(var b=a.split(" "),c=0;c<b.length;c+=1)for(var d=0;d<this.length;d+=1)void 0!==this[d]&&void 0!==this[d].classList&&this[d].classList.toggle(b[c]);return this},attr:function(a,b){var c=arguments;if(1===arguments.length&&"string"==typeof a)return this[0]?this[0].getAttribute(a):void 0;for(var d=0;d<this.length;d+=1)if(2===c.length)this[d].setAttribute(a,b);else for(var e in a)this[d][e]=a[e],this[d].setAttribute(e,a[e]);return this},removeAttr:function(a){for(var b=0;b<this.length;b+=1)this[b].removeAttribute(a);return this},data:function(a,b){var c;if(void 0!==b){for(var d=0;d<this.length;d+=1)(c=this[d]).dom7ElementDataStorage||(c.dom7ElementDataStorage={}),c.dom7ElementDataStorage[a]=b;return this}if(c=this[0]){if(c.dom7ElementDataStorage&&a in c.dom7ElementDataStorage)return c.dom7ElementDataStorage[a];return c.getAttribute("data-"+a)||void 0}},transform:function(a){for(var b=0;b<this.length;b+=1){var c=this[b].style;c.webkitTransform=a,c.transform=a}return this},transition:function(a){"string"!=typeof a&&(a+="ms");for(var b=0;b<this.length;b+=1){var c=this[b].style;c.webkitTransitionDuration=a,c.transitionDuration=a}return this},on:function(){function b(b){var c=b.target;if(c){var d=b.target.dom7EventData||[];if(d.indexOf(b)<0&&d.unshift(b),a(c).is(h))i.apply(c,d);else for(var e=a(c).parents(),f=0;f<e.length;f+=1)a(e[f]).is(h)&&i.apply(e[f],d)}}function c(a){var b=a&&a.target&&a.target.dom7EventData||[];b.indexOf(a)<0&&b.unshift(a),i.apply(this,b)}for(var d,e=[],f=arguments.length;f--;)e[f]=arguments[f];var g=e[0],h=e[1],i=e[2],j=e[3];"function"==typeof e[1]&&(g=(d=e)[0],i=d[1],j=d[2],h=void 0),j||(j=!1);for(var k,l=g.split(" "),m=0;m<this.length;m+=1){var n=this[m];if(h)for(k=0;k<l.length;k+=1){var o=l[k];n.dom7LiveListeners||(n.dom7LiveListeners={}),n.dom7LiveListeners[o]||(n.dom7LiveListeners[o]=[]),n.dom7LiveListeners[o].push({listener:i,proxyListener:b}),n.addEventListener(o,b,j)}else for(k=0;k<l.length;k+=1){var p=l[k];n.dom7Listeners||(n.dom7Listeners={}),n.dom7Listeners[p]||(n.dom7Listeners[p]=[]),n.dom7Listeners[p].push({listener:i,proxyListener:c}),n.addEventListener(p,c,j)}}return this},off:function(){for(var a,b=[],c=arguments.length;c--;)b[c]=arguments[c];var d=b[0],e=b[1],f=b[2],g=b[3];"function"==typeof b[1]&&(d=(a=b)[0],f=a[1],g=a[2],e=void 0),g||(g=!1);for(var h=d.split(" "),i=0;i<h.length;i+=1)for(var j=h[i],k=0;k<this.length;k+=1){var l=this[k],m=void 0;if(!e&&l.dom7Listeners?m=l.dom7Listeners[j]:e&&l.dom7LiveListeners&&(m=l.dom7LiveListeners[j]),m&&m.length)for(var n=m.length-1;0<=n;n-=1){var o=m[n];f&&o.listener===f?(l.removeEventListener(j,o.proxyListener,g),m.splice(n,1)):f&&o.listener&&o.listener.dom7proxy&&o.listener.dom7proxy===f?(l.removeEventListener(j,o.proxyListener,g),m.splice(n,1)):f||(l.removeEventListener(j,o.proxyListener,g),m.splice(n,1))}}return this},trigger:function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];for(var c=a[0].split(" "),f=a[1],g=0;g<c.length;g+=1)for(var h=c[g],i=0;i<this.length;i+=1){var j=this[i],k=void 0;try{k=new e.CustomEvent(h,{detail:f,bubbles:!0,cancelable:!0})}catch(a){(k=d.createEvent("Event")).initEvent(h,!0,!0),k.detail=f}j.dom7EventData=a.filter(function(a,b){return 0<b}),j.dispatchEvent(k),j.dom7EventData=[],delete j.dom7EventData}return this},transitionEnd:function(a){function b(f){if(f.target===this)for(a.call(this,f),c=0;c<d.length;c+=1)e.off(d[c],b)}var c,d=["webkitTransitionEnd","transitionend"],e=this;if(a)for(c=0;c<d.length;c+=1)e.on(d[c],b);return this},outerWidth:function(a){if(0<this.length){if(a){var b=this.styles();return this[0].offsetWidth+parseFloat(b.getPropertyValue("margin-right"))+parseFloat(b.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(a){if(0<this.length){if(a){var b=this.styles();return this[0].offsetHeight+parseFloat(b.getPropertyValue("margin-top"))+parseFloat(b.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},offset:function(){if(0<this.length){var a=this[0],b=a.getBoundingClientRect(),c=d.body,f=a.clientTop||c.clientTop||0,g=a.clientLeft||c.clientLeft||0,h=a===e?e.scrollY:a.scrollTop,i=a===e?e.scrollX:a.scrollLeft;return{top:b.top+h-f,left:b.left+i-g}}return null},css:function(a,b){var c;if(1===arguments.length){if("string"!=typeof a){for(c=0;c<this.length;c+=1)for(var d in a)this[c].style[d]=a[d];return this}if(this[0])return e.getComputedStyle(this[0],null).getPropertyValue(a)}if(2===arguments.length&&"string"==typeof a){for(c=0;c<this.length;c+=1)this[c].style[a]=b;return this}return this},each:function(a){if(!a)return this;for(var b=0;b<this.length;b+=1)if(!1===a.call(this[b],b,this[b]))return this;return this},html:function(a){if(void 0===a)return this[0]?this[0].innerHTML:void 0;for(var b=0;b<this.length;b+=1)this[b].innerHTML=a;return this},text:function(a){if(void 0===a)return this[0]?this[0].textContent.trim():null;for(var b=0;b<this.length;b+=1)this[b].textContent=a;return this},is:function(b){var c,g,h=this[0];if(!h||void 0===b)return!1;if("string"==typeof b){if(h.matches)return h.matches(b);if(h.webkitMatchesSelector)return h.webkitMatchesSelector(b);if(h.msMatchesSelector)return h.msMatchesSelector(b);for(c=a(b),g=0;g<c.length;g+=1)if(c[g]===h)return!0;return!1}if(b===d)return h===d;if(b===e)return h===e;if(b.nodeType||b instanceof f){for(c=b.nodeType?[b]:b,g=0;g<c.length;g+=1)if(c[g]===h)return!0;return!1}return!1},index:function(){var a,b=this[0];if(b){for(a=0;null!==(b=b.previousSibling);)1===b.nodeType&&(a+=1);return a}},eq:function(a){if(void 0===a)return this;var b,c=this.length;return new f(c-1<a?[]:a<0?(b=c+a)<0?[]:[this[b]]:[this[a]])},append:function(){for(var a,b=[],c=arguments.length;c--;)b[c]=arguments[c];for(var e=0;e<b.length;e+=1){a=b[e];for(var g=0;g<this.length;g+=1)if("string"==typeof a){var h=d.createElement("div");for(h.innerHTML=a;h.firstChild;)this[g].appendChild(h.firstChild)}else if(a instanceof f)for(var i=0;i<a.length;i+=1)this[g].appendChild(a[i]);else this[g].appendChild(a)}return this},prepend:function(a){var b,c;for(b=0;b<this.length;b+=1)if("string"==typeof a){var e=d.createElement("div");for(e.innerHTML=a,c=e.childNodes.length-1;0<=c;c-=1)this[b].insertBefore(e.childNodes[c],this[b].childNodes[0])}else if(a instanceof f)for(c=0;c<a.length;c+=1)this[b].insertBefore(a[c],this[b].childNodes[0]);else this[b].insertBefore(a,this[b].childNodes[0]);return this},next:function(b){return new f(0<this.length?b?this[0].nextElementSibling&&a(this[0].nextElementSibling).is(b)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(b){var c=[],d=this[0];if(!d)return new f([]);for(;d.nextElementSibling;){var e=d.nextElementSibling;b?a(e).is(b)&&c.push(e):c.push(e),d=e}return new f(c)},prev:function(b){if(0<this.length){var c=this[0];return new f(b?c.previousElementSibling&&a(c.previousElementSibling).is(b)?[c.previousElementSibling]:[]:c.previousElementSibling?[c.previousElementSibling]:[])}return new f([])},prevAll:function(b){var c=[],d=this[0];if(!d)return new f([]);for(;d.previousElementSibling;){var e=d.previousElementSibling;b?a(e).is(b)&&c.push(e):c.push(e),d=e}return new f(c)},parent:function(c){for(var d=[],e=0;e<this.length;e+=1)null!==this[e].parentNode&&(c?a(this[e].parentNode).is(c)&&d.push(this[e].parentNode):d.push(this[e].parentNode));return a(b(d))},parents:function(c){for(var d=[],e=0;e<this.length;e+=1)for(var f=this[e].parentNode;f;)c?a(f).is(c)&&d.push(f):d.push(f),f=f.parentNode;return a(b(d))},closest:function(a){var b=this;return void 0===a?new f([]):(b.is(a)||(b=b.parents(a).eq(0)),b)},find:function(a){for(var b=[],c=0;c<this.length;c+=1)for(var d=this[c].querySelectorAll(a),e=0;e<d.length;e+=1)b.push(d[e]);return new f(b)},children:function(c){for(var d=[],e=0;e<this.length;e+=1)for(var g=this[e].childNodes,h=0;h<g.length;h+=1)c?1===g[h].nodeType&&a(g[h]).is(c)&&d.push(g[h]):1===g[h].nodeType&&d.push(g[h]);return new f(b(d))},remove:function(){for(var a=0;a<this.length;a+=1)this[a].parentNode&&this[a].parentNode.removeChild(this[a]);return this},add:function(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];var d,e;for(d=0;d<b.length;d+=1){var f=a(b[d]);for(e=0;e<f.length;e+=1)this[this.length]=f[e],this.length+=1}return this},styles:function(){return this[0]?e.getComputedStyle(this[0],null):{}}};Object.keys(g).forEach(function(b){a.fn[b]=g[b]});var h,i,j,k,l={deleteProps:function(a){var b=a;Object.keys(b).forEach(function(a){try{b[a]=null}catch(a){}try{delete b[a]}catch(a){}})},nextTick:function(a,b){return void 0===b&&(b=0),setTimeout(a,b)},now:function(){return Date.now()},getTranslate:function(a,b){var c,d,f;void 0===b&&(b="x");var g=e.getComputedStyle(a,null);return e.WebKitCSSMatrix?(6<(d=g.transform||g.webkitTransform).split(",").length&&(d=d.split(", ").map(function(a){return a.replace(",",".")}).join(", ")),f=new e.WebKitCSSMatrix("none"===d?"":d)):c=(f=g.MozTransform||g.OTransform||g.MsTransform||g.msTransform||g.transform||g.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===b&&(d=e.WebKitCSSMatrix?f.m41:16===c.length?parseFloat(c[12]):parseFloat(c[4])),"y"===b&&(d=e.WebKitCSSMatrix?f.m42:16===c.length?parseFloat(c[13]):parseFloat(c[5])),d||0},parseUrlQuery:function(a){var b,c,d,f,g={},h=a||e.location.href;if("string"==typeof h&&h.length)for(f=(c=(h=-1<h.indexOf("?")?h.replace(/\S*\?/,""):"").split("&").filter(function(a){return""!==a})).length,b=0;b<f;b+=1)d=c[b].replace(/#\S+/g,"").split("="),g[decodeURIComponent(d[0])]=void 0===d[1]?void 0:decodeURIComponent(d[1])||"";return g},isObject:function(a){return"object"==typeof a&&null!==a&&a.constructor&&a.constructor===Object},extend:function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];for(var c=Object(a[0]),d=1;d<a.length;d+=1){var e=a[d];if(null!=e)for(var f=Object.keys(Object(e)),g=0,h=f.length;g<h;g+=1){var i=f[g],j=Object.getOwnPropertyDescriptor(e,i);void 0!==j&&j.enumerable&&(l.isObject(c[i])&&l.isObject(e[i])?l.extend(c[i],e[i]):!l.isObject(c[i])&&l.isObject(e[i])?(c[i]={},l.extend(c[i],e[i])):c[i]=e[i])}}return c}},m=(j=d.createElement("div"),{touch:e.Modernizr&&!0===e.Modernizr.touch||!!(0<e.navigator.maxTouchPoints||"ontouchstart"in e||e.DocumentTouch&&d instanceof e.DocumentTouch),pointerEvents:!!(e.navigator.pointerEnabled||e.PointerEvent||"maxTouchPoints"in e.navigator&&0<e.navigator.maxTouchPoints),prefixedPointerEvents:!!e.navigator.msPointerEnabled,transition:"transition"in(i=j.style)||"webkitTransition"in i||"MozTransition"in i,transforms3d:e.Modernizr&&!0===e.Modernizr.csstransforms3d||"webkitPerspective"in(h=j.style)||"MozPerspective"in h||"OPerspective"in h||"MsPerspective"in h||"perspective"in h,flexbox:function(){for(var a=j.style,b="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),c=0;c<b.length;c+=1)if(b[c]in a)return!0;return!1}(),observer:"MutationObserver"in e||"WebkitMutationObserver"in e,passiveListener:function(){var a=!1;try{var b=Object.defineProperty({},"passive",{get:function(){a=!0}});e.addEventListener("testPassiveListener",null,b)}catch(a){}return a}(),gestures:"ongesturestart"in e}),n={isIE:!!e.navigator.userAgent.match(/Trident/g)||!!e.navigator.userAgent.match(/MSIE/g),isEdge:!!e.navigator.userAgent.match(/Edge/g),isSafari:(k=e.navigator.userAgent.toLowerCase(),0<=k.indexOf("safari")&&k.indexOf("chrome")<0&&k.indexOf("android")<0),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)},o=function(a){void 0===a&&(a={});var b=this;b.params=a,b.eventsListeners={},b.params&&b.params.on&&Object.keys(b.params.on).forEach(function(a){b.on(a,b.params.on[a])})},p={components:{configurable:!0}};o.prototype.on=function(a,b,c){var d=this;if("function"!=typeof b)return d;var e=c?"unshift":"push";return a.split(" ").forEach(function(a){d.eventsListeners[a]||(d.eventsListeners[a]=[]),d.eventsListeners[a][e](b)}),d},o.prototype.once=function(a,b,c){function d(){for(var c=[],f=arguments.length;f--;)c[f]=arguments[f];b.apply(e,c),e.off(a,d),d.f7proxy&&delete d.f7proxy}var e=this;return"function"!=typeof b?e:(d.f7proxy=b,e.on(a,d,c))},o.prototype.off=function(a,b){var c=this;return c.eventsListeners&&a.split(" ").forEach(function(a){void 0===b?c.eventsListeners[a]=[]:c.eventsListeners[a]&&c.eventsListeners[a].length&&c.eventsListeners[a].forEach(function(d,e){(d===b||d.f7proxy&&d.f7proxy===b)&&c.eventsListeners[a].splice(e,1)})}),c},o.prototype.emit=function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];var c,d,e,f=this;return f.eventsListeners&&("string"==typeof a[0]||Array.isArray(a[0])?(c=a[0],d=a.slice(1,a.length),e=f):(c=a[0].events,d=a[0].data,e=a[0].context||f),(Array.isArray(c)?c:c.split(" ")).forEach(function(a){if(f.eventsListeners&&f.eventsListeners[a]){var b=[];f.eventsListeners[a].forEach(function(a){b.push(a)}),b.forEach(function(a){a.apply(e,d)})}})),f},o.prototype.useModulesParams=function(a){var b=this;b.modules&&Object.keys(b.modules).forEach(function(c){var d=b.modules[c];d.params&&l.extend(a,d.params)})},o.prototype.useModules=function(a){void 0===a&&(a={});var b=this;b.modules&&Object.keys(b.modules).forEach(function(c){var d=b.modules[c],e=a[c]||{};d.instance&&Object.keys(d.instance).forEach(function(a){var c=d.instance[a];b[a]="function"==typeof c?c.bind(b):c}),d.on&&b.on&&Object.keys(d.on).forEach(function(a){b.on(a,d.on[a])}),d.create&&d.create.bind(b)(e)})},p.components.set=function(a){this.use&&this.use(a)},o.installModule=function(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];var d=this;d.prototype.modules||(d.prototype.modules={});var e=a.name||Object.keys(d.prototype.modules).length+"_"+l.now();return(d.prototype.modules[e]=a).proto&&Object.keys(a.proto).forEach(function(b){d.prototype[b]=a.proto[b]}),a.static&&Object.keys(a.static).forEach(function(b){d[b]=a.static[b]}),a.install&&a.install.apply(d,b),d},o.use=function(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];var d=this;return Array.isArray(a)?(a.forEach(function(a){return d.installModule(a)}),d):d.installModule.apply(d,[a].concat(b))},Object.defineProperties(o,p);var q={updateSize:function(){var a,b,c=this,d=c.$el;a=void 0!==c.params.width?c.params.width:d[0].clientWidth,b=void 0!==c.params.height?c.params.height:d[0].clientHeight,0===a&&c.isHorizontal()||0===b&&c.isVertical()||(a=a-parseInt(d.css("padding-left"),10)-parseInt(d.css("padding-right"),10),b=b-parseInt(d.css("padding-top"),10)-parseInt(d.css("padding-bottom"),10),l.extend(c,{width:a,height:b,size:c.isHorizontal()?a:b}))},updateSlides:function(){var a=this,b=a.params,c=a.$wrapperEl,d=a.size,f=a.rtlTranslate,g=a.wrongRTL,h=a.virtual&&b.virtual.enabled,i=h?a.virtual.slides.length:a.slides.length,j=c.children("."+a.params.slideClass),k=h?a.virtual.slides.length:j.length,n=[],o=[],p=[],q=b.slidesOffsetBefore;"function"==typeof q&&(q=b.slidesOffsetBefore.call(a));var r=b.slidesOffsetAfter;"function"==typeof r&&(r=b.slidesOffsetAfter.call(a));var s=a.snapGrid.length,t=a.snapGrid.length,u=b.spaceBetween,v=-q,w=0,x=0;if(void 0!==d){var y,z;"string"==typeof u&&0<=u.indexOf("%")&&(u=parseFloat(u.replace("%",""))/100*d),a.virtualSize=-u,f?j.css({marginLeft:"",marginTop:""}):j.css({marginRight:"",marginBottom:""}),1<b.slidesPerColumn&&(y=Math.floor(k/b.slidesPerColumn)===k/a.params.slidesPerColumn?k:Math.ceil(k/b.slidesPerColumn)*b.slidesPerColumn,"auto"!==b.slidesPerView&&"row"===b.slidesPerColumnFill&&(y=Math.max(y,b.slidesPerView*b.slidesPerColumn)));for(var A,B=b.slidesPerColumn,C=y/B,D=Math.floor(k/b.slidesPerColumn),E=0;E<k;E+=1){z=0;var F=j.eq(E);if(1<b.slidesPerColumn){var G=void 0,H=void 0,I=void 0;"column"===b.slidesPerColumnFill?(I=E-(H=Math.floor(E/B))*B,(D<H||H===D&&I===B-1)&&B<=(I+=1)&&(I=0,H+=1),G=H+I*y/B,F.css({"-webkit-box-ordinal-group":G,"-moz-box-ordinal-group":G,"-ms-flex-order":G,"-webkit-order":G,order:G})):H=E-(I=Math.floor(E/C))*C,F.css("margin-"+(a.isHorizontal()?"top":"left"),0!==I&&b.spaceBetween&&b.spaceBetween+"px").attr("data-swiper-column",H).attr("data-swiper-row",I)}if("none"!==F.css("display")){if("auto"===b.slidesPerView){var J=e.getComputedStyle(F[0],null),K=F[0].style.transform,L=F[0].style.webkitTransform;if(K&&(F[0].style.transform="none"),L&&(F[0].style.webkitTransform="none"),
b.roundLengths)z=a.isHorizontal()?F.outerWidth(!0):F.outerHeight(!0);else if(a.isHorizontal()){var M=parseFloat(J.getPropertyValue("width")),N=parseFloat(J.getPropertyValue("padding-left")),O=parseFloat(J.getPropertyValue("padding-right")),P=parseFloat(J.getPropertyValue("margin-left")),Q=parseFloat(J.getPropertyValue("margin-right")),R=J.getPropertyValue("box-sizing");z=R&&"border-box"===R?M+P+Q:M+N+O+P+Q}else{var S=parseFloat(J.getPropertyValue("height")),T=parseFloat(J.getPropertyValue("padding-top")),U=parseFloat(J.getPropertyValue("padding-bottom")),V=parseFloat(J.getPropertyValue("margin-top")),W=parseFloat(J.getPropertyValue("margin-bottom")),X=J.getPropertyValue("box-sizing");z=X&&"border-box"===X?S+V+W:S+T+U+V+W}K&&(F[0].style.transform=K),L&&(F[0].style.webkitTransform=L),b.roundLengths&&(z=Math.floor(z))}else z=(d-(b.slidesPerView-1)*u)/b.slidesPerView,b.roundLengths&&(z=Math.floor(z)),j[E]&&(a.isHorizontal()?j[E].style.width=z+"px":j[E].style.height=z+"px");j[E]&&(j[E].swiperSlideSize=z),p.push(z),b.centeredSlides?(v=v+z/2+w/2+u,0===w&&0!==E&&(v=v-d/2-u),0===E&&(v=v-d/2-u),Math.abs(v)<.001&&(v=0),b.roundLengths&&(v=Math.floor(v)),x%b.slidesPerGroup==0&&n.push(v),o.push(v)):(b.roundLengths&&(v=Math.floor(v)),x%b.slidesPerGroup==0&&n.push(v),o.push(v),v=v+z+u),a.virtualSize+=z+u,w=z,x+=1}}if(a.virtualSize=Math.max(a.virtualSize,d)+r,f&&g&&("slide"===b.effect||"coverflow"===b.effect)&&c.css({width:a.virtualSize+b.spaceBetween+"px"}),m.flexbox&&!b.setWrapperSize||(a.isHorizontal()?c.css({width:a.virtualSize+b.spaceBetween+"px"}):c.css({height:a.virtualSize+b.spaceBetween+"px"})),1<b.slidesPerColumn&&(a.virtualSize=(z+b.spaceBetween)*y,a.virtualSize=Math.ceil(a.virtualSize/b.slidesPerColumn)-b.spaceBetween,a.isHorizontal()?c.css({width:a.virtualSize+b.spaceBetween+"px"}):c.css({height:a.virtualSize+b.spaceBetween+"px"}),b.centeredSlides)){A=[];for(var Y=0;Y<n.length;Y+=1){var Z=n[Y];b.roundLengths&&(Z=Math.floor(Z)),n[Y]<a.virtualSize+n[0]&&A.push(Z)}n=A}if(!b.centeredSlides){A=[];for(var $=0;$<n.length;$+=1){var _=n[$];b.roundLengths&&(_=Math.floor(_)),n[$]<=a.virtualSize-d&&A.push(_)}n=A,1<Math.floor(a.virtualSize-d)-Math.floor(n[n.length-1])&&n.push(a.virtualSize-d)}if(0===n.length&&(n=[0]),0!==b.spaceBetween&&(a.isHorizontal()?f?j.css({marginLeft:u+"px"}):j.css({marginRight:u+"px"}):j.css({marginBottom:u+"px"})),b.centerInsufficientSlides){var aa=0;if(p.forEach(function(a){aa+=a+(b.spaceBetween?b.spaceBetween:0)}),(aa-=b.spaceBetween)<d){var ba=(d-aa)/2;n.forEach(function(a,b){n[b]=a-ba}),o.forEach(function(a,b){o[b]=a+ba})}}l.extend(a,{slides:j,snapGrid:n,slidesGrid:o,slidesSizesGrid:p}),k!==i&&a.emit("slidesLengthChange"),n.length!==s&&(a.params.watchOverflow&&a.checkOverflow(),a.emit("snapGridLengthChange")),o.length!==t&&a.emit("slidesGridLengthChange"),(b.watchSlidesProgress||b.watchSlidesVisibility)&&a.updateSlidesOffset()}},updateAutoHeight:function(a){var b,c=this,d=[],e=0;if("number"==typeof a?c.setTransition(a):!0===a&&c.setTransition(c.params.speed),"auto"!==c.params.slidesPerView&&1<c.params.slidesPerView)for(b=0;b<Math.ceil(c.params.slidesPerView);b+=1){var f=c.activeIndex+b;if(f>c.slides.length)break;d.push(c.slides.eq(f)[0])}else d.push(c.slides.eq(c.activeIndex)[0]);for(b=0;b<d.length;b+=1)if(void 0!==d[b]){var g=d[b].offsetHeight;e=e<g?g:e}e&&c.$wrapperEl.css("height",e+"px")},updateSlidesOffset:function(){for(var a=this.slides,b=0;b<a.length;b+=1)a[b].swiperSlideOffset=this.isHorizontal()?a[b].offsetLeft:a[b].offsetTop},updateSlidesProgress:function(b){void 0===b&&(b=this&&this.translate||0);var c=this,d=c.params,e=c.slides,f=c.rtlTranslate;if(0!==e.length){void 0===e[0].swiperSlideOffset&&c.updateSlidesOffset();var g=-b;f&&(g=b),e.removeClass(d.slideVisibleClass),c.visibleSlidesIndexes=[],c.visibleSlides=[];for(var h=0;h<e.length;h+=1){var i=e[h],j=(g+(d.centeredSlides?c.minTranslate():0)-i.swiperSlideOffset)/(i.swiperSlideSize+d.spaceBetween);if(d.watchSlidesVisibility){var k=-(g-i.swiperSlideOffset),l=k+c.slidesSizesGrid[h];(0<=k&&k<c.size||0<l&&l<=c.size||k<=0&&l>=c.size)&&(c.visibleSlides.push(i),c.visibleSlidesIndexes.push(h),e.eq(h).addClass(d.slideVisibleClass))}i.progress=f?-j:j}c.visibleSlides=a(c.visibleSlides)}},updateProgress:function(a){void 0===a&&(a=this&&this.translate||0);var b=this,c=b.params,d=b.maxTranslate()-b.minTranslate(),e=b.progress,f=b.isBeginning,g=b.isEnd,h=f,i=g;0===d?g=f=!(e=0):(f=(e=(a-b.minTranslate())/d)<=0,g=1<=e),l.extend(b,{progress:e,isBeginning:f,isEnd:g}),(c.watchSlidesProgress||c.watchSlidesVisibility)&&b.updateSlidesProgress(a),f&&!h&&b.emit("reachBeginning toEdge"),g&&!i&&b.emit("reachEnd toEdge"),(h&&!f||i&&!g)&&b.emit("fromEdge"),b.emit("progress",e)},updateSlidesClasses:function(){var a,b=this,c=b.slides,d=b.params,e=b.$wrapperEl,f=b.activeIndex,g=b.realIndex,h=b.virtual&&d.virtual.enabled;c.removeClass(d.slideActiveClass+" "+d.slideNextClass+" "+d.slidePrevClass+" "+d.slideDuplicateActiveClass+" "+d.slideDuplicateNextClass+" "+d.slideDuplicatePrevClass),(a=h?b.$wrapperEl.find("."+d.slideClass+'[data-swiper-slide-index="'+f+'"]'):c.eq(f)).addClass(d.slideActiveClass),d.loop&&(a.hasClass(d.slideDuplicateClass)?e.children("."+d.slideClass+":not(."+d.slideDuplicateClass+')[data-swiper-slide-index="'+g+'"]').addClass(d.slideDuplicateActiveClass):e.children("."+d.slideClass+"."+d.slideDuplicateClass+'[data-swiper-slide-index="'+g+'"]').addClass(d.slideDuplicateActiveClass));var i=a.nextAll("."+d.slideClass).eq(0).addClass(d.slideNextClass);d.loop&&0===i.length&&(i=c.eq(0)).addClass(d.slideNextClass);var j=a.prevAll("."+d.slideClass).eq(0).addClass(d.slidePrevClass);d.loop&&0===j.length&&(j=c.eq(-1)).addClass(d.slidePrevClass),d.loop&&(i.hasClass(d.slideDuplicateClass)?e.children("."+d.slideClass+":not(."+d.slideDuplicateClass+')[data-swiper-slide-index="'+i.attr("data-swiper-slide-index")+'"]').addClass(d.slideDuplicateNextClass):e.children("."+d.slideClass+"."+d.slideDuplicateClass+'[data-swiper-slide-index="'+i.attr("data-swiper-slide-index")+'"]').addClass(d.slideDuplicateNextClass),j.hasClass(d.slideDuplicateClass)?e.children("."+d.slideClass+":not(."+d.slideDuplicateClass+')[data-swiper-slide-index="'+j.attr("data-swiper-slide-index")+'"]').addClass(d.slideDuplicatePrevClass):e.children("."+d.slideClass+"."+d.slideDuplicateClass+'[data-swiper-slide-index="'+j.attr("data-swiper-slide-index")+'"]').addClass(d.slideDuplicatePrevClass))},updateActiveIndex:function(a){var b,c=this,d=c.rtlTranslate?c.translate:-c.translate,e=c.slidesGrid,f=c.snapGrid,g=c.params,h=c.activeIndex,i=c.realIndex,j=c.snapIndex,k=a;if(void 0===k){for(var m=0;m<e.length;m+=1)void 0!==e[m+1]?d>=e[m]&&d<e[m+1]-(e[m+1]-e[m])/2?k=m:d>=e[m]&&d<e[m+1]&&(k=m+1):d>=e[m]&&(k=m);g.normalizeSlideIndex&&(k<0||void 0===k)&&(k=0)}if((b=0<=f.indexOf(d)?f.indexOf(d):Math.floor(k/g.slidesPerGroup))>=f.length&&(b=f.length-1),k!==h){var n=parseInt(c.slides.eq(k).attr("data-swiper-slide-index")||k,10);l.extend(c,{snapIndex:b,realIndex:n,previousIndex:h,activeIndex:k}),c.emit("activeIndexChange"),c.emit("snapIndexChange"),i!==n&&c.emit("realIndexChange"),c.emit("slideChange")}else b!==j&&(c.snapIndex=b,c.emit("snapIndexChange"))},updateClickedSlide:function(b){var c=this,d=c.params,e=a(b.target).closest("."+d.slideClass)[0],f=!1;if(e)for(var g=0;g<c.slides.length;g+=1)c.slides[g]===e&&(f=!0);if(!e||!f)return c.clickedSlide=void 0,void(c.clickedIndex=void 0);c.clickedSlide=e,c.virtual&&c.params.virtual.enabled?c.clickedIndex=parseInt(a(e).attr("data-swiper-slide-index"),10):c.clickedIndex=a(e).index(),d.slideToClickedSlide&&void 0!==c.clickedIndex&&c.clickedIndex!==c.activeIndex&&c.slideToClickedSlide()}},r={getTranslate:function(a){void 0===a&&(a=this.isHorizontal()?"x":"y");var b=this.params,c=this.rtlTranslate,d=this.translate,e=this.$wrapperEl;if(b.virtualTranslate)return c?-d:d;var f=l.getTranslate(e[0],a);return c&&(f=-f),f||0},setTranslate:function(a,b){var c=this,d=c.rtlTranslate,e=c.params,f=c.$wrapperEl,g=c.progress,h=0,i=0;c.isHorizontal()?h=d?-a:a:i=a,e.roundLengths&&(h=Math.floor(h),i=Math.floor(i)),e.virtualTranslate||(m.transforms3d?f.transform("translate3d("+h+"px, "+i+"px, 0px)"):f.transform("translate("+h+"px, "+i+"px)")),c.previousTranslate=c.translate,c.translate=c.isHorizontal()?h:i;var j=c.maxTranslate()-c.minTranslate();(0===j?0:(a-c.minTranslate())/j)!==g&&c.updateProgress(a),c.emit("setTranslate",c.translate,b)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]}},s={setTransition:function(a,b){this.$wrapperEl.transition(a),this.emit("setTransition",a,b)},transitionStart:function(a,b){void 0===a&&(a=!0);var c=this,d=c.activeIndex,e=c.params,f=c.previousIndex;e.autoHeight&&c.updateAutoHeight();var g=b;if(g||(g=f<d?"next":d<f?"prev":"reset"),c.emit("transitionStart"),a&&d!==f){if("reset"===g)return void c.emit("slideResetTransitionStart");c.emit("slideChangeTransitionStart"),"next"===g?c.emit("slideNextTransitionStart"):c.emit("slidePrevTransitionStart")}},transitionEnd:function(a,b){void 0===a&&(a=!0);var c=this,d=c.activeIndex,e=c.previousIndex;c.animating=!1,c.setTransition(0);var f=b;if(f||(f=e<d?"next":d<e?"prev":"reset"),c.emit("transitionEnd"),a&&d!==e){if("reset"===f)return void c.emit("slideResetTransitionEnd");c.emit("slideChangeTransitionEnd"),"next"===f?c.emit("slideNextTransitionEnd"):c.emit("slidePrevTransitionEnd")}}},t={slideTo:function(a,b,c,d){void 0===a&&(a=0),void 0===b&&(b=this.params.speed),void 0===c&&(c=!0);var e=this,f=a;f<0&&(f=0);var g=e.params,h=e.snapGrid,i=e.slidesGrid,j=e.previousIndex,k=e.activeIndex,l=e.rtlTranslate;if(e.animating&&g.preventInteractionOnTransition)return!1;var n=Math.floor(f/g.slidesPerGroup);n>=h.length&&(n=h.length-1),(k||g.initialSlide||0)===(j||0)&&c&&e.emit("beforeSlideChangeStart");var o,p=-h[n];if(e.updateProgress(p),g.normalizeSlideIndex)for(var q=0;q<i.length;q+=1)-Math.floor(100*p)>=Math.floor(100*i[q])&&(f=q);if(e.initialized&&f!==k){if(!e.allowSlideNext&&p<e.translate&&p<e.minTranslate())return!1;if(!e.allowSlidePrev&&p>e.translate&&p>e.maxTranslate()&&(k||0)!==f)return!1}return o=k<f?"next":f<k?"prev":"reset",l&&-p===e.translate||!l&&p===e.translate?(e.updateActiveIndex(f),g.autoHeight&&e.updateAutoHeight(),e.updateSlidesClasses(),"slide"!==g.effect&&e.setTranslate(p),"reset"!==o&&(e.transitionStart(c,o),e.transitionEnd(c,o)),!1):(0!==b&&m.transition?(e.setTransition(b),e.setTranslate(p),e.updateActiveIndex(f),e.updateSlidesClasses(),e.emit("beforeTransitionStart",b,d),e.transitionStart(c,o),e.animating||(e.animating=!0,e.onSlideToWrapperTransitionEnd||(e.onSlideToWrapperTransitionEnd=function(a){e&&!e.destroyed&&a.target===this&&(e.$wrapperEl[0].removeEventListener("transitionend",e.onSlideToWrapperTransitionEnd),e.$wrapperEl[0].removeEventListener("webkitTransitionEnd",e.onSlideToWrapperTransitionEnd),e.onSlideToWrapperTransitionEnd=null,delete e.onSlideToWrapperTransitionEnd,e.transitionEnd(c,o))}),e.$wrapperEl[0].addEventListener("transitionend",e.onSlideToWrapperTransitionEnd),e.$wrapperEl[0].addEventListener("webkitTransitionEnd",e.onSlideToWrapperTransitionEnd))):(e.setTransition(0),e.setTranslate(p),e.updateActiveIndex(f),e.updateSlidesClasses(),e.emit("beforeTransitionStart",b,d),e.transitionStart(c,o),e.transitionEnd(c,o)),!0)},slideToLoop:function(a,b,c,d){void 0===a&&(a=0),void 0===b&&(b=this.params.speed),void 0===c&&(c=!0);var e=a;return this.params.loop&&(e+=this.loopedSlides),this.slideTo(e,b,c,d)},slideNext:function(a,b,c){void 0===a&&(a=this.params.speed),void 0===b&&(b=!0);var d=this,e=d.params,f=d.animating;return e.loop?!f&&(d.loopFix(),d._clientLeft=d.$wrapperEl[0].clientLeft,d.slideTo(d.activeIndex+e.slidesPerGroup,a,b,c)):d.slideTo(d.activeIndex+e.slidesPerGroup,a,b,c)},slidePrev:function(a,b,c){function d(a){return a<0?-Math.floor(Math.abs(a)):Math.floor(a)}void 0===a&&(a=this.params.speed),void 0===b&&(b=!0);var e=this,f=e.params,g=e.animating,h=e.snapGrid,i=e.slidesGrid,j=e.rtlTranslate;if(f.loop){if(g)return!1;e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft}var k,l=d(j?e.translate:-e.translate),m=h.map(function(a){return d(a)}),n=(i.map(function(a){return d(a)}),h[m.indexOf(l)],h[m.indexOf(l)-1]);return void 0!==n&&(k=i.indexOf(n))<0&&(k=e.activeIndex-1),e.slideTo(k,a,b,c)},slideReset:function(a,b,c){return void 0===a&&(a=this.params.speed),void 0===b&&(b=!0),this.slideTo(this.activeIndex,a,b,c)},slideToClosest:function(a,b,c){void 0===a&&(a=this.params.speed),void 0===b&&(b=!0);var d=this,e=d.activeIndex,f=Math.floor(e/d.params.slidesPerGroup);if(f<d.snapGrid.length-1){var g=d.rtlTranslate?d.translate:-d.translate,h=d.snapGrid[f];(d.snapGrid[f+1]-h)/2<g-h&&(e=d.params.slidesPerGroup)}return d.slideTo(e,a,b,c)},slideToClickedSlide:function(){var b,c=this,d=c.params,e=c.$wrapperEl,f="auto"===d.slidesPerView?c.slidesPerViewDynamic():d.slidesPerView,g=c.clickedIndex;if(d.loop){if(c.animating)return;b=parseInt(a(c.clickedSlide).attr("data-swiper-slide-index"),10),d.centeredSlides?g<c.loopedSlides-f/2||g>c.slides.length-c.loopedSlides+f/2?(c.loopFix(),g=e.children("."+d.slideClass+'[data-swiper-slide-index="'+b+'"]:not(.'+d.slideDuplicateClass+")").eq(0).index(),l.nextTick(function(){c.slideTo(g)})):c.slideTo(g):g>c.slides.length-f?(c.loopFix(),g=e.children("."+d.slideClass+'[data-swiper-slide-index="'+b+'"]:not(.'+d.slideDuplicateClass+")").eq(0).index(),l.nextTick(function(){c.slideTo(g)})):c.slideTo(g)}else c.slideTo(g)}},u={loopCreate:function(){var b=this,c=b.params,e=b.$wrapperEl;e.children("."+c.slideClass+"."+c.slideDuplicateClass).remove();var f=e.children("."+c.slideClass);if(c.loopFillGroupWithBlank){var g=c.slidesPerGroup-f.length%c.slidesPerGroup;if(g!==c.slidesPerGroup){for(var h=0;h<g;h+=1){var i=a(d.createElement("div")).addClass(c.slideClass+" "+c.slideBlankClass);e.append(i)}f=e.children("."+c.slideClass)}}"auto"!==c.slidesPerView||c.loopedSlides||(c.loopedSlides=f.length),b.loopedSlides=parseInt(c.loopedSlides||c.slidesPerView,10),b.loopedSlides+=c.loopAdditionalSlides,b.loopedSlides>f.length&&(b.loopedSlides=f.length);var j=[],k=[];f.each(function(c,d){var e=a(d);c<b.loopedSlides&&k.push(d),c<f.length&&c>=f.length-b.loopedSlides&&j.push(d),e.attr("data-swiper-slide-index",c)});for(var l=0;l<k.length;l+=1)e.append(a(k[l].cloneNode(!0)).addClass(c.slideDuplicateClass));for(var m=j.length-1;0<=m;m-=1)e.prepend(a(j[m].cloneNode(!0)).addClass(c.slideDuplicateClass))},loopFix:function(){var a,b=this,c=b.params,d=b.activeIndex,e=b.slides,f=b.loopedSlides,g=b.allowSlidePrev,h=b.allowSlideNext,i=b.snapGrid,j=b.rtlTranslate;b.allowSlidePrev=!0,b.allowSlideNext=!0;var k=-i[d]-b.getTranslate();d<f?(a=e.length-3*f+d,a+=f,b.slideTo(a,0,!1,!0)&&0!==k&&b.setTranslate((j?-b.translate:b.translate)-k)):("auto"===c.slidesPerView&&2*f<=d||d>=e.length-f)&&(a=-e.length+d+f,a+=f,b.slideTo(a,0,!1,!0)&&0!==k&&b.setTranslate((j?-b.translate:b.translate)-k)),b.allowSlidePrev=g,b.allowSlideNext=h},loopDestroy:function(){var a=this.$wrapperEl,b=this.params,c=this.slides;a.children("."+b.slideClass+"."+b.slideDuplicateClass+",."+b.slideClass+"."+b.slideBlankClass).remove(),c.removeAttr("data-swiper-slide-index")}},v={setGrabCursor:function(a){if(!(m.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked)){var b=this.el;b.style.cursor="move",b.style.cursor=a?"-webkit-grabbing":"-webkit-grab",b.style.cursor=a?"-moz-grabbin":"-moz-grab",b.style.cursor=a?"grabbing":"grab"}},unsetGrabCursor:function(){m.touch||this.params.watchOverflow&&this.isLocked||(this.el.style.cursor="")}},w={appendSlide:function(a){var b=this,c=b.$wrapperEl,d=b.params;if(d.loop&&b.loopDestroy(),"object"==typeof a&&"length"in a)for(var e=0;e<a.length;e+=1)a[e]&&c.append(a[e]);else c.append(a);d.loop&&b.loopCreate(),d.observer&&m.observer||b.update()},prependSlide:function(a){var b=this,c=b.params,d=b.$wrapperEl,e=b.activeIndex;c.loop&&b.loopDestroy();var f=e+1;if("object"==typeof a&&"length"in a){for(var g=0;g<a.length;g+=1)a[g]&&d.prepend(a[g]);f=e+a.length}else d.prepend(a);c.loop&&b.loopCreate(),c.observer&&m.observer||b.update(),b.slideTo(f,0,!1)},addSlide:function(a,b){var c=this,d=c.$wrapperEl,e=c.params,f=c.activeIndex;e.loop&&(f-=c.loopedSlides,c.loopDestroy(),c.slides=d.children("."+e.slideClass));var g=c.slides.length;if(a<=0)c.prependSlide(b);else if(g<=a)c.appendSlide(b);else{for(var h=a<f?f+1:f,i=[],j=g-1;a<=j;j-=1){var k=c.slides.eq(j);k.remove(),i.unshift(k)}if("object"==typeof b&&"length"in b){for(var l=0;l<b.length;l+=1)b[l]&&d.append(b[l]);h=a<f?f+b.length:f}else d.append(b);for(var n=0;n<i.length;n+=1)d.append(i[n]);e.loop&&c.loopCreate(),e.observer&&m.observer||c.update(),e.loop?c.slideTo(h+c.loopedSlides,0,!1):c.slideTo(h,0,!1)}},removeSlide:function(a){var b=this,c=b.params,d=b.$wrapperEl,e=b.activeIndex;c.loop&&(e-=b.loopedSlides,b.loopDestroy(),b.slides=d.children("."+c.slideClass));var f,g=e;if("object"==typeof a&&"length"in a){for(var h=0;h<a.length;h+=1)f=a[h],b.slides[f]&&b.slides.eq(f).remove(),f<g&&(g-=1);g=Math.max(g,0)}else f=a,b.slides[f]&&b.slides.eq(f).remove(),f<g&&(g-=1),g=Math.max(g,0);c.loop&&b.loopCreate(),c.observer&&m.observer||b.update(),c.loop?b.slideTo(g+b.loopedSlides,0,!1):b.slideTo(g,0,!1)},removeAllSlides:function(){for(var a=[],b=0;b<this.slides.length;b+=1)a.push(b);this.removeSlide(a)}},x=function(){var a=e.navigator.userAgent,b={ios:!1,android:!1,androidChrome:!1,desktop:!1,windows:!1,iphone:!1,ipod:!1,ipad:!1,cordova:e.cordova||e.phonegap,phonegap:e.cordova||e.phonegap},c=a.match(/(Windows Phone);?[\s\/]+([\d.]+)?/),f=a.match(/(Android);?[\s\/]+([\d.]+)?/),g=a.match(/(iPad).*OS\s([\d_]+)/),h=a.match(/(iPod)(.*OS\s([\d_]+))?/),i=!g&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/);if(c&&(b.os="windows",b.osVersion=c[2],b.windows=!0),f&&!c&&(b.os="android",b.osVersion=f[2],b.android=!0,b.androidChrome=0<=a.toLowerCase().indexOf("chrome")),(g||i||h)&&(b.os="ios",b.ios=!0),i&&!h&&(b.osVersion=i[2].replace(/_/g,"."),b.iphone=!0),g&&(b.osVersion=g[2].replace(/_/g,"."),b.ipad=!0),h&&(b.osVersion=h[3]?h[3].replace(/_/g,"."):null,b.iphone=!0),b.ios&&b.osVersion&&0<=a.indexOf("Version/")&&"10"===b.osVersion.split(".")[0]&&(b.osVersion=a.toLowerCase().split("version/")[1].split(" ")[0]),b.desktop=!(b.os||b.android||b.webView),b.webView=(i||g||h)&&a.match(/.*AppleWebKit(?!.*Safari)/i),b.os&&"ios"===b.os){var j=b.osVersion.split("."),k=d.querySelector('meta[name="viewport"]');b.minimalUi=!b.webView&&(h||i)&&(1*j[0]==7?1<=1*j[1]:7<1*j[0])&&k&&0<=k.getAttribute("content").indexOf("minimal-ui")}return b.pixelRatio=e.devicePixelRatio||1,b}(),y={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,preventInteractionOnTransition:!1,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsInverse:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!0,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0},z={update:q,translate:r,transition:s,slide:t,loop:u,grabCursor:v,manipulation:w,events:{attachEvents:function(){var b=this,f=b.params,g=b.touchEvents,h=b.el,i=b.wrapperEl;b.onTouchStart=function(b){var c=this,f=c.touchEventsData,g=c.params,h=c.touches;if(!c.animating||!g.preventInteractionOnTransition){var i=b;if(i.originalEvent&&(i=i.originalEvent),f.isTouchEvent="touchstart"===i.type,(f.isTouchEvent||!("which"in i)||3!==i.which)&&!(!f.isTouchEvent&&"button"in i&&0<i.button||f.isTouched&&f.isMoved))if(g.noSwiping&&a(i.target).closest(g.noSwipingSelector?g.noSwipingSelector:"."+g.noSwipingClass)[0])c.allowClick=!0;else if(!g.swipeHandler||a(i).closest(g.swipeHandler)[0]){h.currentX="touchstart"===i.type?i.targetTouches[0].pageX:i.pageX,h.currentY="touchstart"===i.type?i.targetTouches[0].pageY:i.pageY;var j=h.currentX,k=h.currentY,m=g.edgeSwipeDetection||g.iOSEdgeSwipeDetection,n=g.edgeSwipeThreshold||g.iOSEdgeSwipeThreshold;if(!m||!(j<=n||j>=e.screen.width-n)){if(l.extend(f,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),h.startX=j,h.startY=k,f.touchStartTime=l.now(),c.allowClick=!0,c.updateSize(),c.swipeDirection=void 0,0<g.threshold&&(f.allowThresholdMove=!1),"touchstart"!==i.type){var o=!0;a(i.target).is(f.formElements)&&(o=!1),d.activeElement&&a(d.activeElement).is(f.formElements)&&d.activeElement!==i.target&&d.activeElement.blur();var p=o&&c.allowTouchMove&&g.touchStartPreventDefault;(g.touchStartForcePreventDefault||p)&&i.preventDefault()}c.emit("touchStart",i)}}}}.bind(b),b.onTouchMove=function(b){var c=this,e=c.touchEventsData,f=c.params,g=c.touches,h=c.rtlTranslate,i=b;if(i.originalEvent&&(i=i.originalEvent),e.isTouched){if(!e.isTouchEvent||"mousemove"!==i.type){var j="touchmove"===i.type?i.targetTouches[0].pageX:i.pageX,k="touchmove"===i.type?i.targetTouches[0].pageY:i.pageY;if(i.preventedByNestedSwiper)return g.startX=j,void(g.startY=k);if(!c.allowTouchMove)return c.allowClick=!1,void(e.isTouched&&(l.extend(g,{startX:j,startY:k,currentX:j,currentY:k}),e.touchStartTime=l.now()));if(e.isTouchEvent&&f.touchReleaseOnEdges&&!f.loop)if(c.isVertical()){if(k<g.startY&&c.translate<=c.maxTranslate()||k>g.startY&&c.translate>=c.minTranslate())return e.isTouched=!1,void(e.isMoved=!1)}else if(j<g.startX&&c.translate<=c.maxTranslate()||j>g.startX&&c.translate>=c.minTranslate())return;if(e.isTouchEvent&&d.activeElement&&i.target===d.activeElement&&a(i.target).is(e.formElements))return e.isMoved=!0,void(c.allowClick=!1);if(e.allowTouchCallbacks&&c.emit("touchMove",i),!(i.targetTouches&&1<i.targetTouches.length)){g.currentX=j,g.currentY=k;var m,n=g.currentX-g.startX,o=g.currentY-g.startY;if(!(c.params.threshold&&Math.sqrt(Math.pow(n,2)+Math.pow(o,2))<c.params.threshold))if(void 0===e.isScrolling&&(c.isHorizontal()&&g.currentY===g.startY||c.isVertical()&&g.currentX===g.startX?e.isScrolling=!1:25<=n*n+o*o&&(m=180*Math.atan2(Math.abs(o),Math.abs(n))/Math.PI,e.isScrolling=c.isHorizontal()?m>f.touchAngle:90-m>f.touchAngle)),e.isScrolling&&c.emit("touchMoveOpposite",i),void 0===e.startMoving&&(g.currentX===g.startX&&g.currentY===g.startY||(e.startMoving=!0)),e.isScrolling)e.isTouched=!1;else if(e.startMoving){c.allowClick=!1,i.preventDefault(),f.touchMoveStopPropagation&&!f.nested&&i.stopPropagation(),e.isMoved||(f.loop&&c.loopFix(),e.startTranslate=c.getTranslate(),c.setTransition(0),c.animating&&c.$wrapperEl.trigger("webkitTransitionEnd transitionend"),e.allowMomentumBounce=!1,!f.grabCursor||!0!==c.allowSlideNext&&!0!==c.allowSlidePrev||c.setGrabCursor(!0),c.emit("sliderFirstMove",i)),c.emit("sliderMove",i),e.isMoved=!0;var p=c.isHorizontal()?n:o;g.diff=p,p*=f.touchRatio,h&&(p=-p),c.swipeDirection=0<p?"prev":"next",e.currentTranslate=p+e.startTranslate;var q=!0,r=f.resistanceRatio;if(f.touchReleaseOnEdges&&(r=0),0<p&&e.currentTranslate>c.minTranslate()?(q=!1,f.resistance&&(e.currentTranslate=c.minTranslate()-1+Math.pow(-c.minTranslate()+e.startTranslate+p,r))):p<0&&e.currentTranslate<c.maxTranslate()&&(q=!1,f.resistance&&(e.currentTranslate=c.maxTranslate()+1-Math.pow(c.maxTranslate()-e.startTranslate-p,r))),q&&(i.preventedByNestedSwiper=!0),!c.allowSlideNext&&"next"===c.swipeDirection&&e.currentTranslate<e.startTranslate&&(e.currentTranslate=e.startTranslate),!c.allowSlidePrev&&"prev"===c.swipeDirection&&e.currentTranslate>e.startTranslate&&(e.currentTranslate=e.startTranslate),0<f.threshold){if(!(Math.abs(p)>f.threshold||e.allowThresholdMove))return void(e.currentTranslate=e.startTranslate);if(!e.allowThresholdMove)return e.allowThresholdMove=!0,g.startX=g.currentX,g.startY=g.currentY,e.currentTranslate=e.startTranslate,void(g.diff=c.isHorizontal()?g.currentX-g.startX:g.currentY-g.startY)}f.followFinger&&((f.freeMode||f.watchSlidesProgress||f.watchSlidesVisibility)&&(c.updateActiveIndex(),c.updateSlidesClasses()),f.freeMode&&(0===e.velocities.length&&e.velocities.push({position:g[c.isHorizontal()?"startX":"startY"],time:e.touchStartTime}),e.velocities.push({position:g[c.isHorizontal()?"currentX":"currentY"],time:l.now()})),c.updateProgress(e.currentTranslate),c.setTranslate(e.currentTranslate))}}}}else e.startMoving&&e.isScrolling&&c.emit("touchMoveOpposite",i)}.bind(b),b.onTouchEnd=function(a){var b=this,c=b.touchEventsData,d=b.params,e=b.touches,f=b.rtlTranslate,g=b.$wrapperEl,h=b.slidesGrid,i=b.snapGrid,j=a;if(j.originalEvent&&(j=j.originalEvent),c.allowTouchCallbacks&&b.emit("touchEnd",j),c.allowTouchCallbacks=!1,!c.isTouched)return c.isMoved&&d.grabCursor&&b.setGrabCursor(!1),c.isMoved=!1,void(c.startMoving=!1);d.grabCursor&&c.isMoved&&c.isTouched&&(!0===b.allowSlideNext||!0===b.allowSlidePrev)&&b.setGrabCursor(!1);var k,m=l.now(),n=m-c.touchStartTime;if(b.allowClick&&(b.updateClickedSlide(j),b.emit("tap",j),n<300&&300<m-c.lastClickTime&&(c.clickTimeout&&clearTimeout(c.clickTimeout),c.clickTimeout=l.nextTick(function(){b&&!b.destroyed&&b.emit("click",j)},300)),n<300&&m-c.lastClickTime<300&&(c.clickTimeout&&clearTimeout(c.clickTimeout),b.emit("doubleTap",j))),c.lastClickTime=l.now(),l.nextTick(function(){b.destroyed||(b.allowClick=!0)}),!c.isTouched||!c.isMoved||!b.swipeDirection||0===e.diff||c.currentTranslate===c.startTranslate)return c.isTouched=!1,c.isMoved=!1,void(c.startMoving=!1);if(c.isTouched=!1,c.isMoved=!1,c.startMoving=!1,k=d.followFinger?f?b.translate:-b.translate:-c.currentTranslate,d.freeMode){if(k<-b.minTranslate())return void b.slideTo(b.activeIndex);if(k>-b.maxTranslate())return void(b.slides.length<i.length?b.slideTo(i.length-1):b.slideTo(b.slides.length-1));if(d.freeModeMomentum){if(1<c.velocities.length){var o=c.velocities.pop(),p=c.velocities.pop(),q=o.position-p.position,r=o.time-p.time;b.velocity=q/r,b.velocity/=2,Math.abs(b.velocity)<d.freeModeMinimumVelocity&&(b.velocity=0),(150<r||300<l.now()-o.time)&&(b.velocity=0)}else b.velocity=0;b.velocity*=d.freeModeMomentumVelocityRatio,c.velocities.length=0;var s=1e3*d.freeModeMomentumRatio,t=b.velocity*s,u=b.translate+t;f&&(u=-u);var v,w,x=!1,y=20*Math.abs(b.velocity)*d.freeModeMomentumBounceRatio;if(u<b.maxTranslate())d.freeModeMomentumBounce?(u+b.maxTranslate()<-y&&(u=b.maxTranslate()-y),v=b.maxTranslate(),x=!0,c.allowMomentumBounce=!0):u=b.maxTranslate(),d.loop&&d.centeredSlides&&(w=!0);else if(u>b.minTranslate())d.freeModeMomentumBounce?(u-b.minTranslate()>y&&(u=b.minTranslate()+y),v=b.minTranslate(),x=!0,c.allowMomentumBounce=!0):u=b.minTranslate(),d.loop&&d.centeredSlides&&(w=!0);else if(d.freeModeSticky){for(var z,A=0;A<i.length;A+=1)if(i[A]>-u){z=A;break}u=-(u=Math.abs(i[z]-u)<Math.abs(i[z-1]-u)||"next"===b.swipeDirection?i[z]:i[z-1])}if(w&&b.once("transitionEnd",function(){b.loopFix()}),0!==b.velocity)s=f?Math.abs((-u-b.translate)/b.velocity):Math.abs((u-b.translate)/b.velocity);else if(d.freeModeSticky)return void b.slideToClosest();d.freeModeMomentumBounce&&x?(b.updateProgress(v),b.setTransition(s),b.setTranslate(u),b.transitionStart(!0,b.swipeDirection),b.animating=!0,g.transitionEnd(function(){b&&!b.destroyed&&c.allowMomentumBounce&&(b.emit("momentumBounce"),b.setTransition(d.speed),b.setTranslate(v),g.transitionEnd(function(){b&&!b.destroyed&&b.transitionEnd()}))})):b.velocity?(b.updateProgress(u),b.setTransition(s),b.setTranslate(u),b.transitionStart(!0,b.swipeDirection),b.animating||(b.animating=!0,g.transitionEnd(function(){b&&!b.destroyed&&b.transitionEnd()}))):b.updateProgress(u),b.updateActiveIndex(),b.updateSlidesClasses()}else if(d.freeModeSticky)return void b.slideToClosest();(!d.freeModeMomentum||n>=d.longSwipesMs)&&(b.updateProgress(),b.updateActiveIndex(),b.updateSlidesClasses())}else{for(var B=0,C=b.slidesSizesGrid[0],D=0;D<h.length;D+=d.slidesPerGroup)void 0!==h[D+d.slidesPerGroup]?k>=h[D]&&k<h[D+d.slidesPerGroup]&&(C=h[(B=D)+d.slidesPerGroup]-h[D]):k>=h[D]&&(B=D,C=h[h.length-1]-h[h.length-2]);var E=(k-h[B])/C;if(n>d.longSwipesMs){if(!d.longSwipes)return void b.slideTo(b.activeIndex);"next"===b.swipeDirection&&(E>=d.longSwipesRatio?b.slideTo(B+d.slidesPerGroup):b.slideTo(B)),"prev"===b.swipeDirection&&(E>1-d.longSwipesRatio?b.slideTo(B+d.slidesPerGroup):b.slideTo(B))}else{if(!d.shortSwipes)return void b.slideTo(b.activeIndex);"next"===b.swipeDirection&&b.slideTo(B+d.slidesPerGroup),"prev"===b.swipeDirection&&b.slideTo(B)}}}.bind(b),b.onClick=function(a){this.allowClick||(this.params.preventClicks&&a.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(a.stopPropagation(),a.stopImmediatePropagation()))}.bind(b);var j="container"===f.touchEventsTarget?h:i,k=!!f.nested;if(m.touch||!m.pointerEvents&&!m.prefixedPointerEvents){if(m.touch){var n=!("touchstart"!==g.start||!m.passiveListener||!f.passiveListeners)&&{passive:!0,capture:!1};j.addEventListener(g.start,b.onTouchStart,n),j.addEventListener(g.move,b.onTouchMove,m.passiveListener?{passive:!1,capture:k}:k),j.addEventListener(g.end,b.onTouchEnd,n)}(f.simulateTouch&&!x.ios&&!x.android||f.simulateTouch&&!m.touch&&x.ios)&&(j.addEventListener("mousedown",b.onTouchStart,!1),d.addEventListener("mousemove",b.onTouchMove,k),d.addEventListener("mouseup",b.onTouchEnd,!1))}else j.addEventListener(g.start,b.onTouchStart,!1),d.addEventListener(g.move,b.onTouchMove,k),d.addEventListener(g.end,b.onTouchEnd,!1);(f.preventClicks||f.preventClicksPropagation)&&j.addEventListener("click",b.onClick,!0),b.on(x.ios||x.android?"resize orientationchange observerUpdate":"resize observerUpdate",c,!0)},detachEvents:function(){var a=this,b=a.params,e=a.touchEvents,f=a.el,g=a.wrapperEl,h="container"===b.touchEventsTarget?f:g,i=!!b.nested;if(m.touch||!m.pointerEvents&&!m.prefixedPointerEvents){if(m.touch){var j=!("onTouchStart"!==e.start||!m.passiveListener||!b.passiveListeners)&&{passive:!0,capture:!1};h.removeEventListener(e.start,a.onTouchStart,j),h.removeEventListener(e.move,a.onTouchMove,i),h.removeEventListener(e.end,a.onTouchEnd,j)}(b.simulateTouch&&!x.ios&&!x.android||b.simulateTouch&&!m.touch&&x.ios)&&(h.removeEventListener("mousedown",a.onTouchStart,!1),d.removeEventListener("mousemove",a.onTouchMove,i),d.removeEventListener("mouseup",a.onTouchEnd,!1))}else h.removeEventListener(e.start,a.onTouchStart,!1),d.removeEventListener(e.move,a.onTouchMove,i),d.removeEventListener(e.end,a.onTouchEnd,!1);(b.preventClicks||b.preventClicksPropagation)&&h.removeEventListener("click",a.onClick,!0),a.off(x.ios||x.android?"resize orientationchange observerUpdate":"resize observerUpdate",c)}},breakpoints:{setBreakpoint:function(){
var a=this,b=a.activeIndex,c=a.initialized,d=a.loopedSlides;void 0===d&&(d=0);var e=a.params,f=e.breakpoints;if(f&&(!f||0!==Object.keys(f).length)){var g=a.getBreakpoint(f);if(g&&a.currentBreakpoint!==g){var h=g in f?f[g]:void 0;h&&["slidesPerView","spaceBetween","slidesPerGroup"].forEach(function(a){var b=h[a];void 0!==b&&(h[a]="slidesPerView"!==a||"AUTO"!==b&&"auto"!==b?"slidesPerView"===a?parseFloat(b):parseInt(b,10):"auto")});var i=h||a.originalParams,j=i.direction&&i.direction!==e.direction,k=e.loop&&(i.slidesPerView!==e.slidesPerView||j);j&&c&&a.changeDirection(),l.extend(a.params,i),l.extend(a,{allowTouchMove:a.params.allowTouchMove,allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev}),a.currentBreakpoint=g,k&&c&&(a.loopDestroy(),a.loopCreate(),a.updateSlides(),a.slideTo(b-d+a.loopedSlides,0,!1)),a.emit("breakpoint",i)}}},getBreakpoint:function(a){if(a){var b=!1,c=[];Object.keys(a).forEach(function(a){c.push(a)}),c.sort(function(a,b){return parseInt(a,10)-parseInt(b,10)});for(var d=0;d<c.length;d+=1){var f=c[d];this.params.breakpointsInverse?f<=e.innerWidth&&(b=f):f>=e.innerWidth&&!b&&(b=f)}return b||"max"}}},checkOverflow:{checkOverflow:function(){var a=this,b=a.isLocked;a.isLocked=1===a.snapGrid.length,a.allowSlideNext=!a.isLocked,a.allowSlidePrev=!a.isLocked,b!==a.isLocked&&a.emit(a.isLocked?"lock":"unlock"),b&&b!==a.isLocked&&(a.isEnd=!1,a.navigation.update())}},classes:{addClasses:function(){var a=this.classNames,b=this.params,c=this.rtl,d=this.$el,e=[];e.push("initialized"),e.push(b.direction),b.freeMode&&e.push("free-mode"),m.flexbox||e.push("no-flexbox"),b.autoHeight&&e.push("autoheight"),c&&e.push("rtl"),1<b.slidesPerColumn&&e.push("multirow"),x.android&&e.push("android"),x.ios&&e.push("ios"),(n.isIE||n.isEdge)&&(m.pointerEvents||m.prefixedPointerEvents)&&e.push("wp8-"+b.direction),e.forEach(function(c){a.push(b.containerModifierClass+c)}),d.addClass(a.join(" "))},removeClasses:function(){var a=this.$el,b=this.classNames;a.removeClass(b.join(" "))}},images:{loadImage:function(a,b,c,d,f,g){function h(){g&&g()}var i;a.complete&&f?h():b?((i=new e.Image).onload=h,i.onerror=h,d&&(i.sizes=d),c&&(i.srcset=c),b&&(i.src=b)):h()},preloadImages:function(){function a(){null!=b&&b&&!b.destroyed&&(void 0!==b.imagesLoaded&&(b.imagesLoaded+=1),b.imagesLoaded===b.imagesToLoad.length&&(b.params.updateOnImagesReady&&b.update(),b.emit("imagesReady")))}var b=this;b.imagesToLoad=b.$el.find("img");for(var c=0;c<b.imagesToLoad.length;c+=1){var d=b.imagesToLoad[c];b.loadImage(d,d.currentSrc||d.getAttribute("src"),d.srcset||d.getAttribute("srcset"),d.sizes||d.getAttribute("sizes"),!0,a)}}}},A={},B=function(b){function c(){for(var d,e,f,g=[],h=arguments.length;h--;)g[h]=arguments[h];1===g.length&&g[0].constructor&&g[0].constructor===Object?f=g[0]:(e=(d=g)[0],f=d[1]),f||(f={}),f=l.extend({},f),e&&!f.el&&(f.el=e),b.call(this,f),Object.keys(z).forEach(function(a){Object.keys(z[a]).forEach(function(b){c.prototype[b]||(c.prototype[b]=z[a][b])})});var i=this;void 0===i.modules&&(i.modules={}),Object.keys(i.modules).forEach(function(a){var b=i.modules[a];if(b.params){var c=Object.keys(b.params)[0],d=b.params[c];if("object"!=typeof d||null===d)return;if(!(c in f&&"enabled"in d))return;!0===f[c]&&(f[c]={enabled:!0}),"object"!=typeof f[c]||"enabled"in f[c]||(f[c].enabled=!0),f[c]||(f[c]={enabled:!1})}});var j=l.extend({},y);i.useModulesParams(j),i.params=l.extend({},j,A,f),i.originalParams=l.extend({},i.params),i.passedParams=l.extend({},f);var k=(i.$=a)(i.params.el);if(e=k[0]){if(1<k.length){var n=[];return k.each(function(a,b){var d=l.extend({},f,{el:b});n.push(new c(d))}),n}e.swiper=i,k.data("swiper",i);var o,p,q=k.children("."+i.params.wrapperClass);return l.extend(i,{$el:k,el:e,$wrapperEl:q,wrapperEl:q[0],classNames:[],slides:a(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===i.params.direction},isVertical:function(){return"vertical"===i.params.direction},rtl:"rtl"===e.dir.toLowerCase()||"rtl"===k.css("direction"),rtlTranslate:"horizontal"===i.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===k.css("direction")),wrongRTL:"-webkit-box"===q.css("display"),activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEvents:(o=["touchstart","touchmove","touchend"],p=["mousedown","mousemove","mouseup"],m.pointerEvents?p=["pointerdown","pointermove","pointerup"]:m.prefixedPointerEvents&&(p=["MSPointerDown","MSPointerMove","MSPointerUp"]),i.touchEventsTouch={start:o[0],move:o[1],end:o[2]},i.touchEventsDesktop={start:p[0],move:p[1],end:p[2]},m.touch||!i.params.simulateTouch?i.touchEventsTouch:i.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video",lastClickTime:l.now(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.useModules(),i.params.init&&i.init(),i}}b&&(c.__proto__=b);var d={extendedDefaults:{configurable:!0},defaults:{configurable:!0},Class:{configurable:!0},$:{configurable:!0}};return((c.prototype=Object.create(b&&b.prototype)).constructor=c).prototype.slidesPerViewDynamic=function(){var a=this,b=a.params,c=a.slides,d=a.slidesGrid,e=a.size,f=a.activeIndex,g=1;if(b.centeredSlides){for(var h,i=c[f].swiperSlideSize,j=f+1;j<c.length;j+=1)c[j]&&!h&&(g+=1,e<(i+=c[j].swiperSlideSize)&&(h=!0));for(var k=f-1;0<=k;k-=1)c[k]&&!h&&(g+=1,e<(i+=c[k].swiperSlideSize)&&(h=!0))}else for(var l=f+1;l<c.length;l+=1)d[l]-d[f]<e&&(g+=1);return g},c.prototype.update=function(){function a(){var a=b.rtlTranslate?-1*b.translate:b.translate,c=Math.min(Math.max(a,b.maxTranslate()),b.minTranslate());b.setTranslate(c),b.updateActiveIndex(),b.updateSlidesClasses()}var b=this;if(b&&!b.destroyed){var c=b.snapGrid,d=b.params;d.breakpoints&&b.setBreakpoint(),b.updateSize(),b.updateSlides(),b.updateProgress(),b.updateSlidesClasses(),b.params.freeMode?(a(),b.params.autoHeight&&b.updateAutoHeight()):(("auto"===b.params.slidesPerView||1<b.params.slidesPerView)&&b.isEnd&&!b.params.centeredSlides?b.slideTo(b.slides.length-1,0,!1,!0):b.slideTo(b.activeIndex,0,!1,!0))||a(),d.watchOverflow&&c!==b.snapGrid&&b.checkOverflow(),b.emit("update")}},c.prototype.changeDirection=function(a,b){void 0===b&&(b=!0);var c=this,d=c.params.direction;return a||(a="horizontal"===d?"vertical":"horizontal"),a===d||"horizontal"!==a&&"vertical"!==a||("vertical"===d&&(c.$el.removeClass(c.params.containerModifierClass+"vertical wp8-vertical").addClass(""+c.params.containerModifierClass+a),(n.isIE||n.isEdge)&&(m.pointerEvents||m.prefixedPointerEvents)&&c.$el.addClass(c.params.containerModifierClass+"wp8-"+a)),"horizontal"===d&&(c.$el.removeClass(c.params.containerModifierClass+"horizontal wp8-horizontal").addClass(""+c.params.containerModifierClass+a),(n.isIE||n.isEdge)&&(m.pointerEvents||m.prefixedPointerEvents)&&c.$el.addClass(c.params.containerModifierClass+"wp8-"+a)),c.params.direction=a,c.slides.each(function(b,c){"vertical"===a?c.style.width="":c.style.height=""}),c.emit("changeDirection"),b&&c.update()),c},c.prototype.init=function(){var a=this;a.initialized||(a.emit("beforeInit"),a.params.breakpoints&&a.setBreakpoint(),a.addClasses(),a.params.loop&&a.loopCreate(),a.updateSize(),a.updateSlides(),a.params.watchOverflow&&a.checkOverflow(),a.params.grabCursor&&a.setGrabCursor(),a.params.preloadImages&&a.preloadImages(),a.params.loop?a.slideTo(a.params.initialSlide+a.loopedSlides,0,a.params.runCallbacksOnInit):a.slideTo(a.params.initialSlide,0,a.params.runCallbacksOnInit),a.attachEvents(),a.initialized=!0,a.emit("init"))},c.prototype.destroy=function(a,b){void 0===a&&(a=!0),void 0===b&&(b=!0);var c=this,d=c.params,e=c.$el,f=c.$wrapperEl,g=c.slides;return void 0===c.params||c.destroyed||(c.emit("beforeDestroy"),c.initialized=!1,c.detachEvents(),d.loop&&c.loopDestroy(),b&&(c.removeClasses(),e.removeAttr("style"),f.removeAttr("style"),g&&g.length&&g.removeClass([d.slideVisibleClass,d.slideActiveClass,d.slideNextClass,d.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index").removeAttr("data-swiper-column").removeAttr("data-swiper-row")),c.emit("destroy"),Object.keys(c.eventsListeners).forEach(function(a){c.off(a)}),!1!==a&&(c.$el[0].swiper=null,c.$el.data("swiper",null),l.deleteProps(c)),c.destroyed=!0),null},c.extendDefaults=function(a){l.extend(A,a)},d.extendedDefaults.get=function(){return A},d.defaults.get=function(){return y},d.Class.get=function(){return b},d.$.get=function(){return a},Object.defineProperties(c,d),c}(o),C={name:"device",proto:{device:x},static:{device:x}},D={name:"support",proto:{support:m},static:{support:m}},E={name:"browser",proto:{browser:n},static:{browser:n}},F={name:"resize",create:function(){var a=this;l.extend(a,{resize:{resizeHandler:function(){a&&!a.destroyed&&a.initialized&&(a.emit("beforeResize"),a.emit("resize"))},orientationChangeHandler:function(){a&&!a.destroyed&&a.initialized&&a.emit("orientationchange")}}})},on:{init:function(){e.addEventListener("resize",this.resize.resizeHandler),e.addEventListener("orientationchange",this.resize.orientationChangeHandler)},destroy:function(){e.removeEventListener("resize",this.resize.resizeHandler),e.removeEventListener("orientationchange",this.resize.orientationChangeHandler)}}},G={func:e.MutationObserver||e.WebkitMutationObserver,attach:function(a,b){void 0===b&&(b={});var c=this,d=new G.func(function(a){if(1!==a.length){var b=function(){c.emit("observerUpdate",a[0])};e.requestAnimationFrame?e.requestAnimationFrame(b):e.setTimeout(b,0)}else c.emit("observerUpdate",a[0])});d.observe(a,{attributes:void 0===b.attributes||b.attributes,childList:void 0===b.childList||b.childList,characterData:void 0===b.characterData||b.characterData}),c.observer.observers.push(d)},init:function(){var a=this;if(m.observer&&a.params.observer){if(a.params.observeParents)for(var b=a.$el.parents(),c=0;c<b.length;c+=1)a.observer.attach(b[c]);a.observer.attach(a.$el[0],{childList:a.params.observeSlideChildren}),a.observer.attach(a.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach(function(a){a.disconnect()}),this.observer.observers=[]}},H={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){l.extend(this,{observer:{init:G.init.bind(this),attach:G.attach.bind(this),destroy:G.destroy.bind(this),observers:[]}})},on:{init:function(){this.observer.init()},destroy:function(){this.observer.destroy()}}},I={update:function(a){function b(){c.updateSlides(),c.updateProgress(),c.updateSlidesClasses(),c.lazy&&c.params.lazy.enabled&&c.lazy.load()}var c=this,d=c.params,e=d.slidesPerView,f=d.slidesPerGroup,g=d.centeredSlides,h=c.params.virtual,i=h.addSlidesBefore,j=h.addSlidesAfter,k=c.virtual,m=k.from,n=k.to,o=k.slides,p=k.slidesGrid,q=k.renderSlide,r=k.offset;c.updateActiveIndex();var s,t,u,v=c.activeIndex||0;s=c.rtlTranslate?"right":c.isHorizontal()?"left":"top",g?(t=Math.floor(e/2)+f+i,u=Math.floor(e/2)+f+j):(t=e+(f-1)+i,u=f+j);var w=Math.max((v||0)-u,0),x=Math.min((v||0)+t,o.length-1),y=(c.slidesGrid[w]||0)-(c.slidesGrid[0]||0);if(l.extend(c.virtual,{from:w,to:x,offset:y,slidesGrid:c.slidesGrid}),m===w&&n===x&&!a)return c.slidesGrid!==p&&y!==r&&c.slides.css(s,y+"px"),void c.updateProgress();if(c.params.virtual.renderExternal)return c.params.virtual.renderExternal.call(c,{offset:y,from:w,to:x,slides:function(){for(var a=[],b=w;b<=x;b+=1)a.push(o[b]);return a}()}),void b();var z=[],A=[];if(a)c.$wrapperEl.find("."+c.params.slideClass).remove();else for(var B=m;B<=n;B+=1)(B<w||x<B)&&c.$wrapperEl.find("."+c.params.slideClass+'[data-swiper-slide-index="'+B+'"]').remove();for(var C=0;C<o.length;C+=1)w<=C&&C<=x&&(void 0===n||a?A.push(C):(n<C&&A.push(C),C<m&&z.push(C)));A.forEach(function(a){c.$wrapperEl.append(q(o[a],a))}),z.sort(function(a,b){return b-a}).forEach(function(a){c.$wrapperEl.prepend(q(o[a],a))}),c.$wrapperEl.children(".swiper-slide").css(s,y+"px"),b()},renderSlide:function(b,c){var d=this,e=d.params.virtual;if(e.cache&&d.virtual.cache[c])return d.virtual.cache[c];var f=a(e.renderSlide?e.renderSlide.call(d,b,c):'<div class="'+d.params.slideClass+'" data-swiper-slide-index="'+c+'">'+b+"</div>");return f.attr("data-swiper-slide-index")||f.attr("data-swiper-slide-index",c),e.cache&&(d.virtual.cache[c]=f),f},appendSlide:function(a){if("object"==typeof a&&"length"in a)for(var b=0;b<a.length;b+=1)a[b]&&this.virtual.slides.push(a[b]);else this.virtual.slides.push(a);this.virtual.update(!0)},prependSlide:function(a){var b=this,c=b.activeIndex,d=c+1,e=1;if(Array.isArray(a)){for(var f=0;f<a.length;f+=1)a[f]&&b.virtual.slides.unshift(a[f]);d=c+a.length,e=a.length}else b.virtual.slides.unshift(a);if(b.params.virtual.cache){var g=b.virtual.cache,h={};Object.keys(g).forEach(function(a){h[parseInt(a,10)+e]=g[a]}),b.virtual.cache=h}b.virtual.update(!0),b.slideTo(d,0)},removeSlide:function(a){var b=this;if(null!=a){var c=b.activeIndex;if(Array.isArray(a))for(var d=a.length-1;0<=d;d-=1)b.virtual.slides.splice(a[d],1),b.params.virtual.cache&&delete b.virtual.cache[a[d]],a[d]<c&&(c-=1),c=Math.max(c,0);else b.virtual.slides.splice(a,1),b.params.virtual.cache&&delete b.virtual.cache[a],a<c&&(c-=1),c=Math.max(c,0);b.virtual.update(!0),b.slideTo(c,0)}},removeAllSlides:function(){var a=this;a.virtual.slides=[],a.params.virtual.cache&&(a.virtual.cache={}),a.virtual.update(!0),a.slideTo(0,0)}},J={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,addSlidesBefore:0,addSlidesAfter:0}},create:function(){var a=this;l.extend(a,{virtual:{update:I.update.bind(a),appendSlide:I.appendSlide.bind(a),prependSlide:I.prependSlide.bind(a),removeSlide:I.removeSlide.bind(a),removeAllSlides:I.removeAllSlides.bind(a),renderSlide:I.renderSlide.bind(a),slides:a.params.virtual.slides,cache:{}}})},on:{beforeInit:function(){var a=this;if(a.params.virtual.enabled){a.classNames.push(a.params.containerModifierClass+"virtual");var b={watchSlidesProgress:!0};l.extend(a.params,b),l.extend(a.originalParams,b),a.params.initialSlide||a.virtual.update()}},setTranslate:function(){this.params.virtual.enabled&&this.virtual.update()}}},K={handle:function(a){var b=this,c=b.rtlTranslate,f=a;f.originalEvent&&(f=f.originalEvent);var g=f.keyCode||f.charCode;if(!b.allowSlideNext&&(b.isHorizontal()&&39===g||b.isVertical()&&40===g))return!1;if(!b.allowSlidePrev&&(b.isHorizontal()&&37===g||b.isVertical()&&38===g))return!1;if(!(f.shiftKey||f.altKey||f.ctrlKey||f.metaKey||d.activeElement&&d.activeElement.nodeName&&("input"===d.activeElement.nodeName.toLowerCase()||"textarea"===d.activeElement.nodeName.toLowerCase()))){if(b.params.keyboard.onlyInViewport&&(37===g||39===g||38===g||40===g)){var h=!1;if(0<b.$el.parents("."+b.params.slideClass).length&&0===b.$el.parents("."+b.params.slideActiveClass).length)return;var i=e.innerWidth,j=e.innerHeight,k=b.$el.offset();c&&(k.left-=b.$el[0].scrollLeft);for(var l=[[k.left,k.top],[k.left+b.width,k.top],[k.left,k.top+b.height],[k.left+b.width,k.top+b.height]],m=0;m<l.length;m+=1){var n=l[m];0<=n[0]&&n[0]<=i&&0<=n[1]&&n[1]<=j&&(h=!0)}if(!h)return}b.isHorizontal()?(37!==g&&39!==g||(f.preventDefault?f.preventDefault():f.returnValue=!1),(39===g&&!c||37===g&&c)&&b.slideNext(),(37===g&&!c||39===g&&c)&&b.slidePrev()):(38!==g&&40!==g||(f.preventDefault?f.preventDefault():f.returnValue=!1),40===g&&b.slideNext(),38===g&&b.slidePrev()),b.emit("keyPress",g)}},enable:function(){this.keyboard.enabled||(a(d).on("keydown",this.keyboard.handle),this.keyboard.enabled=!0)},disable:function(){this.keyboard.enabled&&(a(d).off("keydown",this.keyboard.handle),this.keyboard.enabled=!1)}},L={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0}},create:function(){l.extend(this,{keyboard:{enabled:!1,enable:K.enable.bind(this),disable:K.disable.bind(this),handle:K.handle.bind(this)}})},on:{init:function(){this.params.keyboard.enabled&&this.keyboard.enable()},destroy:function(){this.keyboard.enabled&&this.keyboard.disable()}}},M={lastScrollTime:l.now(),event:-1<e.navigator.userAgent.indexOf("firefox")?"DOMMouseScroll":function(){var a="onwheel",b=a in d;if(!b){var c=d.createElement("div");c.setAttribute(a,"return;"),b="function"==typeof c[a]}return!b&&d.implementation&&d.implementation.hasFeature&&!0!==d.implementation.hasFeature("","")&&(b=d.implementation.hasFeature("Events.wheel","3.0")),b}()?"wheel":"mousewheel",normalize:function(a){var b=0,c=0,d=0,e=0;return"detail"in a&&(c=a.detail),"wheelDelta"in a&&(c=-a.wheelDelta/120),"wheelDeltaY"in a&&(c=-a.wheelDeltaY/120),"wheelDeltaX"in a&&(b=-a.wheelDeltaX/120),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(b=c,c=0),d=10*b,e=10*c,"deltaY"in a&&(e=a.deltaY),"deltaX"in a&&(d=a.deltaX),(d||e)&&a.deltaMode&&(1===a.deltaMode?(d*=40,e*=40):(d*=800,e*=800)),d&&!b&&(b=d<1?-1:1),e&&!c&&(c=e<1?-1:1),{spinX:b,spinY:c,pixelX:d,pixelY:e}},handleMouseEnter:function(){this.mouseEntered=!0},handleMouseLeave:function(){this.mouseEntered=!1},handle:function(a){var b=a,c=this,d=c.params.mousewheel;if(!c.mouseEntered&&!d.releaseOnEdges)return!0;b.originalEvent&&(b=b.originalEvent);var f=0,g=c.rtlTranslate?-1:1,h=M.normalize(b);if(d.forceToAxis)if(c.isHorizontal()){if(!(Math.abs(h.pixelX)>Math.abs(h.pixelY)))return!0;f=h.pixelX*g}else{if(!(Math.abs(h.pixelY)>Math.abs(h.pixelX)))return!0;f=h.pixelY}else f=Math.abs(h.pixelX)>Math.abs(h.pixelY)?-h.pixelX*g:-h.pixelY;if(0===f)return!0;if(d.invert&&(f=-f),c.params.freeMode){c.params.loop&&c.loopFix();var i=c.getTranslate()+f*d.sensitivity,j=c.isBeginning,k=c.isEnd;if(i>=c.minTranslate()&&(i=c.minTranslate()),i<=c.maxTranslate()&&(i=c.maxTranslate()),c.setTransition(0),c.setTranslate(i),c.updateProgress(),c.updateActiveIndex(),c.updateSlidesClasses(),(!j&&c.isBeginning||!k&&c.isEnd)&&c.updateSlidesClasses(),c.params.freeModeSticky&&(clearTimeout(c.mousewheel.timeout),c.mousewheel.timeout=l.nextTick(function(){c.slideToClosest()},300)),c.emit("scroll",b),c.params.autoplay&&c.params.autoplayDisableOnInteraction&&c.autoplay.stop(),i===c.minTranslate()||i===c.maxTranslate())return!0}else{if(60<l.now()-c.mousewheel.lastScrollTime)if(f<0)if(c.isEnd&&!c.params.loop||c.animating){if(d.releaseOnEdges)return!0}else c.slideNext(),c.emit("scroll",b);else if(c.isBeginning&&!c.params.loop||c.animating){if(d.releaseOnEdges)return!0}else c.slidePrev(),c.emit("scroll",b);c.mousewheel.lastScrollTime=(new e.Date).getTime()}return b.preventDefault?b.preventDefault():b.returnValue=!1,!1},enable:function(){var b=this;if(!M.event)return!1;if(b.mousewheel.enabled)return!1;var c=b.$el;return"container"!==b.params.mousewheel.eventsTarged&&(c=a(b.params.mousewheel.eventsTarged)),c.on("mouseenter",b.mousewheel.handleMouseEnter),c.on("mouseleave",b.mousewheel.handleMouseLeave),c.on(M.event,b.mousewheel.handle),b.mousewheel.enabled=!0},disable:function(){var b=this;if(!M.event)return!1;if(!b.mousewheel.enabled)return!1;var c=b.$el;return"container"!==b.params.mousewheel.eventsTarged&&(c=a(b.params.mousewheel.eventsTarged)),c.off(M.event,b.mousewheel.handle),!(b.mousewheel.enabled=!1)}},N={update:function(){var a=this,b=a.params.navigation;if(!a.params.loop){var c=a.navigation,d=c.$nextEl,e=c.$prevEl;e&&0<e.length&&(a.isBeginning?e.addClass(b.disabledClass):e.removeClass(b.disabledClass),e[a.params.watchOverflow&&a.isLocked?"addClass":"removeClass"](b.lockClass)),d&&0<d.length&&(a.isEnd?d.addClass(b.disabledClass):d.removeClass(b.disabledClass),d[a.params.watchOverflow&&a.isLocked?"addClass":"removeClass"](b.lockClass))}},onPrevClick:function(a){a.preventDefault(),this.isBeginning&&!this.params.loop||this.slidePrev()},onNextClick:function(a){a.preventDefault(),this.isEnd&&!this.params.loop||this.slideNext()},init:function(){var b,c,d=this,e=d.params.navigation;(e.nextEl||e.prevEl)&&(e.nextEl&&(b=a(e.nextEl),d.params.uniqueNavElements&&"string"==typeof e.nextEl&&1<b.length&&1===d.$el.find(e.nextEl).length&&(b=d.$el.find(e.nextEl))),e.prevEl&&(c=a(e.prevEl),d.params.uniqueNavElements&&"string"==typeof e.prevEl&&1<c.length&&1===d.$el.find(e.prevEl).length&&(c=d.$el.find(e.prevEl))),b&&0<b.length&&b.on("click",d.navigation.onNextClick),c&&0<c.length&&c.on("click",d.navigation.onPrevClick),l.extend(d.navigation,{$nextEl:b,nextEl:b&&b[0],$prevEl:c,prevEl:c&&c[0]}))},destroy:function(){var a=this,b=a.navigation,c=b.$nextEl,d=b.$prevEl;c&&c.length&&(c.off("click",a.navigation.onNextClick),c.removeClass(a.params.navigation.disabledClass)),d&&d.length&&(d.off("click",a.navigation.onPrevClick),d.removeClass(a.params.navigation.disabledClass))}},O={update:function(){var b=this,c=b.rtl,d=b.params.pagination;if(d.el&&b.pagination.el&&b.pagination.$el&&0!==b.pagination.$el.length){var e,f=b.virtual&&b.params.virtual.enabled?b.virtual.slides.length:b.slides.length,g=b.pagination.$el,h=b.params.loop?Math.ceil((f-2*b.loopedSlides)/b.params.slidesPerGroup):b.snapGrid.length;if(b.params.loop?((e=Math.ceil((b.activeIndex-b.loopedSlides)/b.params.slidesPerGroup))>f-1-2*b.loopedSlides&&(e-=f-2*b.loopedSlides),h-1<e&&(e-=h),e<0&&"bullets"!==b.params.paginationType&&(e=h+e)):e=void 0!==b.snapIndex?b.snapIndex:b.activeIndex||0,"bullets"===d.type&&b.pagination.bullets&&0<b.pagination.bullets.length){var i,j,k,l=b.pagination.bullets;if(d.dynamicBullets&&(b.pagination.bulletSize=l.eq(0)[b.isHorizontal()?"outerWidth":"outerHeight"](!0),g.css(b.isHorizontal()?"width":"height",b.pagination.bulletSize*(d.dynamicMainBullets+4)+"px"),1<d.dynamicMainBullets&&void 0!==b.previousIndex&&(b.pagination.dynamicBulletIndex+=e-b.previousIndex,b.pagination.dynamicBulletIndex>d.dynamicMainBullets-1?b.pagination.dynamicBulletIndex=d.dynamicMainBullets-1:b.pagination.dynamicBulletIndex<0&&(b.pagination.dynamicBulletIndex=0)),i=e-b.pagination.dynamicBulletIndex,k=((j=i+(Math.min(l.length,d.dynamicMainBullets)-1))+i)/2),l.removeClass(d.bulletActiveClass+" "+d.bulletActiveClass+"-next "+d.bulletActiveClass+"-next-next "+d.bulletActiveClass+"-prev "+d.bulletActiveClass+"-prev-prev "+d.bulletActiveClass+"-main"),1<g.length)l.each(function(b,c){var f=a(c),g=f.index();g===e&&f.addClass(d.bulletActiveClass),d.dynamicBullets&&(i<=g&&g<=j&&f.addClass(d.bulletActiveClass+"-main"),g===i&&f.prev().addClass(d.bulletActiveClass+"-prev").prev().addClass(d.bulletActiveClass+"-prev-prev"),g===j&&f.next().addClass(d.bulletActiveClass+"-next").next().addClass(d.bulletActiveClass+"-next-next"))});else if(l.eq(e).addClass(d.bulletActiveClass),d.dynamicBullets){for(var m=l.eq(i),n=l.eq(j),o=i;o<=j;o+=1)l.eq(o).addClass(d.bulletActiveClass+"-main");m.prev().addClass(d.bulletActiveClass+"-prev").prev().addClass(d.bulletActiveClass+"-prev-prev"),n.next().addClass(d.bulletActiveClass+"-next").next().addClass(d.bulletActiveClass+"-next-next")}if(d.dynamicBullets){var p=Math.min(l.length,d.dynamicMainBullets+4),q=(b.pagination.bulletSize*p-b.pagination.bulletSize)/2-k*b.pagination.bulletSize,r=c?"right":"left";l.css(b.isHorizontal()?r:"top",q+"px")}}if("fraction"===d.type&&(g.find("."+d.currentClass).text(d.formatFractionCurrent(e+1)),g.find("."+d.totalClass).text(d.formatFractionTotal(h))),"progressbar"===d.type){var s;s=d.progressbarOpposite?b.isHorizontal()?"vertical":"horizontal":b.isHorizontal()?"horizontal":"vertical";var t=(e+1)/h,u=1,v=1;"horizontal"===s?u=t:v=t,g.find("."+d.progressbarFillClass).transform("translate3d(0,0,0) scaleX("+u+") scaleY("+v+")").transition(b.params.speed)}"custom"===d.type&&d.renderCustom?(g.html(d.renderCustom(b,e+1,h)),b.emit("paginationRender",b,g[0])):b.emit("paginationUpdate",b,g[0]),g[b.params.watchOverflow&&b.isLocked?"addClass":"removeClass"](d.lockClass)}},render:function(){var a=this,b=a.params.pagination;if(b.el&&a.pagination.el&&a.pagination.$el&&0!==a.pagination.$el.length){var c=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:a.slides.length,d=a.pagination.$el,e="";if("bullets"===b.type){for(var f=a.params.loop?Math.ceil((c-2*a.loopedSlides)/a.params.slidesPerGroup):a.snapGrid.length,g=0;g<f;g+=1)b.renderBullet?e+=b.renderBullet.call(a,g,b.bulletClass):e+="<"+b.bulletElement+' class="'+b.bulletClass+'"></'+b.bulletElement+">";d.html(e),a.pagination.bullets=d.find("."+b.bulletClass)}"fraction"===b.type&&(e=b.renderFraction?b.renderFraction.call(a,b.currentClass,b.totalClass):'<span class="'+b.currentClass+'"></span> / <span class="'+b.totalClass+'"></span>',d.html(e)),"progressbar"===b.type&&(e=b.renderProgressbar?b.renderProgressbar.call(a,b.progressbarFillClass):'<span class="'+b.progressbarFillClass+'"></span>',d.html(e)),"custom"!==b.type&&a.emit("paginationRender",a.pagination.$el[0])}},init:function(){var b=this,c=b.params.pagination;if(c.el){var d=a(c.el);0!==d.length&&(b.params.uniqueNavElements&&"string"==typeof c.el&&1<d.length&&1===b.$el.find(c.el).length&&(d=b.$el.find(c.el)),"bullets"===c.type&&c.clickable&&d.addClass(c.clickableClass),d.addClass(c.modifierClass+c.type),"bullets"===c.type&&c.dynamicBullets&&(d.addClass(""+c.modifierClass+c.type+"-dynamic"),b.pagination.dynamicBulletIndex=0,c.dynamicMainBullets<1&&(c.dynamicMainBullets=1)),"progressbar"===c.type&&c.progressbarOpposite&&d.addClass(c.progressbarOppositeClass),c.clickable&&d.on("click","."+c.bulletClass,function(c){c.preventDefault();var d=a(this).index()*b.params.slidesPerGroup;b.params.loop&&(d+=b.loopedSlides),b.slideTo(d)}),l.extend(b.pagination,{$el:d,el:d[0]}))}},destroy:function(){var a=this,b=a.params.pagination;if(b.el&&a.pagination.el&&a.pagination.$el&&0!==a.pagination.$el.length){var c=a.pagination.$el;c.removeClass(b.hiddenClass),c.removeClass(b.modifierClass+b.type),a.pagination.bullets&&a.pagination.bullets.removeClass(b.bulletActiveClass),b.clickable&&c.off("click","."+b.bulletClass)}}},P={setTranslate:function(){var a=this;if(a.params.scrollbar.el&&a.scrollbar.el){var b=a.scrollbar,c=a.rtlTranslate,d=a.progress,e=b.dragSize,f=b.trackSize,g=b.$dragEl,h=b.$el,i=a.params.scrollbar,j=e,k=(f-e)*d;c?0<(k=-k)?(j=e-k,k=0):f<-k+e&&(j=f+k):k<0?(j=e+k,k=0):f<k+e&&(j=f-k),a.isHorizontal()?(m.transforms3d?g.transform("translate3d("+k+"px, 0, 0)"):g.transform("translateX("+k+"px)"),g[0].style.width=j+"px"):(m.transforms3d?g.transform("translate3d(0px, "+k+"px, 0)"):g.transform("translateY("+k+"px)"),g[0].style.height=j+"px"),i.hide&&(clearTimeout(a.scrollbar.timeout),h[0].style.opacity=1,a.scrollbar.timeout=setTimeout(function(){h[0].style.opacity=0,h.transition(400)},1e3))}},setTransition:function(a){this.params.scrollbar.el&&this.scrollbar.el&&this.scrollbar.$dragEl.transition(a)},updateSize:function(){var a=this;if(a.params.scrollbar.el&&a.scrollbar.el){var b=a.scrollbar,c=b.$dragEl,d=b.$el;c[0].style.width="",c[0].style.height="";var e,f=a.isHorizontal()?d[0].offsetWidth:d[0].offsetHeight,g=a.size/a.virtualSize,h=g*(f/a.size);e="auto"===a.params.scrollbar.dragSize?f*g:parseInt(a.params.scrollbar.dragSize,10),a.isHorizontal()?c[0].style.width=e+"px":c[0].style.height=e+"px",d[0].style.display=1<=g?"none":"",a.params.scrollbar.hide&&(d[0].style.opacity=0),l.extend(b,{trackSize:f,divider:g,moveDivider:h,dragSize:e}),b.$el[a.params.watchOverflow&&a.isLocked?"addClass":"removeClass"](a.params.scrollbar.lockClass)}},setDragPosition:function(a){var b,c=this,d=c.scrollbar,e=c.rtlTranslate,f=d.$el,g=d.dragSize,h=d.trackSize;b=((c.isHorizontal()?"touchstart"===a.type||"touchmove"===a.type?a.targetTouches[0].pageX:a.pageX||a.clientX:"touchstart"===a.type||"touchmove"===a.type?a.targetTouches[0].pageY:a.pageY||a.clientY)-f.offset()[c.isHorizontal()?"left":"top"]-g/2)/(h-g),b=Math.max(Math.min(b,1),0),e&&(b=1-b);var i=c.minTranslate()+(c.maxTranslate()-c.minTranslate())*b;c.updateProgress(i),c.setTranslate(i),c.updateActiveIndex(),c.updateSlidesClasses()},onDragStart:function(a){var b=this,c=b.params.scrollbar,d=b.scrollbar,e=b.$wrapperEl,f=d.$el,g=d.$dragEl;b.scrollbar.isTouched=!0,a.preventDefault(),a.stopPropagation(),e.transition(100),g.transition(100),d.setDragPosition(a),clearTimeout(b.scrollbar.dragTimeout),f.transition(0),c.hide&&f.css("opacity",1),b.emit("scrollbarDragStart",a)},onDragMove:function(a){var b=this.scrollbar,c=this.$wrapperEl,d=b.$el,e=b.$dragEl;this.scrollbar.isTouched&&(a.preventDefault?a.preventDefault():a.returnValue=!1,b.setDragPosition(a),c.transition(0),d.transition(0),e.transition(0),this.emit("scrollbarDragMove",a))},onDragEnd:function(a){var b=this,c=b.params.scrollbar,d=b.scrollbar.$el;b.scrollbar.isTouched&&(b.scrollbar.isTouched=!1,c.hide&&(clearTimeout(b.scrollbar.dragTimeout),b.scrollbar.dragTimeout=l.nextTick(function(){d.css("opacity",0),d.transition(400)},1e3)),b.emit("scrollbarDragEnd",a),c.snapOnRelease&&b.slideToClosest())},enableDraggable:function(){var a=this;if(a.params.scrollbar.el){var b=a.scrollbar,c=a.touchEventsTouch,e=a.touchEventsDesktop,f=a.params,g=b.$el[0],h=!(!m.passiveListener||!f.passiveListeners)&&{passive:!1,capture:!1},i=!(!m.passiveListener||!f.passiveListeners)&&{passive:!0,capture:!1};m.touch?(g.addEventListener(c.start,a.scrollbar.onDragStart,h),g.addEventListener(c.move,a.scrollbar.onDragMove,h),g.addEventListener(c.end,a.scrollbar.onDragEnd,i)):(g.addEventListener(e.start,a.scrollbar.onDragStart,h),d.addEventListener(e.move,a.scrollbar.onDragMove,h),d.addEventListener(e.end,a.scrollbar.onDragEnd,i))}},disableDraggable:function(){var a=this;if(a.params.scrollbar.el){var b=a.scrollbar,c=a.touchEventsTouch,e=a.touchEventsDesktop,f=a.params,g=b.$el[0],h=!(!m.passiveListener||!f.passiveListeners)&&{passive:!1,capture:!1},i=!(!m.passiveListener||!f.passiveListeners)&&{passive:!0,capture:!1};m.touch?(g.removeEventListener(c.start,a.scrollbar.onDragStart,h),g.removeEventListener(c.move,a.scrollbar.onDragMove,h),g.removeEventListener(c.end,a.scrollbar.onDragEnd,i)):(g.removeEventListener(e.start,a.scrollbar.onDragStart,h),d.removeEventListener(e.move,a.scrollbar.onDragMove,h),d.removeEventListener(e.end,a.scrollbar.onDragEnd,i))}},init:function(){var b=this;if(b.params.scrollbar.el){var c=b.scrollbar,d=b.$el,e=b.params.scrollbar,f=a(e.el);b.params.uniqueNavElements&&"string"==typeof e.el&&1<f.length&&1===d.find(e.el).length&&(f=d.find(e.el));var g=f.find("."+b.params.scrollbar.dragClass);0===g.length&&(g=a('<div class="'+b.params.scrollbar.dragClass+'"></div>'),f.append(g)),l.extend(c,{$el:f,el:f[0],$dragEl:g,dragEl:g[0]}),e.draggable&&c.enableDraggable()}},destroy:function(){this.scrollbar.disableDraggable()}},Q={setTransform:function(b,c){var d=this.rtl,e=a(b),f=d?-1:1,g=e.attr("data-swiper-parallax")||"0",h=e.attr("data-swiper-parallax-x"),i=e.attr("data-swiper-parallax-y"),j=e.attr("data-swiper-parallax-scale"),k=e.attr("data-swiper-parallax-opacity");if(h||i?(h=h||"0",i=i||"0"):this.isHorizontal()?(h=g,i="0"):(i=g,h="0"),h=0<=h.indexOf("%")?parseInt(h,10)*c*f+"%":h*c*f+"px",i=0<=i.indexOf("%")?parseInt(i,10)*c+"%":i*c+"px",null!=k){var l=k-(k-1)*(1-Math.abs(c));e[0].style.opacity=l}if(null==j)e.transform("translate3d("+h+", "+i+", 0px)");else{var m=j-(j-1)*(1-Math.abs(c));e.transform("translate3d("+h+", "+i+", 0px) scale("+m+")")}},setTranslate:function(){var b=this,c=b.$el,d=b.slides,e=b.progress,f=b.snapGrid;c.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(a,c){b.parallax.setTransform(c,e)}),d.each(function(c,d){var g=d.progress;1<b.params.slidesPerGroup&&"auto"!==b.params.slidesPerView&&(g+=Math.ceil(c/2)-e*(f.length-1)),g=Math.min(Math.max(g,-1),1),a(d).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(a,c){b.parallax.setTransform(c,g)})})},setTransition:function(b){void 0===b&&(b=this.params.speed),
this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(c,d){var e=a(d),f=parseInt(e.attr("data-swiper-parallax-duration"),10)||b;0===b&&(f=0),e.transition(f)})}},R={getDistanceBetweenTouches:function(a){if(a.targetTouches.length<2)return 1;var b=a.targetTouches[0].pageX,c=a.targetTouches[0].pageY,d=a.targetTouches[1].pageX,e=a.targetTouches[1].pageY;return Math.sqrt(Math.pow(d-b,2)+Math.pow(e-c,2))},onGestureStart:function(b){var c=this,d=c.params.zoom,e=c.zoom,f=e.gesture;if(e.fakeGestureTouched=!1,e.fakeGestureMoved=!1,!m.gestures){if("touchstart"!==b.type||"touchstart"===b.type&&b.targetTouches.length<2)return;e.fakeGestureTouched=!0,f.scaleStart=R.getDistanceBetweenTouches(b)}f.$slideEl&&f.$slideEl.length||(f.$slideEl=a(b.target).closest(".swiper-slide"),0===f.$slideEl.length&&(f.$slideEl=c.slides.eq(c.activeIndex)),f.$imageEl=f.$slideEl.find("img, svg, canvas"),f.$imageWrapEl=f.$imageEl.parent("."+d.containerClass),f.maxRatio=f.$imageWrapEl.attr("data-swiper-zoom")||d.maxRatio,0!==f.$imageWrapEl.length)?(f.$imageEl.transition(0),c.zoom.isScaling=!0):f.$imageEl=void 0},onGestureChange:function(a){var b=this.params.zoom,c=this.zoom,d=c.gesture;if(!m.gestures){if("touchmove"!==a.type||"touchmove"===a.type&&a.targetTouches.length<2)return;c.fakeGestureMoved=!0,d.scaleMove=R.getDistanceBetweenTouches(a)}d.$imageEl&&0!==d.$imageEl.length&&(c.scale=m.gestures?a.scale*c.currentScale:d.scaleMove/d.scaleStart*c.currentScale,c.scale>d.maxRatio&&(c.scale=d.maxRatio-1+Math.pow(c.scale-d.maxRatio+1,.5)),c.scale<b.minRatio&&(c.scale=b.minRatio+1-Math.pow(b.minRatio-c.scale+1,.5)),d.$imageEl.transform("translate3d(0,0,0) scale("+c.scale+")"))},onGestureEnd:function(a){var b=this.params.zoom,c=this.zoom,d=c.gesture;if(!m.gestures){if(!c.fakeGestureTouched||!c.fakeGestureMoved)return;if("touchend"!==a.type||"touchend"===a.type&&a.changedTouches.length<2&&!x.android)return;c.fakeGestureTouched=!1,c.fakeGestureMoved=!1}d.$imageEl&&0!==d.$imageEl.length&&(c.scale=Math.max(Math.min(c.scale,d.maxRatio),b.minRatio),d.$imageEl.transition(this.params.speed).transform("translate3d(0,0,0) scale("+c.scale+")"),c.currentScale=c.scale,c.isScaling=!1,1===c.scale&&(d.$slideEl=void 0))},onTouchStart:function(a){var b=this.zoom,c=b.gesture,d=b.image;c.$imageEl&&0!==c.$imageEl.length&&(d.isTouched||(x.android&&a.preventDefault(),d.isTouched=!0,d.touchesStart.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,d.touchesStart.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY))},onTouchMove:function(a){var b=this,c=b.zoom,d=c.gesture,e=c.image,f=c.velocity;if(d.$imageEl&&0!==d.$imageEl.length&&(b.allowClick=!1,e.isTouched&&d.$slideEl)){e.isMoved||(e.width=d.$imageEl[0].offsetWidth,e.height=d.$imageEl[0].offsetHeight,e.startX=l.getTranslate(d.$imageWrapEl[0],"x")||0,e.startY=l.getTranslate(d.$imageWrapEl[0],"y")||0,d.slideWidth=d.$slideEl[0].offsetWidth,d.slideHeight=d.$slideEl[0].offsetHeight,d.$imageWrapEl.transition(0),b.rtl&&(e.startX=-e.startX,e.startY=-e.startY));var g=e.width*c.scale,h=e.height*c.scale;if(!(g<d.slideWidth&&h<d.slideHeight)){if(e.minX=Math.min(d.slideWidth/2-g/2,0),e.maxX=-e.minX,e.minY=Math.min(d.slideHeight/2-h/2,0),e.maxY=-e.minY,e.touchesCurrent.x="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,e.touchesCurrent.y="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,!e.isMoved&&!c.isScaling){if(b.isHorizontal()&&(Math.floor(e.minX)===Math.floor(e.startX)&&e.touchesCurrent.x<e.touchesStart.x||Math.floor(e.maxX)===Math.floor(e.startX)&&e.touchesCurrent.x>e.touchesStart.x))return void(e.isTouched=!1);if(!b.isHorizontal()&&(Math.floor(e.minY)===Math.floor(e.startY)&&e.touchesCurrent.y<e.touchesStart.y||Math.floor(e.maxY)===Math.floor(e.startY)&&e.touchesCurrent.y>e.touchesStart.y))return void(e.isTouched=!1)}a.preventDefault(),a.stopPropagation(),e.isMoved=!0,e.currentX=e.touchesCurrent.x-e.touchesStart.x+e.startX,e.currentY=e.touchesCurrent.y-e.touchesStart.y+e.startY,e.currentX<e.minX&&(e.currentX=e.minX+1-Math.pow(e.minX-e.currentX+1,.8)),e.currentX>e.maxX&&(e.currentX=e.maxX-1+Math.pow(e.currentX-e.maxX+1,.8)),e.currentY<e.minY&&(e.currentY=e.minY+1-Math.pow(e.minY-e.currentY+1,.8)),e.currentY>e.maxY&&(e.currentY=e.maxY-1+Math.pow(e.currentY-e.maxY+1,.8)),f.prevPositionX||(f.prevPositionX=e.touchesCurrent.x),f.prevPositionY||(f.prevPositionY=e.touchesCurrent.y),f.prevTime||(f.prevTime=Date.now()),f.x=(e.touchesCurrent.x-f.prevPositionX)/(Date.now()-f.prevTime)/2,f.y=(e.touchesCurrent.y-f.prevPositionY)/(Date.now()-f.prevTime)/2,Math.abs(e.touchesCurrent.x-f.prevPositionX)<2&&(f.x=0),Math.abs(e.touchesCurrent.y-f.prevPositionY)<2&&(f.y=0),f.prevPositionX=e.touchesCurrent.x,f.prevPositionY=e.touchesCurrent.y,f.prevTime=Date.now(),d.$imageWrapEl.transform("translate3d("+e.currentX+"px, "+e.currentY+"px,0)")}}},onTouchEnd:function(){var a=this.zoom,b=a.gesture,c=a.image,d=a.velocity;if(b.$imageEl&&0!==b.$imageEl.length){if(!c.isTouched||!c.isMoved)return c.isTouched=!1,void(c.isMoved=!1);c.isTouched=!1,c.isMoved=!1;var e=300,f=300,g=d.x*e,h=c.currentX+g,i=d.y*f,j=c.currentY+i;0!==d.x&&(e=Math.abs((h-c.currentX)/d.x)),0!==d.y&&(f=Math.abs((j-c.currentY)/d.y));var k=Math.max(e,f);c.currentX=h,c.currentY=j;var l=c.width*a.scale,m=c.height*a.scale;c.minX=Math.min(b.slideWidth/2-l/2,0),c.maxX=-c.minX,c.minY=Math.min(b.slideHeight/2-m/2,0),c.maxY=-c.minY,c.currentX=Math.max(Math.min(c.currentX,c.maxX),c.minX),c.currentY=Math.max(Math.min(c.currentY,c.maxY),c.minY),b.$imageWrapEl.transition(k).transform("translate3d("+c.currentX+"px, "+c.currentY+"px,0)")}},onTransitionEnd:function(){var a=this.zoom,b=a.gesture;b.$slideEl&&this.previousIndex!==this.activeIndex&&(b.$imageEl.transform("translate3d(0,0,0) scale(1)"),b.$imageWrapEl.transform("translate3d(0,0,0)"),a.scale=1,a.currentScale=1,b.$slideEl=void 0,b.$imageEl=void 0,b.$imageWrapEl=void 0)},toggle:function(a){var b=this.zoom;b.scale&&1!==b.scale?b.out():b.in(a)},in:function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=this,t=s.zoom,u=s.params.zoom,v=t.gesture,w=t.image;v.$slideEl||(v.$slideEl=s.clickedSlide?a(s.clickedSlide):s.slides.eq(s.activeIndex),v.$imageEl=v.$slideEl.find("img, svg, canvas"),v.$imageWrapEl=v.$imageEl.parent("."+u.containerClass)),v.$imageEl&&0!==v.$imageEl.length&&(v.$slideEl.addClass(""+u.zoomedSlideClass),void 0===w.touchesStart.x&&b?(c="touchend"===b.type?b.changedTouches[0].pageX:b.pageX,d="touchend"===b.type?b.changedTouches[0].pageY:b.pageY):(c=w.touchesStart.x,d=w.touchesStart.y),t.scale=v.$imageWrapEl.attr("data-swiper-zoom")||u.maxRatio,t.currentScale=v.$imageWrapEl.attr("data-swiper-zoom")||u.maxRatio,b?(q=v.$slideEl[0].offsetWidth,r=v.$slideEl[0].offsetHeight,e=v.$slideEl.offset().left+q/2-c,f=v.$slideEl.offset().top+r/2-d,i=v.$imageEl[0].offsetWidth,j=v.$imageEl[0].offsetHeight,k=i*t.scale,l=j*t.scale,o=-(m=Math.min(q/2-k/2,0)),p=-(n=Math.min(r/2-l/2,0)),(g=e*t.scale)<m&&(g=m),o<g&&(g=o),(h=f*t.scale)<n&&(h=n),p<h&&(h=p)):h=g=0,v.$imageWrapEl.transition(300).transform("translate3d("+g+"px, "+h+"px,0)"),v.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+t.scale+")"))},out:function(){var b=this,c=b.zoom,d=b.params.zoom,e=c.gesture;e.$slideEl||(e.$slideEl=b.clickedSlide?a(b.clickedSlide):b.slides.eq(b.activeIndex),e.$imageEl=e.$slideEl.find("img, svg, canvas"),e.$imageWrapEl=e.$imageEl.parent("."+d.containerClass)),e.$imageEl&&0!==e.$imageEl.length&&(c.scale=1,c.currentScale=1,e.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),e.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),e.$slideEl.removeClass(""+d.zoomedSlideClass),e.$slideEl=void 0)},enable:function(){var a=this,b=a.zoom;if(!b.enabled){b.enabled=!0;var c=!("touchstart"!==a.touchEvents.start||!m.passiveListener||!a.params.passiveListeners)&&{passive:!0,capture:!1};m.gestures?(a.$wrapperEl.on("gesturestart",".swiper-slide",b.onGestureStart,c),a.$wrapperEl.on("gesturechange",".swiper-slide",b.onGestureChange,c),a.$wrapperEl.on("gestureend",".swiper-slide",b.onGestureEnd,c)):"touchstart"===a.touchEvents.start&&(a.$wrapperEl.on(a.touchEvents.start,".swiper-slide",b.onGestureStart,c),a.$wrapperEl.on(a.touchEvents.move,".swiper-slide",b.onGestureChange,c),a.$wrapperEl.on(a.touchEvents.end,".swiper-slide",b.onGestureEnd,c)),a.$wrapperEl.on(a.touchEvents.move,"."+a.params.zoom.containerClass,b.onTouchMove)}},disable:function(){var a=this,b=a.zoom;if(b.enabled){a.zoom.enabled=!1;var c=!("touchstart"!==a.touchEvents.start||!m.passiveListener||!a.params.passiveListeners)&&{passive:!0,capture:!1};m.gestures?(a.$wrapperEl.off("gesturestart",".swiper-slide",b.onGestureStart,c),a.$wrapperEl.off("gesturechange",".swiper-slide",b.onGestureChange,c),a.$wrapperEl.off("gestureend",".swiper-slide",b.onGestureEnd,c)):"touchstart"===a.touchEvents.start&&(a.$wrapperEl.off(a.touchEvents.start,".swiper-slide",b.onGestureStart,c),a.$wrapperEl.off(a.touchEvents.move,".swiper-slide",b.onGestureChange,c),a.$wrapperEl.off(a.touchEvents.end,".swiper-slide",b.onGestureEnd,c)),a.$wrapperEl.off(a.touchEvents.move,"."+a.params.zoom.containerClass,b.onTouchMove)}}},S={loadInSlide:function(b,c){void 0===c&&(c=!0);var d=this,e=d.params.lazy;if(void 0!==b&&0!==d.slides.length){var f=d.virtual&&d.params.virtual.enabled?d.$wrapperEl.children("."+d.params.slideClass+'[data-swiper-slide-index="'+b+'"]'):d.slides.eq(b),g=f.find("."+e.elementClass+":not(."+e.loadedClass+"):not(."+e.loadingClass+")");!f.hasClass(e.elementClass)||f.hasClass(e.loadedClass)||f.hasClass(e.loadingClass)||(g=g.add(f[0])),0!==g.length&&g.each(function(b,g){var h=a(g);h.addClass(e.loadingClass);var i=h.attr("data-background"),j=h.attr("data-src"),k=h.attr("data-srcset"),l=h.attr("data-sizes");d.loadImage(h[0],j||i,k,l,!1,function(){if(null!=d&&d&&(!d||d.params)&&!d.destroyed){if(i?(h.css("background-image",'url("'+i+'")'),h.removeAttr("data-background")):(k&&(h.attr("srcset",k),h.removeAttr("data-srcset")),l&&(h.attr("sizes",l),h.removeAttr("data-sizes")),j&&(h.attr("src",j),h.removeAttr("data-src"))),h.addClass(e.loadedClass).removeClass(e.loadingClass),f.find("."+e.preloaderClass).remove(),d.params.loop&&c){var a=f.attr("data-swiper-slide-index");if(f.hasClass(d.params.slideDuplicateClass)){var b=d.$wrapperEl.children('[data-swiper-slide-index="'+a+'"]:not(.'+d.params.slideDuplicateClass+")");d.lazy.loadInSlide(b.index(),!1)}else{var g=d.$wrapperEl.children("."+d.params.slideDuplicateClass+'[data-swiper-slide-index="'+a+'"]');d.lazy.loadInSlide(g.index(),!1)}}d.emit("lazyImageReady",f[0],h[0])}}),d.emit("lazyImageLoad",f[0],h[0])})}},load:function(){function b(a){if(i){if(e.children("."+f.slideClass+'[data-swiper-slide-index="'+a+'"]').length)return!0}else if(g[a])return!0;return!1}function c(b){return i?a(b).attr("data-swiper-slide-index"):a(b).index()}var d=this,e=d.$wrapperEl,f=d.params,g=d.slides,h=d.activeIndex,i=d.virtual&&f.virtual.enabled,j=f.lazy,k=f.slidesPerView;if("auto"===k&&(k=0),d.lazy.initialImageLoaded||(d.lazy.initialImageLoaded=!0),d.params.watchSlidesVisibility)e.children("."+f.slideVisibleClass).each(function(b,c){var e=i?a(c).attr("data-swiper-slide-index"):a(c).index();d.lazy.loadInSlide(e)});else if(1<k)for(var l=h;l<h+k;l+=1)b(l)&&d.lazy.loadInSlide(l);else d.lazy.loadInSlide(h);if(j.loadPrevNext)if(1<k||j.loadPrevNextAmount&&1<j.loadPrevNextAmount){for(var m=j.loadPrevNextAmount,n=k,o=Math.min(h+n+Math.max(m,n),g.length),p=Math.max(h-Math.max(n,m),0),q=h+k;q<o;q+=1)b(q)&&d.lazy.loadInSlide(q);for(var r=p;r<h;r+=1)b(r)&&d.lazy.loadInSlide(r)}else{var s=e.children("."+f.slideNextClass);0<s.length&&d.lazy.loadInSlide(c(s));var t=e.children("."+f.slidePrevClass);0<t.length&&d.lazy.loadInSlide(c(t))}}},T={LinearSpline:function(a,b){var c,d,e,f,g,h=function(a,b){for(d=-1,c=a.length;1<c-d;)a[e=c+d>>1]<=b?d=e:c=e;return c};return this.x=a,this.y=b,this.lastIndex=a.length-1,this.interpolate=function(a){return a?(g=h(this.x,a),f=g-1,(a-this.x[f])*(this.y[g]-this.y[f])/(this.x[g]-this.x[f])+this.y[f]):0},this},getInterpolateFunction:function(a){var b=this;b.controller.spline||(b.controller.spline=b.params.loop?new T.LinearSpline(b.slidesGrid,a.slidesGrid):new T.LinearSpline(b.snapGrid,a.snapGrid))},setTranslate:function(a,b){function c(a){var b=f.rtlTranslate?-f.translate:f.translate;"slide"===f.params.controller.by&&(f.controller.getInterpolateFunction(a),e=-f.controller.spline.interpolate(-b)),e&&"container"!==f.params.controller.by||(d=(a.maxTranslate()-a.minTranslate())/(f.maxTranslate()-f.minTranslate()),e=(b-f.minTranslate())*d+a.minTranslate()),f.params.controller.inverse&&(e=a.maxTranslate()-e),a.updateProgress(e),a.setTranslate(e,f),a.updateActiveIndex(),a.updateSlidesClasses()}var d,e,f=this,g=f.controller.control;if(Array.isArray(g))for(var h=0;h<g.length;h+=1)g[h]!==b&&g[h]instanceof B&&c(g[h]);else g instanceof B&&b!==g&&c(g)},setTransition:function(a,b){function c(b){b.setTransition(a,e),0!==a&&(b.transitionStart(),b.params.autoHeight&&l.nextTick(function(){b.updateAutoHeight()}),b.$wrapperEl.transitionEnd(function(){f&&(b.params.loop&&"slide"===e.params.controller.by&&b.loopFix(),b.transitionEnd())}))}var d,e=this,f=e.controller.control;if(Array.isArray(f))for(d=0;d<f.length;d+=1)f[d]!==b&&f[d]instanceof B&&c(f[d]);else f instanceof B&&b!==f&&c(f)}},U={makeElFocusable:function(a){return a.attr("tabIndex","0"),a},addElRole:function(a,b){return a.attr("role",b),a},addElLabel:function(a,b){return a.attr("aria-label",b),a},disableEl:function(a){return a.attr("aria-disabled",!0),a},enableEl:function(a){return a.attr("aria-disabled",!1),a},onEnterKey:function(b){var c=this,d=c.params.a11y;if(13===b.keyCode){var e=a(b.target);c.navigation&&c.navigation.$nextEl&&e.is(c.navigation.$nextEl)&&(c.isEnd&&!c.params.loop||c.slideNext(),c.isEnd?c.a11y.notify(d.lastSlideMessage):c.a11y.notify(d.nextSlideMessage)),c.navigation&&c.navigation.$prevEl&&e.is(c.navigation.$prevEl)&&(c.isBeginning&&!c.params.loop||c.slidePrev(),c.isBeginning?c.a11y.notify(d.firstSlideMessage):c.a11y.notify(d.prevSlideMessage)),c.pagination&&e.is("."+c.params.pagination.bulletClass)&&e[0].click()}},notify:function(a){var b=this.a11y.liveRegion;0!==b.length&&(b.html(""),b.html(a))},updateNavigation:function(){var a=this;if(!a.params.loop){var b=a.navigation,c=b.$nextEl,d=b.$prevEl;d&&0<d.length&&(a.isBeginning?a.a11y.disableEl(d):a.a11y.enableEl(d)),c&&0<c.length&&(a.isEnd?a.a11y.disableEl(c):a.a11y.enableEl(c))}},updatePagination:function(){var b=this,c=b.params.a11y;b.pagination&&b.params.pagination.clickable&&b.pagination.bullets&&b.pagination.bullets.length&&b.pagination.bullets.each(function(d,e){var f=a(e);b.a11y.makeElFocusable(f),b.a11y.addElRole(f,"button"),b.a11y.addElLabel(f,c.paginationBulletMessage.replace(/{{index}}/,f.index()+1))})},init:function(){var a=this;a.$el.append(a.a11y.liveRegion);var b,c,d=a.params.a11y;a.navigation&&a.navigation.$nextEl&&(b=a.navigation.$nextEl),a.navigation&&a.navigation.$prevEl&&(c=a.navigation.$prevEl),b&&(a.a11y.makeElFocusable(b),a.a11y.addElRole(b,"button"),a.a11y.addElLabel(b,d.nextSlideMessage),b.on("keydown",a.a11y.onEnterKey)),c&&(a.a11y.makeElFocusable(c),a.a11y.addElRole(c,"button"),a.a11y.addElLabel(c,d.prevSlideMessage),c.on("keydown",a.a11y.onEnterKey)),a.pagination&&a.params.pagination.clickable&&a.pagination.bullets&&a.pagination.bullets.length&&a.pagination.$el.on("keydown","."+a.params.pagination.bulletClass,a.a11y.onEnterKey)},destroy:function(){var a,b,c=this;c.a11y.liveRegion&&0<c.a11y.liveRegion.length&&c.a11y.liveRegion.remove(),c.navigation&&c.navigation.$nextEl&&(a=c.navigation.$nextEl),c.navigation&&c.navigation.$prevEl&&(b=c.navigation.$prevEl),a&&a.off("keydown",c.a11y.onEnterKey),b&&b.off("keydown",c.a11y.onEnterKey),c.pagination&&c.params.pagination.clickable&&c.pagination.bullets&&c.pagination.bullets.length&&c.pagination.$el.off("keydown","."+c.params.pagination.bulletClass,c.a11y.onEnterKey)}},V={init:function(){var a=this;if(a.params.history){if(!e.history||!e.history.pushState)return a.params.history.enabled=!1,void(a.params.hashNavigation.enabled=!0);var b=a.history;b.initialized=!0,b.paths=V.getPathValues(),(b.paths.key||b.paths.value)&&(b.scrollToSlide(0,b.paths.value,a.params.runCallbacksOnInit),a.params.history.replaceState||e.addEventListener("popstate",a.history.setHistoryPopState))}},destroy:function(){this.params.history.replaceState||e.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState:function(){this.history.paths=V.getPathValues(),this.history.scrollToSlide(this.params.speed,this.history.paths.value,!1)},getPathValues:function(){var a=e.location.pathname.slice(1).split("/").filter(function(a){return""!==a}),b=a.length;return{key:a[b-2],value:a[b-1]}},setHistory:function(a,b){if(this.history.initialized&&this.params.history.enabled){var c=this.slides.eq(b),d=V.slugify(c.attr("data-history"));e.location.pathname.includes(a)||(d=a+"/"+d);var f=e.history.state;f&&f.value===d||(this.params.history.replaceState?e.history.replaceState({value:d},null,d):e.history.pushState({value:d},null,d))}},slugify:function(a){return a.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(a,b,c){var d=this;if(b)for(var e=0,f=d.slides.length;e<f;e+=1){var g=d.slides.eq(e);if(V.slugify(g.attr("data-history"))===b&&!g.hasClass(d.params.slideDuplicateClass)){var h=g.index();d.slideTo(h,a,c)}}else d.slideTo(0,a,c)}},W={onHashCange:function(){var a=this,b=d.location.hash.replace("#","");if(b!==a.slides.eq(a.activeIndex).attr("data-hash")){var c=a.$wrapperEl.children("."+a.params.slideClass+'[data-hash="'+b+'"]').index();if(void 0===c)return;a.slideTo(c)}},setHash:function(){var a=this;if(a.hashNavigation.initialized&&a.params.hashNavigation.enabled)if(a.params.hashNavigation.replaceState&&e.history&&e.history.replaceState)e.history.replaceState(null,null,"#"+a.slides.eq(a.activeIndex).attr("data-hash")||"");else{var b=a.slides.eq(a.activeIndex),c=b.attr("data-hash")||b.attr("data-history");d.location.hash=c||""}},init:function(){var b=this;if(!(!b.params.hashNavigation.enabled||b.params.history&&b.params.history.enabled)){b.hashNavigation.initialized=!0;var c=d.location.hash.replace("#","");if(c)for(var f=0,g=b.slides.length;f<g;f+=1){var h=b.slides.eq(f);if((h.attr("data-hash")||h.attr("data-history"))===c&&!h.hasClass(b.params.slideDuplicateClass)){var i=h.index();b.slideTo(i,0,b.params.runCallbacksOnInit,!0)}}b.params.hashNavigation.watchState&&a(e).on("hashchange",b.hashNavigation.onHashCange)}},destroy:function(){this.params.hashNavigation.watchState&&a(e).off("hashchange",this.hashNavigation.onHashCange)}},X={run:function(){var a=this,b=a.slides.eq(a.activeIndex),c=a.params.autoplay.delay;b.attr("data-swiper-autoplay")&&(c=b.attr("data-swiper-autoplay")||a.params.autoplay.delay),a.autoplay.timeout=l.nextTick(function(){a.params.autoplay.reverseDirection?a.params.loop?(a.loopFix(),a.slidePrev(a.params.speed,!0,!0),a.emit("autoplay")):a.isBeginning?a.params.autoplay.stopOnLastSlide?a.autoplay.stop():(a.slideTo(a.slides.length-1,a.params.speed,!0,!0),a.emit("autoplay")):(a.slidePrev(a.params.speed,!0,!0),a.emit("autoplay")):a.params.loop?(a.loopFix(),a.slideNext(a.params.speed,!0,!0),a.emit("autoplay")):a.isEnd?a.params.autoplay.stopOnLastSlide?a.autoplay.stop():(a.slideTo(0,a.params.speed,!0,!0),a.emit("autoplay")):(a.slideNext(a.params.speed,!0,!0),a.emit("autoplay"))},c)},start:function(){var a=this;return void 0===a.autoplay.timeout&&!a.autoplay.running&&(a.autoplay.running=!0,a.emit("autoplayStart"),a.autoplay.run(),!0)},stop:function(){var a=this;return!!a.autoplay.running&&void 0!==a.autoplay.timeout&&(a.autoplay.timeout&&(clearTimeout(a.autoplay.timeout),a.autoplay.timeout=void 0),a.autoplay.running=!1,a.emit("autoplayStop"),!0)},pause:function(a){var b=this;b.autoplay.running&&(b.autoplay.paused||(b.autoplay.timeout&&clearTimeout(b.autoplay.timeout),b.autoplay.paused=!0,0!==a&&b.params.autoplay.waitForTransition?(b.$wrapperEl[0].addEventListener("transitionend",b.autoplay.onTransitionEnd),b.$wrapperEl[0].addEventListener("webkitTransitionEnd",b.autoplay.onTransitionEnd)):(b.autoplay.paused=!1,b.autoplay.run())))}},Y={setTranslate:function(){for(var a=this,b=a.slides,c=0;c<b.length;c+=1){var d=a.slides.eq(c),e=-d[0].swiperSlideOffset;a.params.virtualTranslate||(e-=a.translate);var f=0;a.isHorizontal()||(f=e,e=0);var g=a.params.fadeEffect.crossFade?Math.max(1-Math.abs(d[0].progress),0):1+Math.min(Math.max(d[0].progress,-1),0);d.css({opacity:g}).transform("translate3d("+e+"px, "+f+"px, 0px)")}},setTransition:function(a){var b=this,c=b.slides,d=b.$wrapperEl;if(c.transition(a),b.params.virtualTranslate&&0!==a){var e=!1;c.transitionEnd(function(){if(!e&&b&&!b.destroyed){e=!0,b.animating=!1;for(var a=["webkitTransitionEnd","transitionend"],c=0;c<a.length;c+=1)d.trigger(a[c])}})}}},Z={setTranslate:function(){var b,c=this,d=c.$el,e=c.$wrapperEl,f=c.slides,g=c.width,h=c.height,i=c.rtlTranslate,j=c.size,k=c.params.cubeEffect,l=c.isHorizontal(),m=c.virtual&&c.params.virtual.enabled,o=0;k.shadow&&(l?(0===(b=e.find(".swiper-cube-shadow")).length&&(b=a('<div class="swiper-cube-shadow"></div>'),e.append(b)),b.css({height:g+"px"})):0===(b=d.find(".swiper-cube-shadow")).length&&(b=a('<div class="swiper-cube-shadow"></div>'),d.append(b)));for(var p=0;p<f.length;p+=1){var q=f.eq(p),r=p;m&&(r=parseInt(q.attr("data-swiper-slide-index"),10));var s=90*r,t=Math.floor(s/360);i&&(s=-s,t=Math.floor(-s/360));var u=Math.max(Math.min(q[0].progress,1),-1),v=0,w=0,x=0;r%4==0?(v=4*-t*j,x=0):(r-1)%4==0?(v=0,x=4*-t*j):(r-2)%4==0?(v=j+4*t*j,x=j):(r-3)%4==0&&(v=-j,x=3*j+4*j*t),i&&(v=-v),l||(w=v,v=0);var y="rotateX("+(l?0:-s)+"deg) rotateY("+(l?s:0)+"deg) translate3d("+v+"px, "+w+"px, "+x+"px)";if(u<=1&&-1<u&&(o=90*r+90*u,i&&(o=90*-r-90*u)),q.transform(y),k.slideShadows){var z=l?q.find(".swiper-slide-shadow-left"):q.find(".swiper-slide-shadow-top"),A=l?q.find(".swiper-slide-shadow-right"):q.find(".swiper-slide-shadow-bottom");0===z.length&&(z=a('<div class="swiper-slide-shadow-'+(l?"left":"top")+'"></div>'),q.append(z)),0===A.length&&(A=a('<div class="swiper-slide-shadow-'+(l?"right":"bottom")+'"></div>'),q.append(A)),z.length&&(z[0].style.opacity=Math.max(-u,0)),A.length&&(A[0].style.opacity=Math.max(u,0))}}if(e.css({"-webkit-transform-origin":"50% 50% -"+j/2+"px","-moz-transform-origin":"50% 50% -"+j/2+"px","-ms-transform-origin":"50% 50% -"+j/2+"px","transform-origin":"50% 50% -"+j/2+"px"}),k.shadow)if(l)b.transform("translate3d(0px, "+(g/2+k.shadowOffset)+"px, "+-g/2+"px) rotateX(90deg) rotateZ(0deg) scale("+k.shadowScale+")");else{var B=Math.abs(o)-90*Math.floor(Math.abs(o)/90),C=1.5-(Math.sin(2*B*Math.PI/360)/2+Math.cos(2*B*Math.PI/360)/2),D=k.shadowScale,E=k.shadowScale/C,F=k.shadowOffset;b.transform("scale3d("+D+", 1, "+E+") translate3d(0px, "+(h/2+F)+"px, "+-h/2/E+"px) rotateX(-90deg)")}var G=n.isSafari||n.isUiWebView?-j/2:0;e.transform("translate3d(0px,0,"+G+"px) rotateX("+(c.isHorizontal()?0:o)+"deg) rotateY("+(c.isHorizontal()?-o:0)+"deg)")},setTransition:function(a){var b=this.$el;this.slides.transition(a).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(a),this.params.cubeEffect.shadow&&!this.isHorizontal()&&b.find(".swiper-cube-shadow").transition(a)}},$={setTranslate:function(){for(var b=this,c=b.slides,d=b.rtlTranslate,e=0;e<c.length;e+=1){var f=c.eq(e),g=f[0].progress;b.params.flipEffect.limitRotation&&(g=Math.max(Math.min(f[0].progress,1),-1));var h=-180*g,i=0,j=-f[0].swiperSlideOffset,k=0;if(b.isHorizontal()?d&&(h=-h):(k=j,i=-h,h=j=0),f[0].style.zIndex=-Math.abs(Math.round(g))+c.length,b.params.flipEffect.slideShadows){var l=b.isHorizontal()?f.find(".swiper-slide-shadow-left"):f.find(".swiper-slide-shadow-top"),m=b.isHorizontal()?f.find(".swiper-slide-shadow-right"):f.find(".swiper-slide-shadow-bottom");0===l.length&&(l=a('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"left":"top")+'"></div>'),f.append(l)),0===m.length&&(m=a('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"right":"bottom")+'"></div>'),f.append(m)),l.length&&(l[0].style.opacity=Math.max(-g,0)),m.length&&(m[0].style.opacity=Math.max(g,0))}f.transform("translate3d("+j+"px, "+k+"px, 0px) rotateX("+i+"deg) rotateY("+h+"deg)")}},setTransition:function(a){var b=this,c=b.slides,d=b.activeIndex,e=b.$wrapperEl;if(c.transition(a).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(a),b.params.virtualTranslate&&0!==a){var f=!1;c.eq(d).transitionEnd(function(){if(!f&&b&&!b.destroyed){f=!0,b.animating=!1;for(var a=["webkitTransitionEnd","transitionend"],c=0;c<a.length;c+=1)e.trigger(a[c])}})}}},_={setTranslate:function(){for(var b=this,c=b.width,d=b.height,e=b.slides,f=b.$wrapperEl,g=b.slidesSizesGrid,h=b.params.coverflowEffect,i=b.isHorizontal(),j=b.translate,k=i?c/2-j:d/2-j,l=i?h.rotate:-h.rotate,n=h.depth,o=0,p=e.length;o<p;o+=1){var q=e.eq(o),r=g[o],s=(k-q[0].swiperSlideOffset-r/2)/r*h.modifier,t=i?l*s:0,u=i?0:l*s,v=-n*Math.abs(s),w=i?0:h.stretch*s,x=i?h.stretch*s:0;Math.abs(x)<.001&&(x=0),Math.abs(w)<.001&&(w=0),Math.abs(v)<.001&&(v=0),Math.abs(t)<.001&&(t=0),Math.abs(u)<.001&&(u=0);var y="translate3d("+x+"px,"+w+"px,"+v+"px)  rotateX("+u+"deg) rotateY("+t+"deg)";if(q.transform(y),q[0].style.zIndex=1-Math.abs(Math.round(s)),h.slideShadows){var z=i?q.find(".swiper-slide-shadow-left"):q.find(".swiper-slide-shadow-top"),A=i?q.find(".swiper-slide-shadow-right"):q.find(".swiper-slide-shadow-bottom");0===z.length&&(z=a('<div class="swiper-slide-shadow-'+(i?"left":"top")+'"></div>'),q.append(z)),0===A.length&&(A=a('<div class="swiper-slide-shadow-'+(i?"right":"bottom")+'"></div>'),q.append(A)),z.length&&(z[0].style.opacity=0<s?s:0),A.length&&(A[0].style.opacity=0<-s?-s:0)}}(m.pointerEvents||m.prefixedPointerEvents)&&(f[0].style.perspectiveOrigin=k+"px 50%")},setTransition:function(a){this.slides.transition(a).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(a)}},aa={init:function(){var a=this,b=a.params.thumbs,c=a.constructor;b.swiper instanceof c?(a.thumbs.swiper=b.swiper,l.extend(a.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),l.extend(a.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):l.isObject(b.swiper)&&(a.thumbs.swiper=new c(l.extend({},b.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),a.thumbs.swiperCreated=!0),a.thumbs.swiper.$el.addClass(a.params.thumbs.thumbsContainerClass),a.thumbs.swiper.on("tap",a.thumbs.onThumbClick)},onThumbClick:function(){var b=this,c=b.thumbs.swiper;if(c){var d=c.clickedIndex,e=c.clickedSlide;if(!(e&&a(e).hasClass(b.params.thumbs.slideThumbActiveClass)||null==d)){var f;if(f=c.params.loop?parseInt(a(c.clickedSlide).attr("data-swiper-slide-index"),10):d,b.params.loop){var g=b.activeIndex;b.slides.eq(g).hasClass(b.params.slideDuplicateClass)&&(b.loopFix(),b._clientLeft=b.$wrapperEl[0].clientLeft,g=b.activeIndex);var h=b.slides.eq(g).prevAll('[data-swiper-slide-index="'+f+'"]').eq(0).index(),i=b.slides.eq(g).nextAll('[data-swiper-slide-index="'+f+'"]').eq(0).index();f=void 0===h?i:void 0===i?h:i-g<g-h?i:h}b.slideTo(f)}}},update:function(a){var b=this,c=b.thumbs.swiper;if(c){var d="auto"===c.params.slidesPerView?c.slidesPerViewDynamic():c.params.slidesPerView;if(b.realIndex!==c.realIndex){var e,f=c.activeIndex;if(c.params.loop){c.slides.eq(f).hasClass(c.params.slideDuplicateClass)&&(c.loopFix(),c._clientLeft=c.$wrapperEl[0].clientLeft,f=c.activeIndex);var g=c.slides.eq(f).prevAll('[data-swiper-slide-index="'+b.realIndex+'"]').eq(0).index(),h=c.slides.eq(f).nextAll('[data-swiper-slide-index="'+b.realIndex+'"]').eq(0).index();e=void 0===g?h:void 0===h?g:h-f==f-g?f:h-f<f-g?h:g}else e=b.realIndex;c.visibleSlidesIndexes.indexOf(e)<0&&(c.params.centeredSlides?e=f<e?e-Math.floor(d/2)+1:e+Math.floor(d/2)-1:f<e&&(e=e-d+1),c.slideTo(e,a?0:void 0))}var i=1,j=b.params.thumbs.slideThumbActiveClass;if(1<b.params.slidesPerView&&!b.params.centeredSlides&&(i=b.params.slidesPerView),c.slides.removeClass(j),c.params.loop)for(var k=0;k<i;k+=1)c.$wrapperEl.children('[data-swiper-slide-index="'+(b.realIndex+k)+'"]').addClass(j);else for(var l=0;l<i;l+=1)c.slides.eq(b.realIndex+l).addClass(j)}}},ba=[C,D,E,F,H,J,L,{name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarged:"container"}},create:function(){var a=this;l.extend(a,{mousewheel:{enabled:!1,enable:M.enable.bind(a),disable:M.disable.bind(a),handle:M.handle.bind(a),handleMouseEnter:M.handleMouseEnter.bind(a),handleMouseLeave:M.handleMouseLeave.bind(a),lastScrollTime:l.now()}})},on:{init:function(){this.params.mousewheel.enabled&&this.mousewheel.enable()},destroy:function(){this.mousewheel.enabled&&this.mousewheel.disable()}}},{name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){var a=this;l.extend(a,{navigation:{init:N.init.bind(a),update:N.update.bind(a),destroy:N.destroy.bind(a),onNextClick:N.onNextClick.bind(a),onPrevClick:N.onPrevClick.bind(a)}})},on:{init:function(){this.navigation.init(),this.navigation.update()},toEdge:function(){this.navigation.update()},fromEdge:function(){this.navigation.update()},destroy:function(){this.navigation.destroy()},click:function(b){var c,d=this,e=d.navigation,f=e.$nextEl,g=e.$prevEl;!d.params.navigation.hideOnClick||a(b.target).is(g)||a(b.target).is(f)||(f?c=f.hasClass(d.params.navigation.hiddenClass):g&&(c=g.hasClass(d.params.navigation.hiddenClass)),!0===c?d.emit("navigationShow",d):d.emit("navigationHide",d),f&&f.toggleClass(d.params.navigation.hiddenClass),g&&g.toggleClass(d.params.navigation.hiddenClass))}}},{name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(a){return a},formatFractionTotal:function(a){return a},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){var a=this;l.extend(a,{pagination:{init:O.init.bind(a),render:O.render.bind(a),update:O.update.bind(a),destroy:O.destroy.bind(a),dynamicBulletIndex:0}})},on:{init:function(){this.pagination.init(),this.pagination.render(),this.pagination.update()},activeIndexChange:function(){this.params.loop?this.pagination.update():void 0===this.snapIndex&&this.pagination.update()},snapIndexChange:function(){this.params.loop||this.pagination.update()},slidesLengthChange:function(){this.params.loop&&(this.pagination.render(),this.pagination.update())},snapGridLengthChange:function(){this.params.loop||(this.pagination.render(),this.pagination.update())},destroy:function(){this.pagination.destroy()},click:function(b){var c=this;c.params.pagination.el&&c.params.pagination.hideOnClick&&0<c.pagination.$el.length&&!a(b.target).hasClass(c.params.pagination.bulletClass)&&(!0===c.pagination.$el.hasClass(c.params.pagination.hiddenClass)?c.emit("paginationShow",c):c.emit("paginationHide",c),c.pagination.$el.toggleClass(c.params.pagination.hiddenClass))}}},{name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",
dragClass:"swiper-scrollbar-drag"}},create:function(){var a=this;l.extend(a,{scrollbar:{init:P.init.bind(a),destroy:P.destroy.bind(a),updateSize:P.updateSize.bind(a),setTranslate:P.setTranslate.bind(a),setTransition:P.setTransition.bind(a),enableDraggable:P.enableDraggable.bind(a),disableDraggable:P.disableDraggable.bind(a),setDragPosition:P.setDragPosition.bind(a),onDragStart:P.onDragStart.bind(a),onDragMove:P.onDragMove.bind(a),onDragEnd:P.onDragEnd.bind(a),isTouched:!1,timeout:null,dragTimeout:null}})},on:{init:function(){this.scrollbar.init(),this.scrollbar.updateSize(),this.scrollbar.setTranslate()},update:function(){this.scrollbar.updateSize()},resize:function(){this.scrollbar.updateSize()},observerUpdate:function(){this.scrollbar.updateSize()},setTranslate:function(){this.scrollbar.setTranslate()},setTransition:function(a){this.scrollbar.setTransition(a)},destroy:function(){this.scrollbar.destroy()}}},{name:"parallax",params:{parallax:{enabled:!1}},create:function(){l.extend(this,{parallax:{setTransform:Q.setTransform.bind(this),setTranslate:Q.setTranslate.bind(this),setTransition:Q.setTransition.bind(this)}})},on:{beforeInit:function(){this.params.parallax.enabled&&(this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},init:function(){this.params.parallax.enabled&&this.parallax.setTranslate()},setTranslate:function(){this.params.parallax.enabled&&this.parallax.setTranslate()},setTransition:function(a){this.params.parallax.enabled&&this.parallax.setTransition(a)}}},{name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var a=this,b={enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}};"onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out".split(" ").forEach(function(c){b[c]=R[c].bind(a)}),l.extend(a,{zoom:b});var c=1;Object.defineProperty(a.zoom,"scale",{get:function(){return c},set:function(b){if(c!==b){var d=a.zoom.gesture.$imageEl?a.zoom.gesture.$imageEl[0]:void 0,e=a.zoom.gesture.$slideEl?a.zoom.gesture.$slideEl[0]:void 0;a.emit("zoomChange",b,d,e)}c=b}})},on:{init:function(){this.params.zoom.enabled&&this.zoom.enable()},destroy:function(){this.zoom.disable()},touchStart:function(a){this.zoom.enabled&&this.zoom.onTouchStart(a)},touchEnd:function(a){this.zoom.enabled&&this.zoom.onTouchEnd(a)},doubleTap:function(a){this.params.zoom.enabled&&this.zoom.enabled&&this.params.zoom.toggle&&this.zoom.toggle(a)},transitionEnd:function(){this.zoom.enabled&&this.params.zoom.enabled&&this.zoom.onTransitionEnd()}}},{name:"lazy",params:{lazy:{enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){l.extend(this,{lazy:{initialImageLoaded:!1,load:S.load.bind(this),loadInSlide:S.loadInSlide.bind(this)}})},on:{beforeInit:function(){this.params.lazy.enabled&&this.params.preloadImages&&(this.params.preloadImages=!1)},init:function(){this.params.lazy.enabled&&!this.params.loop&&0===this.params.initialSlide&&this.lazy.load()},scroll:function(){this.params.freeMode&&!this.params.freeModeSticky&&this.lazy.load()},resize:function(){this.params.lazy.enabled&&this.lazy.load()},scrollbarDragMove:function(){this.params.lazy.enabled&&this.lazy.load()},transitionStart:function(){var a=this;a.params.lazy.enabled&&(a.params.lazy.loadOnTransitionStart||!a.params.lazy.loadOnTransitionStart&&!a.lazy.initialImageLoaded)&&a.lazy.load()},transitionEnd:function(){this.params.lazy.enabled&&!this.params.lazy.loadOnTransitionStart&&this.lazy.load()}}},{name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){var a=this;l.extend(a,{controller:{control:a.params.controller.control,getInterpolateFunction:T.getInterpolateFunction.bind(a),setTranslate:T.setTranslate.bind(a),setTransition:T.setTransition.bind(a)}})},on:{update:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},resize:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},observerUpdate:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},setTranslate:function(a,b){this.controller.control&&this.controller.setTranslate(a,b)},setTransition:function(a,b){this.controller.control&&this.controller.setTransition(a,b)}}},{name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}"}},create:function(){var b=this;l.extend(b,{a11y:{liveRegion:a('<span class="'+b.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>')}}),Object.keys(U).forEach(function(a){b.a11y[a]=U[a].bind(b)})},on:{init:function(){this.params.a11y.enabled&&(this.a11y.init(),this.a11y.updateNavigation())},toEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},fromEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},paginationUpdate:function(){this.params.a11y.enabled&&this.a11y.updatePagination()},destroy:function(){this.params.a11y.enabled&&this.a11y.destroy()}}},{name:"history",params:{history:{enabled:!1,replaceState:!1,key:"slides"}},create:function(){var a=this;l.extend(a,{history:{init:V.init.bind(a),setHistory:V.setHistory.bind(a),setHistoryPopState:V.setHistoryPopState.bind(a),scrollToSlide:V.scrollToSlide.bind(a),destroy:V.destroy.bind(a)}})},on:{init:function(){this.params.history.enabled&&this.history.init()},destroy:function(){this.params.history.enabled&&this.history.destroy()},transitionEnd:function(){this.history.initialized&&this.history.setHistory(this.params.history.key,this.activeIndex)}}},{name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){var a=this;l.extend(a,{hashNavigation:{initialized:!1,init:W.init.bind(a),destroy:W.destroy.bind(a),setHash:W.setHash.bind(a),onHashCange:W.onHashCange.bind(a)}})},on:{init:function(){this.params.hashNavigation.enabled&&this.hashNavigation.init()},destroy:function(){this.params.hashNavigation.enabled&&this.hashNavigation.destroy()},transitionEnd:function(){this.hashNavigation.initialized&&this.hashNavigation.setHash()}}},{name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){var a=this;l.extend(a,{autoplay:{running:!1,paused:!1,run:X.run.bind(a),start:X.start.bind(a),stop:X.stop.bind(a),pause:X.pause.bind(a),onTransitionEnd:function(b){a&&!a.destroyed&&a.$wrapperEl&&b.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.autoplay.onTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.autoplay.onTransitionEnd),a.autoplay.paused=!1,a.autoplay.running?a.autoplay.run():a.autoplay.stop())}}})},on:{init:function(){this.params.autoplay.enabled&&this.autoplay.start()},beforeTransitionStart:function(a,b){this.autoplay.running&&(b||!this.params.autoplay.disableOnInteraction?this.autoplay.pause(a):this.autoplay.stop())},sliderFirstMove:function(){this.autoplay.running&&(this.params.autoplay.disableOnInteraction?this.autoplay.stop():this.autoplay.pause())},destroy:function(){this.autoplay.running&&this.autoplay.stop()}}},{name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){l.extend(this,{fadeEffect:{setTranslate:Y.setTranslate.bind(this),setTransition:Y.setTransition.bind(this)}})},on:{beforeInit:function(){var a=this;if("fade"===a.params.effect){a.classNames.push(a.params.containerModifierClass+"fade");var b={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};l.extend(a.params,b),l.extend(a.originalParams,b)}},setTranslate:function(){"fade"===this.params.effect&&this.fadeEffect.setTranslate()},setTransition:function(a){"fade"===this.params.effect&&this.fadeEffect.setTransition(a)}}},{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){l.extend(this,{cubeEffect:{setTranslate:Z.setTranslate.bind(this),setTransition:Z.setTransition.bind(this)}})},on:{beforeInit:function(){var a=this;if("cube"===a.params.effect){a.classNames.push(a.params.containerModifierClass+"cube"),a.classNames.push(a.params.containerModifierClass+"3d");var b={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};l.extend(a.params,b),l.extend(a.originalParams,b)}},setTranslate:function(){"cube"===this.params.effect&&this.cubeEffect.setTranslate()},setTransition:function(a){"cube"===this.params.effect&&this.cubeEffect.setTransition(a)}}},{name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){l.extend(this,{flipEffect:{setTranslate:$.setTranslate.bind(this),setTransition:$.setTransition.bind(this)}})},on:{beforeInit:function(){var a=this;if("flip"===a.params.effect){a.classNames.push(a.params.containerModifierClass+"flip"),a.classNames.push(a.params.containerModifierClass+"3d");var b={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};l.extend(a.params,b),l.extend(a.originalParams,b)}},setTranslate:function(){"flip"===this.params.effect&&this.flipEffect.setTranslate()},setTransition:function(a){"flip"===this.params.effect&&this.flipEffect.setTransition(a)}}},{name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}},create:function(){l.extend(this,{coverflowEffect:{setTranslate:_.setTranslate.bind(this),setTransition:_.setTransition.bind(this)}})},on:{beforeInit:function(){var a=this;"coverflow"===a.params.effect&&(a.classNames.push(a.params.containerModifierClass+"coverflow"),a.classNames.push(a.params.containerModifierClass+"3d"),a.params.watchSlidesProgress=!0,a.originalParams.watchSlidesProgress=!0)},setTranslate:function(){"coverflow"===this.params.effect&&this.coverflowEffect.setTranslate()},setTransition:function(a){"coverflow"===this.params.effect&&this.coverflowEffect.setTransition(a)}}},{name:"thumbs",params:{thumbs:{swiper:null,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){l.extend(this,{thumbs:{swiper:null,init:aa.init.bind(this),update:aa.update.bind(this),onThumbClick:aa.onThumbClick.bind(this)}})},on:{beforeInit:function(){var a=this.params.thumbs;a&&a.swiper&&(this.thumbs.init(),this.thumbs.update(!0))},slideChange:function(){this.thumbs.swiper&&this.thumbs.update()},update:function(){this.thumbs.swiper&&this.thumbs.update()},resize:function(){this.thumbs.swiper&&this.thumbs.update()},observerUpdate:function(){this.thumbs.swiper&&this.thumbs.update()},setTransition:function(a){var b=this.thumbs.swiper;b&&b.setTransition(a)},beforeDestroy:function(){var a=this.thumbs.swiper;a&&this.thumbs.swiperCreated&&a&&a.destroy()}}}];return void 0===B.use&&(B.use=B.Class.use,B.installModule=B.Class.installModule),B.use(ba),B});